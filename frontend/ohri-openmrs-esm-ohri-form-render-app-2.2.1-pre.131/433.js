"use strict";(globalThis.webpackChunk_ohri_openmrs_esm_ohri_form_render_app=globalThis.webpackChunk_ohri_openmrs_esm_ohri_form_render_app||[]).push([[433],{21029:(e,r,n)=>{n.d(r,{Z:()=>s});var t=n(27314),o=n.n(t),i=n(60927),a=n.n(i)()(o());a.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}:root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-openmrs-esm-ohri-form-render__form-render__productiveHeading01___pVYA_{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px)}.-openmrs-esm-ohri-form-render__form-render__productiveHeading02___H8BAW{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0)}.-openmrs-esm-ohri-form-render__form-render__productiveHeading03___MKjwk{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-openmrs-esm-ohri-form-render__form-render__productiveHeading04___GiXKY{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-openmrs-esm-ohri-form-render__form-render__productiveHeading05___HIcYN{font-size:var(--cds-heading-05-font-size, 2rem);font-weight:var(--cds-heading-05-font-weight, 400);line-height:var(--cds-heading-05-line-height, 1.25);letter-spacing:var(--cds-heading-05-letter-spacing, 0)}.-openmrs-esm-ohri-form-render__form-render__productiveHeading06___ViVlr{font-size:var(--cds-heading-06-font-size, 2.625rem);font-weight:var(--cds-heading-06-font-weight, 300);line-height:var(--cds-heading-06-line-height, 1.199);letter-spacing:var(--cds-heading-06-letter-spacing, 0)}.-openmrs-esm-ohri-form-render__form-render__bodyShort01___vvemU{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-openmrs-esm-ohri-form-render__form-render__helperText01___ZksDp{font-size:var(--cds-helper-text-01-font-size, 0.75rem);line-height:var(--cds-helper-text-01-line-height, 1.33333);letter-spacing:var(--cds-helper-text-01-letter-spacing, 0.32px)}.-openmrs-esm-ohri-form-render__form-render__bodyShort02___eZJOU{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-openmrs-esm-ohri-form-render__form-render__bodyLong01___eMEcM{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-openmrs-esm-ohri-form-render__form-render__bodyLong02___iaZhK{font-size:var(--cds-body-02-font-size, 1rem);font-weight:var(--cds-body-02-font-weight, 400);line-height:var(--cds-body-02-line-height, 1.5);letter-spacing:var(--cds-body-02-letter-spacing, 0)}.-openmrs-esm-ohri-form-render__form-render__label01___luxYb{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-openmrs-esm-ohri-form-render__form-render__text02___xfthR{color:#525252}aside{background-color:#fff !important}div[class*=-esm-login__styles__center]>img{width:140px}.tab-12rem>button{width:12rem !important}.tab-14rem>button{width:14rem !important}.tab-16rem>button{width:16rem !important}.cds--overflow-menu>div{width:15rem !important}.-openmrs-esm-ohri-form-render__form-render__mainWrapper___qAZGB{background-color:#fff;padding:16px !important;margin:auto}@media(max-width: 768px){.-openmrs-esm-ohri-form-render__form-render__mainWrapper___qAZGB{max-width:100%;margin-top:1rem}}@media only screen and (min-width: 992px){.-openmrs-esm-ohri-form-render__form-render__mainWrapper___qAZGB{max-width:90%}}.-openmrs-esm-ohri-form-render__form-render__headerText___eGjpJ{font-size:16px;font-stretch:normal;font-style:normal;line-height:1.38;letter-spacing:normal;font-weight:400;padding-bottom:4px;margin:auto}.-openmrs-esm-ohri-form-render__form-render__widgetHeaderContainer___SHi6R{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0 .75rem 1rem}.-openmrs-esm-ohri-form-render__form-render__widgetHeaderContainer___SHi6R>h4:after{content:" ";display:block;width:2rem;padding-top:.188rem;border-bottom:.375rem solid var(--brand-01)}.-openmrs-esm-ohri-form-render__form-render__toggleButtons___KwJJm{width:fit-content;margin:0 .5rem}.-openmrs-esm-ohri-form-render__form-render__formRenderContent___nLMjs{height:84vh}.-openmrs-esm-ohri-form-render__form-render__formRenderContent___nLMjs>div{padding:0}.-openmrs-esm-ohri-form-render__form-render__formRenderContent___nLMjs>div>p{padding:.5rem}.-openmrs-esm-ohri-form-render__form-render__renderTab___chFXM>.-openmrs-esm-ohri-form-render__form-render__tab-form___n5pSO{border:.01rem dotted #6f6f6f !important;padding:0 0 1rem}.-openmrs-esm-ohri-form-render__form-render__formRenderDisplay___r2B2g{padding:0;border:.01rem dotted #6f6f6f !important;margin-top:.5rem}.-openmrs-esm-ohri-form-render__form-render__formRenderDisplay___r2B2g>form>.-openmrs-esm-ohri-form-render__form-render__mainContainer___Zwkd5>.-openmrs-esm-ohri-form-render__form-render__overflowContent___Y8du_{padding-bottom:1rem !important}.-openmrs-esm-ohri-form-render__form-render__formRenderTitle___O86aV{font-size:25px;font-weight:normal;font-stretch:normal;font-style:normal;line-height:1.29;letter-spacing:normal;color:#161616;margin-bottom:16px}.-openmrs-esm-ohri-form-render__form-render__container___ujAtB>#-openmrs-esm-ohri-form-render__form-render__tab-form___n5pSO{padding:0}.-openmrs-esm-ohri-form-render__form-render__renderColumn___PV4ca{border-right:1em}.-openmrs-esm-ohri-form-render__form-render__renderColumn___PV4ca>div>form,.-openmrs-esm-ohri-form-render__form-render__renderColumn___PV4ca>div>.-openmrs-esm-ohri-form-render__form-render__finalJsonSchema___Z2hDB{margin:-1rem;margin-top:-0.5rem}.-openmrs-esm-ohri-form-render__form-render__renderColumn___PV4ca>div>form .-openmrs-esm-ohri-form-render__form-render__renderField___mDxV0{padding-top:.8rem;width:400px}.-openmrs-esm-ohri-form-render__form-render__jsonEditor___Pc2c9,.-openmrs-esm-ohri-form-render__form-render__finalJsonSchema___Z2hDB{border:.01rem dotted #6f6f6f !important}.-openmrs-esm-ohri-form-render__form-render__viewMode___W808s h4{float:left}.-openmrs-esm-ohri-form-render__form-render__viewMode___W808s button{float:right;display:none}.-openmrs-esm-ohri-form-render__form-render__show___pkXbP{display:block !important}.-openmrs-esm-ohri-form-render__form-render__hide___Fq7Ml{display:none}',"",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/root.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./src/render/form-render.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CAHF,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCjCF,yECozBI,2DAAA,CAAA,0DAAA,CAAA,8DAAA,CAAA,mEAAA,CDhzBJ,yECgzBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CD5yBJ,yEC4yBI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDxyBJ,yECwyBI,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CDpyBJ,yECoyBI,+CAAA,CAAA,kDAAA,CAAA,mDAAA,CAAA,sDAAA,CDhyBJ,yECgyBI,mDAAA,CAAA,kDAAA,CAAA,oDAAA,CAAA,sDAAA,CD5xBJ,iEC4xBI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDxxBJ,kECwxBI,sDAAA,CAAA,0DAAA,CAAA,+DAAA,CDpxBJ,iECoxBI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CDhxBJ,gECgxBI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CD5wBJ,gEC4wBI,4CAAA,CAAA,+CAAA,CAAA,+CAAA,CAAA,mDAAA,CDxwBJ,6DCwwBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CDpwBJ,4DACE,aDlEQ,CCqEV,MACG,gCAAA,CAKH,2CACE,WAAA,CAGF,kBACE,sBAAA,CAGF,kBACE,sBAAA,CAGF,kBACE,sBAAA,CAGF,wBACE,sBAAA,CE5FF,iEACE,qBFEc,CEDd,uBAAA,CACA,WAAA,CAGF,yBACE,iEACE,cAAA,CACA,eAAA,CAAA,CAIJ,0CACE,iEACE,aAAA,CAAA,CAIJ,gEACE,cAAA,CACA,mBAAA,CACA,iBAAA,CACA,gBAAA,CACA,qBAAA,CACA,eAAA,CACA,kBAAA,CACA,WAAA,CAGF,2EACE,YAAA,CACA,6BAAA,CACA,kBAAA,CACA,4BAAA,CAGF,oFACE,WAAA,CACA,aAAA,CACA,UAAA,CACA,mBAAA,CACA,2CAAA,CAGF,mEACE,iBAAA,CACA,cAAA,CAGF,uEACE,WAAA,CAGF,2EACE,SAAA,CAGF,6EACE,aAAA,CAGF,6HACE,uCAAA,CACA,gBAAA,CAGF,uEACE,SAAA,CACA,uCAAA,CACA,gBAAA,CAGF,oNACE,8BAAA,CAGF,qEACE,cAAA,CACA,kBAAA,CACA,mBAAA,CACA,iBAAA,CACA,gBAAA,CACA,qBAAA,CACA,aAAA,CACA,kBAAA,CAGF,6HACE,SAAA,CAGF,kEACE,gBAAA,CAGF,sNAEE,YAAA,CACA,kBAAA,CAGF,4IACE,iBAAA,CACA,WAAA,CAGF,qIAEE,uCAAA,CAIF,iEACE,UAAA,CAGF,qEACE,WAAA,CACA,YAAA,CAGF,0DACE,wBAAA,CAGF,0DACE,YAAA",sourceRoot:""}]),a.locals={productiveHeading01:"-openmrs-esm-ohri-form-render__form-render__productiveHeading01___pVYA_",productiveHeading02:"-openmrs-esm-ohri-form-render__form-render__productiveHeading02___H8BAW",productiveHeading03:"-openmrs-esm-ohri-form-render__form-render__productiveHeading03___MKjwk",productiveHeading04:"-openmrs-esm-ohri-form-render__form-render__productiveHeading04___GiXKY",productiveHeading05:"-openmrs-esm-ohri-form-render__form-render__productiveHeading05___HIcYN",productiveHeading06:"-openmrs-esm-ohri-form-render__form-render__productiveHeading06___ViVlr",bodyShort01:"-openmrs-esm-ohri-form-render__form-render__bodyShort01___vvemU",helperText01:"-openmrs-esm-ohri-form-render__form-render__helperText01___ZksDp",bodyShort02:"-openmrs-esm-ohri-form-render__form-render__bodyShort02___eZJOU",bodyLong01:"-openmrs-esm-ohri-form-render__form-render__bodyLong01___eMEcM",bodyLong02:"-openmrs-esm-ohri-form-render__form-render__bodyLong02___iaZhK",label01:"-openmrs-esm-ohri-form-render__form-render__label01___luxYb",text02:"-openmrs-esm-ohri-form-render__form-render__text02___xfthR",mainWrapper:"-openmrs-esm-ohri-form-render__form-render__mainWrapper___qAZGB",headerText:"-openmrs-esm-ohri-form-render__form-render__headerText___eGjpJ",widgetHeaderContainer:"-openmrs-esm-ohri-form-render__form-render__widgetHeaderContainer___SHi6R",toggleButtons:"-openmrs-esm-ohri-form-render__form-render__toggleButtons___KwJJm",formRenderContent:"-openmrs-esm-ohri-form-render__form-render__formRenderContent___nLMjs",renderTab:"-openmrs-esm-ohri-form-render__form-render__renderTab___chFXM","tab-form":"-openmrs-esm-ohri-form-render__form-render__tab-form___n5pSO",formRenderDisplay:"-openmrs-esm-ohri-form-render__form-render__formRenderDisplay___r2B2g",mainContainer:"-openmrs-esm-ohri-form-render__form-render__mainContainer___Zwkd5",overflowContent:"-openmrs-esm-ohri-form-render__form-render__overflowContent___Y8du_",formRenderTitle:"-openmrs-esm-ohri-form-render__form-render__formRenderTitle___O86aV",container:"-openmrs-esm-ohri-form-render__form-render__container___ujAtB",renderColumn:"-openmrs-esm-ohri-form-render__form-render__renderColumn___PV4ca",finalJsonSchema:"-openmrs-esm-ohri-form-render__form-render__finalJsonSchema___Z2hDB",renderField:"-openmrs-esm-ohri-form-render__form-render__renderField___mDxV0",jsonEditor:"-openmrs-esm-ohri-form-render__form-render__jsonEditor___Pc2c9",viewMode:"-openmrs-esm-ohri-form-render__form-render__viewMode___W808s",show:"-openmrs-esm-ohri-form-render__form-render__show___pkXbP",hide:"-openmrs-esm-ohri-form-render__form-render__hide___Fq7Ml"};const s=a},30757:(e,r,n)=>{n.r(r),n.d(r,{default:()=>q});var t=n(20268),o=n.n(t),i=n(87398),a=n(11253),s=n(92653),m=n(91354),d=n.n(m),A=n(31583),_=n.n(A),c=n(47378),l=n.n(c),f=n(55993),p=n.n(f),h=n(54154),u=n.n(h),g=n(8141),C=n.n(g),v=n(21029),y={};y.styleTagTransform=C(),y.setAttributes=p(),y.insert=l().bind(null,"head"),y.domAPI=_(),y.insertStyleElement=u(),d()(v.Z,y);const b=v.Z&&v.Z.locals?v.Z.locals:void 0;var E=n(97101),w=n(56398),B=n(81290),x=n(97989),S=(n(29226),n(56972)),D=n(54924),k=n(22870);function F(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function z(e,r,n,t,o,i,a){try{var s=e[i](a),m=s.value}catch(e){return void n(e)}s.done?r(m):Promise.resolve(m).then(t,o)}function I(e){return function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function a(e){z(i,t,o,a,s,"next",e)}function s(e){z(i,t,o,a,s,"throw",e)}a(void 0)}))}}function M(e,r){var n,t,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,t&&(o=2&i[0]?t.return:i[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,i[1])).done)return o;switch(t=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,t=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=r.call(e,a)}catch(e){i=[6,e],t=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var O,T=(O=I((function(e,r){var n,t,o,i,a;return M(this,(function(s){switch(s.label){case 0:return n=[],t=[],e?(i="string"==typeof e?JSON.parse(e):e,a=[],null===(o=i.pages)||void 0===o||o.forEach((function(e){var o;return null===(o=e.sections)||void 0===o?void 0:o.forEach((function(e){var o;return null===(o=e.questions)||void 0===o?void 0:o.forEach((function(e){var o;a.push(G(e,n,r,t),j(e,n,t)),"obsGroup"===e.type&&(null===(o=e.questions)||void 0===o||o.forEach((function(o){return a.push(G(o,n,r,t),j(e,n,t))})))}))}))})),[4,Promise.all(a)]):[3,2];case 1:return s.sent(),[2,[n,t]];case 2:return[2]}}))})),function(e,r){return O.apply(this,arguments)}),G=function(){var e=I((function(e,r,n,t){var o,i,a,s,m,d,A,_;return M(this,(function(c){switch(c.label){case 0:if(a="custom:(uuid,display,datatype,answers,conceptMappings:(conceptReferenceTerm:(conceptSource:(name),code)))",!(s=e.questionOptions.concept?e.questionOptions.concept:(null===(o=e.questionOptions.conceptMappings)||void 0===o?void 0:o.length)?null===(i=e.questionOptions.conceptMappings)||void 0===i?void 0:i.map((function(e){return"".concat(e.type,":").concat(e.value)})).join(","):""))return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,(0,k.openmrsFetch)("/ws/rest/v1/concept?references=".concat(s,"&v=").concat(a))];case 2:return(m=c.sent().data).results.length?(l=m.results,f=1,d=function(e){if(Array.isArray(e))return e}(l)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(t=n.next()).done)&&(i.push(t.value),!r||i.length!==r);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(l,f)||function(e,r){if(e){if("string"==typeof e)return F(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,r):void 0}}(l,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),"Boolean"===(A=d[0]).datatype.name&&e.questionOptions.answers.forEach((function(n){"cf82933b-3f3f-45e7-a5ab-5d31aaee3da3"!==n.concept&&"488b58ff-64f5-4f8a-8979-fa79940b1594"!==n.concept&&r.push({errorMessage:'❌ concept "'.concat(e.questionOptions.concept,'" of type "boolean" has a non-boolean answer "').concat(n.label,'"'),field:e})})),"Coded"===A.datatype.name&&e.questionOptions.answers.forEach((function(r){A.answers.some((function(e){return e.uuid===r.concept}))||t.push({warningMessage:'⚠️ answer: "'.concat(r.label,'" - "').concat(r.concept,'" does not exist in the response answers but exists in the form'),field:e})})),J(e,A,r,n)):r.push({errorMessage:'❓ Concept "'.concat(e.questionOptions.concept,'" not found'),field:e}),[3,4];case 3:return _=c.sent(),console.error(_),[3,4];case 4:return[3,6];case 5:r.push({errorMessage:"❓ No UUID",field:e}),c.label=6;case 6:return[2]}var l,f}))}));return function(r,n,t,o){return e.apply(this,arguments)}}(),J=function(e,r,n,t){t.hasOwnProperty(r.datatype.name)&&!t[r.datatype.name].includes(e.questionOptions.rendering)&&n.push({errorMessage:"❓ ".concat(e.questionOptions.concept,': datatype "').concat(r.datatype.name,'" doesn\'t match control type "').concat(e.questionOptions.rendering,'"'),field:e}),!t.hasOwnProperty(r.datatype.name)&&n.push({errorMessage:'❓ Untracked datatype "'.concat(r.datatype.name,'"'),field:e})},j=function(e,r,n){var t=e.questionOptions.answers;(null==t?void 0:t.length)&&t.forEach((function(e){var n,t=e.concept?e.concept:(null===(n=e.conceptMappings)||void 0===n?void 0:n.length)?e.conceptMappings.map((function(e){return"".concat(e.type,":").concat(e.value)})).join(","):"";(0,k.openmrsFetch)("/ws/rest/v1/concept?references=".concat(t,"&v=").concat("custom:(uuid,display,datatype,conceptMappings:(conceptReferenceTerm:(conceptSource:(name),code)))")).then((function(n){n.data.results.length||r.push({errorMessage:'❌ concept "'.concat(e.concept,'" not found'),field:e})}))}))};function H(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function N(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(t=n.next()).done)&&(i.push(t.value),!r||i.length!==r);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,r)||function(e,r){if(e){if("string"==typeof e)return H(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const R=function(){var e=(0,D.useTranslation)().t,r=e("formRenderTestTitle","Form Render Test"),n=(0,k.useConfig)(),i=n.patientUuid,a=n.dataTypeToRenderingMap,m=N((0,t.useState)(),2),d=m[0],A=m[1],_=N((0,t.useState)([]),2),c=_[0],l=_[1],f=N((0,t.useState)(!0),2),p=f[0],h=f[1],u=N((0,t.useState)(""),2),g=u[0],C=u[1],v=N((0,t.useState)(""),2),y=v[0],F=v[1],z=N((0,t.useState)(""),2),I=z[0],M=z[1],O=N((0,t.useState)(!1),2),G=O[0],J=O[1],j=N((0,t.useState)(""),2),H=j[0],R=j[1],q=N((0,t.useState)(""),2),P=q[0],Z=q[1],U=N((0,t.useState)(null),2),L=U[0],V=U[1],W=N((0,t.useState)("github"),2),Y=W[0],K=W[1],X=(0,t.useMemo)((function(){return new URLSearchParams(window.location.search).get("json")}),[]),Q=N((0,t.useState)(0),2),$=Q[0],ee=Q[1],re=N((0,t.useState)(localStorage.getItem("forms-render-test:draft-form")),2),ne=re[0],te=re[1],oe=function(e){var r=e.availableIntents||[];r.length?(l(r),h(!1),C("")):(l([]),h(!0),C("*"))},ie=function(e){F("");try{var r="string"==typeof e?JSON.parse(e):e;V(r),A(r),oe(r),localStorage.setItem("forms-render-test:draft-form","string"==typeof e?e:JSON.stringify(e))}catch(e){F(e.toString())}J(!1)},ae=N((0,t.useState)("minimized"),2),se=ae[0],me=ae[1],de=(0,t.useCallback)((function(){me("minimized"===se?"maximized":"minimized")}),[se]);return(0,t.useEffect)((function(){if(ne&&p)try{var e="string"==typeof ne?JSON.parse(ne):ne;oe(e),V(e)}catch(e){}}),[ne]),(0,t.useEffect)((function(){if(X){var e=X.split("?")[0]+"?dl=1";e=e.replace("www.dropbox.com","ohri-form-render.globalhealthapp.net"),fetch(e).then((function(e){return e.json()})).then((function(e){e&&(te(JSON.stringify(e,null,2)),ie(e),ee($+1))})).catch((function(e){console.error(e)}))}}),[X]),o().createElement("div",{className:b.container},o().createElement("div",{className:b.mainWrapper},o().createElement("div",{className:b.formRenderTitle},r),o().createElement("div",{id:"container",style:{display:"flex"}},o().createElement("div",{style:{width:"50%",display:"maximized"==se?"none":"block"}},o().createElement("h4",null,e("jsonSchemaHeader","JSON Schema")),o().createElement("h5",{style:{color:"orange",marginBottom:"1rem"}},y),o().createElement(s.mQc,null,o().createElement(s.tdY,{contained:!0},o().createElement(s.OK9,null,e("jsonInput","JSON Input")),o().createElement(s.OK9,null,e("finalSchema","Final Schema"))),o().createElement(s.nPR,null,o().createElement(s.x45,null,o().createElement(s.l09,{onSubmit:function(e){e.preventDefault(),function(e){J(!1),M("");var r=(0,S.NL)(g,(0,S.UX)(L));try{R(JSON.stringify(r,null,"  ")),A(r)}catch(e){M(e.toString())}J(!0)}()}},o().createElement(x.ZP,{key:$,mode:"json",theme:Y,onChange:ie,name:"jsonText",placeholder:e("jsonText","Enter JSON Text"),showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,width:"100%",className:b.jsonEditor,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,displayIndentGuides:!0,enableSnippets:!1,showLineNumbers:!0,tabSize:2},defaultValue:ne}),o().createElement("div",{className:b.renderField},o().createElement(s.Ltx,{titleText:e("formIntent","Form Intent"),label:e("selectForm","--Select Form Intent"),items:c,itemToString:function(e){return e.display},onChange:function(e){C(e.selectedItem.intent),J(!1)},disabled:p})),o().createElement("div",{className:b.renderField},o().createElement(s.oil,{labelText:e("encounterUuid","Encounter Uuid"),placeholder:e("encounterUuidEntry","Enter Encounter Uuid"),onChange:function(e){return Z(e.target.value)}})),o().createElement("div",{className:b.renderField},o().createElement(s.Ltx,{titleText:e("jsonEditorThe","JSON Editor Theme"),label:Y,items:["monokai","github","tomorrow","kuroir","twilight","xcode","solarized_dark","solarized_light","terminal"],itemToString:function(e){return e},onChange:function(e){K(e.selectedItem)}})),o().createElement(s.zxk,{style:{marginTop:"1em"},renderIcon:E.mt,onClick:function(){T(L,a).then((function(e){return console.log(e)}))}},"Validate Form"),o().createElement(s.zxk,{type:"submit",renderIcon:w.zb,className:"form-group",style:{marginTop:"1em",marginLeft:"10px"},disabled:!g},e("render","Render")))),o().createElement(s.x45,null,o().createElement("div",{className:b.finalJsonSchema},o().createElement(x.ZP,{mode:"json",theme:Y,value:H,name:"json-schema-result",placeholder:"",showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,width:"100%",height:"700px",readOnly:!0,setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,displayIndentGuides:!0,enableSnippets:!1,showLineNumbers:!0,tabSize:2}})))))),o().createElement("div",{style:{width:"maximized"==se?"100%":"50%"}},o().createElement("div",{className:b.viewMode},o().createElement("h4",null,e("generatedForm","Generated Form")),o().createElement(s.zxk,{renderIcon:B.Yq,className:G?b.show:"",onClick:de},"minimized"==se?"Maximize":"Minimize")),o().createElement("div",{className:b.formRenderContent},o().createElement("h5",{style:{color:"orange",marginBottom:"1rem"}},I),o().createElement(s.mQc,null,o().createElement(s.tdY,{contained:!0},o().createElement(s.OK9,null,e("formRender","Form Render"))),o().createElement(s.nPR,null,o().createElement(s.x45,{className:b.renderTab},G?o().createElement("div",{className:b.formRenderDisplay},o().createElement(S.w9,{formJson:d,patientUUID:i,mode:P?"edit":"enter",encounterUUID:P})):o().createElement("p",null,e("submitForm","Please submit the form"))))))))))};function q(){return o().createElement(i.VK,{basename:window.getOpenmrsSpaBase()},o().createElement(a.Z5,null,o().createElement(a.AW,{path:"/form-render-test",element:o().createElement(R,null)})))}}}]);