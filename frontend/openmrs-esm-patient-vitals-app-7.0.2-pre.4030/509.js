"use strict";(globalThis.webpackChunk_openmrs_esm_patient_vitals_app=globalThis.webpackChunk_openmrs_esm_patient_vitals_app||[]).push([[509],{6646:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(272),a=i.n(n),r=i(2609),s=i.n(r)()(a());s.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-vitals__vitals-biometrics-form__productiveHeading03___gQfJx,.-esm-patient-vitals__vitals-biometrics-form__title___QUnD7{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-patient-vitals__vitals-biometrics-form__title___QUnD7{margin:0 .5rem .5rem 0}.-esm-patient-vitals__vitals-biometrics-form__danger___ih6cK{color:#da1e28}.-esm-patient-vitals__vitals-biometrics-form__button___csqIN{height:4rem;display:flex;align-content:flex-start;align-items:baseline;min-width:50%}.-esm-patient-vitals__vitals-biometrics-form__tablet___Edl6x{padding:1.5rem 1rem;background-color:#fff}.-esm-patient-vitals__vitals-biometrics-form__desktop___CgX2Q{padding:0rem}.-esm-patient-vitals__vitals-biometrics-form__form___j0Bgp{display:flex;flex-direction:column;justify-content:space-between;height:calc(100vh - 6rem)}.omrs-breakpoint-lt-desktop .-esm-patient-vitals__vitals-biometrics-form__form___j0Bgp{background-color:#ededed}.omrs-breakpoint-gt-tablet .-esm-patient-vitals__vitals-biometrics-form__form___j0Bgp{background-color:#fff}.-esm-patient-vitals__vitals-biometrics-form__grid___YPjPy{margin:1rem}.-esm-patient-vitals__vitals-biometrics-form__row___jpx5U{margin:.5rem 0rem 0rem;display:flex;flex-flow:row wrap;gap:1rem}.-esm-patient-vitals__vitals-biometrics-form__spacer___bjCAy{margin-top:1rem}.-esm-patient-vitals__vitals-biometrics-form__noteInput___Y2UCm{width:100%}.-esm-patient-vitals__vitals-biometrics-form__errorNotification___lQKIv{margin:.5rem 0}.-esm-patient-vitals__vitals-biometrics-form__errorContainer___Bac6P{margin:1rem}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/vitals-biometrics-form/vitals-biometrics-form.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CClDF,sIC61BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDz1BJ,4DAEE,sBAAA,CAGF,6DACE,aDKO,CCFT,6DACE,WAAA,CACA,YAAA,CACA,wBAAA,CACA,oBAAA,CACA,aAAA,CAGF,6DACE,mBAAA,CACA,qBD3BM,CC8BR,8DACE,YAAA,CAGF,2DACE,YAAA,CACA,qBAAA,CACA,6BAAA,CACA,yBAAA,CAGF,uFACE,wBAAA,CAGF,sFACE,qBD9CM,CCiDR,2DACE,WAAA,CAGF,0DACE,sBAAA,CACA,YAAA,CACA,kBAAA,CACA,QAAA,CAGF,6DACE,eAAA,CAGF,gEACE,UAAA,CAGF,wEACE,cAAA,CAGF,qEACE,WAAA",sourceRoot:""}]),s.locals={productiveHeading03:"-esm-patient-vitals__vitals-biometrics-form__productiveHeading03___gQfJx",title:"-esm-patient-vitals__vitals-biometrics-form__title___QUnD7",danger:"-esm-patient-vitals__vitals-biometrics-form__danger___ih6cK",button:"-esm-patient-vitals__vitals-biometrics-form__button___csqIN",tablet:"-esm-patient-vitals__vitals-biometrics-form__tablet___Edl6x",desktop:"-esm-patient-vitals__vitals-biometrics-form__desktop___CgX2Q",form:"-esm-patient-vitals__vitals-biometrics-form__form___j0Bgp",grid:"-esm-patient-vitals__vitals-biometrics-form__grid___YPjPy",row:"-esm-patient-vitals__vitals-biometrics-form__row___jpx5U",spacer:"-esm-patient-vitals__vitals-biometrics-form__spacer___bjCAy",noteInput:"-esm-patient-vitals__vitals-biometrics-form__noteInput___Y2UCm",errorNotification:"-esm-patient-vitals__vitals-biometrics-form__errorNotification___lQKIv",errorContainer:"-esm-patient-vitals__vitals-biometrics-form__errorContainer___Bac6P"};const o=s},8956:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(272),a=i.n(n),r=i(2609),s=i.n(r)()(a());s.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-vitals__vitals-biometrics-input__label01___fxFPP,.-esm-patient-vitals__vitals-biometrics-input__label___whuuP{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-patient-vitals__vitals-biometrics-input__bodyLong01___HtCqM,.-esm-patient-vitals__vitals-biometrics-input__textarea___d5tte{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-patient-vitals__vitals-biometrics-input__productiveHeading04___KQhno,.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5,.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-patient-vitals__vitals-biometrics-input__container___JjP0j{width:11.625rem;border-bottom:1px solid #8d8d8d;margin-bottom:.5rem}.-esm-patient-vitals__vitals-biometrics-input__label___whuuP{color:#525252;margin-bottom:.5rem}.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H{border:none;text-align:center;padding:0;color:#161616}.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H .cds--number input[type="number"]{border:none !important;text-align:center;font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0);font-family:ibm plex sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif;min-width:auto !important}.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H .cds--number--nosteppers input[type="number"]{padding-right:1rem !important}.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H ::placeholder{color:#a8a8a8}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5{height:4.875rem;display:flex;justify-content:center;flex-direction:column;text-align:center;color:#525252;background-color:#f4f4f4}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.-esm-patient-vitals__vitals-biometrics-input__focused___PbP7o{outline:2px solid #0f62fe}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.-esm-patient-vitals__vitals-biometrics-input__focused___PbP7o input{outline:none !important}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.-esm-patient-vitals__vitals-biometrics-input__focused___PbP7o input[data-invalid]:not(:focus){outline:none}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.-esm-patient-vitals__vitals-biometrics-input__focused___PbP7o svg{display:none}.omrs-breakpoint-lt-desktop .-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5{background-color:#fff}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.red{background-color:#ffd7d9}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.red input{background-color:#ffd7d9}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.green{background-color:#a7f0ba}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.green input{background-color:#a7f0ba}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.yellow{background-color:#fcf4d6}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.yellow input{background-color:#fcf4d6}.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H svg{display:none}.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H input[data-invalid]:not(:focus){outline:none !important}.-esm-patient-vitals__vitals-biometrics-input__textarea___d5tte{border:none;text-align:left}.-esm-patient-vitals__vitals-biometrics-input__textarea___d5tte textarea{border-bottom:none}.-esm-patient-vitals__vitals-biometrics-input__textarea___d5tte textarea:focus{outline:none}.-esm-patient-vitals__vitals-biometrics-input__centered___j1SEm{display:flex;flex-direction:row;align-items:center;text-align:center;margin:0;padding:0}.-esm-patient-vitals__vitals-biometrics-input__unitName___Rq1MA{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252;margin-top:.5rem}.-esm-patient-vitals__vitals-biometrics-input__invalidInputError___mly_U{max-width:11rem;color:#da1e28;margin-bottom:.5rem}.-esm-patient-vitals__vitals-biometrics-input__layer___zLTik{width:100%}.-esm-patient-vitals__vitals-biometrics-input__labelContainer___QWa8X{display:flex;justify-content:space-between;align-items:center}.-esm-patient-vitals__vitals-biometrics-input__invalidInput___s_o1F{outline:2px solid #da1e28}.-esm-patient-vitals__vitals-biometrics-input__invalidInput___s_o1F.-esm-patient-vitals__vitals-biometrics-input__focused___PbP7o{border:none}.-esm-patient-vitals__vitals-biometrics-input__invalidInputIcon___iNfZl svg{color:#da1e28}.-esm-patient-vitals__vitals-biometrics-input__critical-value___rq6_n{background-color:#fff1f1}.-esm-patient-vitals__vitals-biometrics-input__critical-value___rq6_n .-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H svg{display:none}.-esm-patient-vitals__vitals-biometrics-input__critical-value___rq6_n .-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H input{background-color:#fff1f1}.-esm-patient-vitals__vitals-biometrics-input__critical-value___rq6_n .-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H input[data-invalid]:not(:focus){outline:none}.-esm-patient-vitals__vitals-biometrics-input__critically-low___lZYh0::after,.-esm-patient-vitals__vitals-biometrics-input__critically-high___EWkB8::after,.-esm-patient-vitals__vitals-biometrics-input__low___hxzKT::after,.-esm-patient-vitals__vitals-biometrics-input__high___oxDFD::after{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);color:#525252}.-esm-patient-vitals__vitals-biometrics-input__low___hxzKT::after{content:" ↓"}.-esm-patient-vitals__vitals-biometrics-input__critically-low___lZYh0::after{content:" ↓↓"}.-esm-patient-vitals__vitals-biometrics-input__high___oxDFD::after{content:" ↑"}.-esm-patient-vitals__vitals-biometrics-input__critically-high___EWkB8::after{content:" ↑↑"}.-esm-patient-vitals__vitals-biometrics-input__inputInTabletView___ERAUV.-esm-patient-vitals__vitals-biometrics-input__inputWithAbnormalValue___zDuMi .-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5{background-color:#ffd7d9}.-esm-patient-vitals__vitals-biometrics-input__inputInTabletView___ERAUV.-esm-patient-vitals__vitals-biometrics-input__inputWithAbnormalValue___zDuMi .-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5 .-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H input{background-color:#ffd7d9;outline:none}.-esm-patient-vitals__vitals-biometrics-input__readonly___eIXit{cursor:default}.omrs-breakpoint-lt-desktop .-esm-patient-vitals__vitals-biometrics-input__readonly___eIXit{background-color:#f4f4f4}.omrs-breakpoint-gt-tablet .-esm-patient-vitals__vitals-biometrics-input__readonly___eIXit{background-color:#fff}',"",{version:3,sources:["webpack://./src/vitals-biometrics-form/vitals-biometrics-input.scss","webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/colors/index.scss"],names:[],mappings:"AAAA,MCoDA,mBACE,CAAA,mBACA,CAAA,mBACA,CAAA,4HDlDF,gDE61BI,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CAAA,kIFz1BJ,gDEy1BI,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CAAA,oNFr1BJ,kDEq1BI,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CAAA,iEFj1BJ,eACE,CAAA,+BACA,CAAA,mBGEW,CAAA,6DHEb,aClBU,CAAA,mBEgBG,CAAA,mEHQb,WACE,CAAA,iBAEA,CAAA,SACA,CAAA,aC7BM,CAAA,qGDiCN,sBACE,CAAA,iBACA,CAAA,kDE2zBA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CAAA,mGFzzBA,CAAA,yBACA,CAAA,iHAGF,6BACE,CAAA,iFAGF,aC3CQ,CAAA,sEDgDV,eAEE,CAAA,YACA,CAAA,sBACA,CAAA,qBACA,CAAA,iBACA,CAAA,aCvDQ,CAAA,wBALF,CAAA,oIDgEN,yBACE,CAAA,0IAEA,uBACE,CAAA,oKAGF,YACE,CAAA,wIAGF,YACE,CAAA,kGAKN,qBChFQ,CAAA,0EDqFN,wBIOO,CAAA,gFJJL,wBIIK,CAAA,4EJCP,wBIzCS,CAAA,kFJ4CP,wBI5CO,CAAA,6EJiDT,wBIqBU,CAAA,mFJnBP,wBImBO,CAAA,uEJZV,YACE,CAAA,mGAGF,uBACE,CAAA,gEAIJ,WACE,CAAA,eAEA,CAAA,yEAEA,kBACE,CAAA,+EAEA,YACE,CAAA,gEAKN,YACE,CAAA,kBACA,CAAA,kBACA,CAAA,iBACA,CAAA,QACA,CAAA,SACA,CAAA,gEAGF,wDEmtBI,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CAAA,aD71BM,CAAA,gBEgBG,CAAA,yEHgIb,eACE,CAAA,aClIO,CAAA,mBECI,CAAA,6DHsIb,UACE,CAAA,sEAGF,YACE,CAAA,6BACA,CAAA,kBACA,CAAA,oEAGF,yBACE,CAAA,kIAEA,WACE,CAAA,4EAKF,aC1JO,CAAA,sED+JT,wBIvFS,CAAA,6IJ0FL,YACE,CAAA,+IAGF,wBI9FK,CAAA,yKJkGL,YACE,CAAA,gSAOJ,2DE4pBE,CAAA,0DAAA,CAAA,8DAAA,CAAA,mEAAA,CAAA,aD71BM,CAAA,kEDuMV,YACE,CAAA,6EAGF,aACE,CAAA,mEAGF,YACE,CAAA,8EAGF,aACE,CAAA,4NAKE,wBIjIK,CAAA,qSJqID,wBIrIC,CAAA,YJuIC,CAAA,gEAOV,cACE,CAAA,4FAGF,wBIrMU,CAAA,2FJyMV,qBIzHU",sourceRoot:""}]),s.locals={label01:"-esm-patient-vitals__vitals-biometrics-input__label01___fxFPP",label:"-esm-patient-vitals__vitals-biometrics-input__label___whuuP",bodyLong01:"-esm-patient-vitals__vitals-biometrics-input__bodyLong01___HtCqM",textarea:"-esm-patient-vitals__vitals-biometrics-input__textarea___d5tte",productiveHeading04:"-esm-patient-vitals__vitals-biometrics-input__productiveHeading04___KQhno",inputContainer:"-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5",numberInput:"-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H",container:"-esm-patient-vitals__vitals-biometrics-input__container___JjP0j",focused:"-esm-patient-vitals__vitals-biometrics-input__focused___PbP7o",centered:"-esm-patient-vitals__vitals-biometrics-input__centered___j1SEm",unitName:"-esm-patient-vitals__vitals-biometrics-input__unitName___Rq1MA",invalidInputError:"-esm-patient-vitals__vitals-biometrics-input__invalidInputError___mly_U",layer:"-esm-patient-vitals__vitals-biometrics-input__layer___zLTik",labelContainer:"-esm-patient-vitals__vitals-biometrics-input__labelContainer___QWa8X",invalidInput:"-esm-patient-vitals__vitals-biometrics-input__invalidInput___s_o1F",invalidInputIcon:"-esm-patient-vitals__vitals-biometrics-input__invalidInputIcon___iNfZl","critical-value":"-esm-patient-vitals__vitals-biometrics-input__critical-value___rq6_n","critically-low":"-esm-patient-vitals__vitals-biometrics-input__critically-low___lZYh0","critically-high":"-esm-patient-vitals__vitals-biometrics-input__critically-high___EWkB8",low:"-esm-patient-vitals__vitals-biometrics-input__low___hxzKT",high:"-esm-patient-vitals__vitals-biometrics-input__high___oxDFD",inputInTabletView:"-esm-patient-vitals__vitals-biometrics-input__inputInTabletView___ERAUV",inputWithAbnormalValue:"-esm-patient-vitals__vitals-biometrics-input__inputWithAbnormalValue___zDuMi",readonly:"-esm-patient-vitals__vitals-biometrics-input__readonly___eIXit"};const o=s},4509:(e,t,i)=>{i.r(t),i.d(t,{default:()=>W});var n=i(268),a=i.n(n),r=i(3955),s=i(4924),o=i(195),l=i(8883),_=i(9716),c=i(2870),u=i(537),m=i.n(u);function A(e,t,i){var n=null==e?void 0:e.find((function(e){return e.uuid===t}));return void 0===i||""===i||void 0===n||!m()(null==n?void 0:n.lowAbsolute)||!m()(null==n?void 0:n.hiAbsolute)||Number(i)>=Number(n.lowAbsolute)&&Number(i)<=Number(n.hiAbsolute)}var p=i(9454),d=i(2779),v=i.n(d),b=i(6615),g=i(321),f=i.n(g),C=i(1195),h=i.n(C),E=i(3275),y=i.n(E),w=i(7162),B=i.n(w),I=i(2094),k=i.n(I),x=i(757),U=i.n(x),D=i(8956),R={};R.styleTagTransform=U(),R.setAttributes=B(),R.insert=y().bind(null,"head"),R.domAPI=h(),R.insertStyleElement=k(),f()(D.Z,R);const P=D.Z&&D.Z.locals?D.Z.locals:void 0;function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function S(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function N(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),n.forEach((function(t){S(e,t,i[t])}))}return e}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r=[],s=!0,o=!1;try{for(i=i.call(e);!(s=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==i.return||i.return()}finally{if(o)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?F(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const q=function(e){var t,i,o=e.control,l=e.fieldProperties,u=e.fieldStyles,m=e.fieldWidth,A=e.interpretation,d=e.isValueWithinReferenceRange,g=void 0===d||d,f=e.label,C=e.muacColorCode,h=e.placeholder,E=e.readOnly,y=e.showErrorMessage,w=e.unitSymbol,B=e.useMuacColors,I=function(e){M(e)},k=(0,s.useTranslation)().t,x=(0,n.useId)(),U="tablet"===(0,c.useLayoutType)(),D=G((0,n.useState)(!1),2),R=D[0],F=D[1],q=G((0,n.useState)(!1),2),J=q[0],M=q[1],z=!J&&A&&["critically_low","critically_high","high","low"].includes(A),H=Boolean(y&&(!g||R)),V=H?P.invalidInput:"",j=v()(P.container,(S(t={},P.inputInTabletView,U),S(t,P.inputWithAbnormalValue,z),t)),W=v()(P.inputContainer,(S(i={},P["critical-value"],z),S(i,P.focused,J),S(i,P.readonly,E),S(i,C,B),S(i,V,!0),i));return a().createElement(a().Fragment,null,a().createElement("div",{className:j,style:{width:m}},a().createElement("section",{className:P.labelContainer},a().createElement("span",{className:P.label},f),Boolean(z)?a().createElement("span",{className:P[A.replace("_","-")],title:k("abnormalValue","Abnormal value")}):null,H?a().createElement("span",{className:P.invalidInputIcon},a().createElement(b.v3,null)):null),a().createElement("section",{className:W,style:N({},u)},a().createElement("div",{className:P.centered},l.map((function(e){if("number"===e.type){var t=v()(P.numberInput,e.className);return a().createElement(n.Fragment,{key:e.id},a().createElement(c.ResponsiveWrapper,null,a().createElement(r.Qr,{name:e.id,control:o,render:function(i){var n,r,s=i.field,o=s.onChange,l=s.ref,c=s.value;return a().createElement(_.Y2U,{allowEmpty:!0,className:t,defaultValue:"",disableWheel:!0,hideSteppers:!0,id:"".concat(x,"-").concat(e.id),max:null!==(n=e.max)&&void 0!==n?n:void 0,min:null!==(r=e.min)&&void 0!==r?r:void 0,name:e.name,onBlur:function(){return I(!1)},onChange:function(e){return function(e,t){F(!(Number(e)||""===e)),R||t(""===e?void 0:Number(e))}(e.target.value,o)},onFocus:function(){return I(!0)},placeholder:(0,p.IZ)(e.name),readOnly:E,ref:l,style:N({},u),title:e.name,type:e.type,value:c})}})),null==e?void 0:e.separator)}if("textarea"===e.type)return a().createElement(c.ResponsiveWrapper,{key:e.id},a().createElement(r.Qr,{name:e.id,control:o,render:function(t){var i=t.field,n=i.onChange,r=i.ref,s=i.value;return a().createElement(_.Kx8,{className:P.textarea,id:"".concat(x,"-").concat(e.id),labelText:"",maxCount:100,name:e.name,onBlur:function(){return I(!1)},onChange:n,onFocus:function(){return I(!0)},placeholder:h,ref:r,rows:2,style:N({},u),title:e.name,value:s})}}))}))),Boolean(w)&&a().createElement("p",{className:P.unitName},w))),H&&a().createElement(_.lXp,{className:P.invalidInputError},k("validationInputError","Value must be between {{min}} and {{max}}",{min:l[0].min,max:l[0].max})))};var J=i(6646),M={};M.styleTagTransform=U(),M.setAttributes=B(),M.insert=y().bind(null,"head"),M.domAPI=h(),M.insertStyleElement=k(),f()(J.Z,M);const z=J.Z&&J.Z.locals?J.Z.locals:void 0;function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r=[],s=!0,o=!1;try{for(i=i.call(e);!(s=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==i.return||i.return()}finally{if(o)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?H(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var j=o.z.object({systolicBloodPressure:o.z.number(),diastolicBloodPressure:o.z.number(),respiratoryRate:o.z.number(),oxygenSaturation:o.z.number(),pulse:o.z.number(),temperature:o.z.number(),generalPatientNote:o.z.string(),weight:o.z.number(),height:o.z.number(),midUpperArmCircumference:o.z.number(),computedBodyMassIndex:o.z.number()}).partial().refine((function(e){return Object.values(e).some((function(e){return Boolean(e)}))}),{message:"Please fill at least one field",path:["oneFieldRequired"]});const W=function(e){var t,i,o,u,m,d,v,b,g,f,C,h,E,y,w,B,I,k,x,U,D,R=e.patientUuid,P=e.closeWorkspace,F=e.closeWorkspaceWithSavedChanges,S=e.promptBeforeClosing,N=(0,s.useTranslation)().t,G="tablet"===(0,c.useLayoutType)(),J=(0,c.useConfig)(),M=J.biometrics,H=J.vitals.useMuacColors,W=(0,c.useSession)(),T=(0,c.usePatient)(R),X=(0,c.useVisit)(R).currentVisit,O=(0,p.l4)(),Q=O.data,K=O.conceptMetadata,Y=O.conceptRanges,Z=O.isLoading,L=V((0,n.useState)(!1),2),$=L[0],ee=L[1],te=V((0,n.useState)(!1),2),ie=te[0],ne=te[1],ae=V((0,n.useState)(""),2),re=ae[0],se=ae[1],oe=V((0,n.useState)(!1),2),le=oe[0],_e=oe[1],ce=V((0,n.useState)(!1),2),ue=ce[0],me=ce[1],Ae=(0,r.cI)({mode:"all",resolver:(0,l.F)(j)}),pe=Ae.control,de=Ae.handleSubmit,ve=Ae.watch,be=Ae.setValue,ge=Ae.formState.isDirty;(0,n.useEffect)((function(){S((function(){return ge}))}),[ge]);var fe=null==X||null===(i=X.encounters)||void 0===i||null===(t=i.find((function(e){var t;return(null==e||null===(t=e.form)||void 0===t?void 0:t.uuid)===J.vitals.formUuid})))||void 0===t?void 0:t.uuid,Ce=ve("midUpperArmCircumference"),he=ve("systolicBloodPressure"),Ee=ve("diastolicBloodPressure"),ye=ve("respiratoryRate"),we=ve("oxygenSaturation"),Be=ve("temperature"),Ie=ve("pulse"),ke=ve("weight"),xe=ve("height");(0,n.useEffect)((function(){var e,t,i;!function(e,t,i){switch(!0){case e<=5&&t<=11.5&&t>0:i("red");break;case e<5&&t>11.5&&t<12.5:i("yellow");break;case e<5&&t>12.5:i("green");break;case e>5&&e<10&&t<=13.5&&t>0:i("red");break;case e>5&&e<10&&t>13.5&&t<14.5:i("yellow");break;case e>5&&e<10&&t>14.5:i("green");break;case e>10&&e<18&&t<=16.5&&t>0:i("red");break;case e>10&&e<18&&t>16.5&&t<19:i("yellow");break;case e>10&&e<18&&t>19:i("green");break;case e>18&&t<=19.5&&t>0:i("red");break;case e>18&&t>19&&t<22:i("yellow");break;case e>18&&t>22:i("green")}}((t=(0,c.age)(null===(e=T.patient)||void 0===e?void 0:e.birthDate),i=t.match(/\d+/g),i?parseInt(i[0],10):null),Ce,se)}),[ve,null===(o=T.patient)||void 0===o?void 0:o.birthDate,Ce]),(0,n.useEffect)((function(){if(xe&&ke){var e=function(e,t){if(e&&t)return e>0&&t>0?Number((e/Math.pow(t/100,2)).toFixed(1)):void 0}(ke,xe);be("computedBodyMassIndex",e)}}),[ke,xe,be]);var Ue,De,Re,Pe,Fe,Se,Ne,Ge,qe,Je=(0,n.useMemo)((function(){return{midUpperArmCircumferenceRange:Y.get(J.concepts.midUpperArmCircumferenceUuid),diastolicBloodPressureRange:Y.get(J.concepts.diastolicBloodPressureUuid),systolicBloodPressureRange:Y.get(J.concepts.systolicBloodPressureUuid),oxygenSaturationRange:Y.get(J.concepts.oxygenSaturationUuid),respiratoryRateRange:Y.get(J.concepts.respiratoryRateUuid),temperatureRange:Y.get(J.concepts.temperatureUuid),weightRange:Y.get(J.concepts.weightUuid),heightRange:Y.get(J.concepts.heightUuid),pulseRange:Y.get(J.concepts.pulseUuid)}}),[Y,J.concepts.diastolicBloodPressureUuid,J.concepts.heightUuid,J.concepts.midUpperArmCircumferenceUuid,J.concepts.oxygenSaturationUuid,J.concepts.pulseUuid,J.concepts.respiratoryRateUuid,J.concepts.systolicBloodPressureUuid,J.concepts.temperatureUuid,J.concepts.weightUuid]),Me=(0,n.useCallback)((function(e){var t=e;me(!0),_e(!1),(null==e?void 0:e.computedBodyMassIndex)&&delete e.computedBodyMassIndex;var i=Object.entries(t).filter((function(e){var t=V(e,2)[1];return Boolean(t)})).every((function(e){var t=V(e,2),i=t[0],n=t[1];return A(K,J.concepts["".concat(i,"Uuid")],n)}));if(i){var n;ne(!0),me(!1);var a=new AbortController;(0,p.F9)(J.vitals.encounterTypeUuid,J.vitals.formUuid,J.concepts,R,t,new Date,a,null==W||null===(n=W.sessionLocation)||void 0===n?void 0:n.uuid).then((function(e){201===e.status&&((0,p.$2)(),F(),(0,c.showSnackbar)({isLowContrast:!0,kind:"success",title:N("vitalsAndBiometricsRecorded","Vitals and Biometrics saved"),subtitle:N("vitalsAndBiometricsNowAvailable","They are now visible on the Vitals and Biometrics page")}))})).catch((function(e){ne(!1),(0,c.createErrorHandler)(),(0,c.showSnackbar)({title:N("vitalsAndBiometricsSaveError","Error saving vitals and biometrics"),kind:"error",isLowContrast:!1,subtitle:N("checkForValidity","Some of the values entered are invalid")})})).finally((function(){a.abort()}))}else ee(!0)}),[]);return J.vitals.useFormEngine?a().createElement(c.ExtensionSlot,{name:"form-widget-slot",state:{view:"form",formUuid:J.vitals.formUuid,visitUuid:null==X?void 0:X.uuid,visitTypeUuid:null==X||null===(Ue=X.visitType)||void 0===Ue?void 0:Ue.uuid,patientUuid:null!=R?R:null,patient:T,encounterUuid:fe,closeWorkspaceWithSavedChanges:F}}):Z?a().createElement(_.l09,{className:z.form},a().createElement("div",{className:z.grid},a().createElement(_.Kqy,null,a().createElement(_.sgG,null,a().createElement("p",{className:z.title},N("recordVitals","Record vitals"))),a().createElement(_.X2j,{className:z.row},a().createElement(_.sgG,null,a().createElement(_.iJ5,null)),a().createElement(_.sgG,null,a().createElement(_.iJ5,null)),a().createElement(_.sgG,null,a().createElement(_.iJ5,null)),a().createElement(_.sgG,null,a().createElement(_.iJ5,null))))),a().createElement(_.uVA,{className:G?z.tablet:z.desktop},a().createElement(_.Db,{className:z.button}),a().createElement(_.Db,{className:z.button,type:"submit"}))):a().createElement(_.l09,{className:z.form},a().createElement("div",{className:z.grid},a().createElement(_.Kqy,null,a().createElement(_.sgG,null,a().createElement("p",{className:z.title},N("recordVitals","Record vitals"))),a().createElement(_.X2j,{className:z.row},a().createElement(_.sgG,null,a().createElement(q,{control:pe,fieldProperties:[{id:"temperature",max:null===(u=Je.temperatureRange)||void 0===u?void 0:u.highAbsolute,min:null===(m=Je.temperatureRange)||void 0===m?void 0:m.lowAbsolute,name:N("temperature","Temperature"),type:"number"}],interpretation:Be&&(0,p.wA)(Be,(0,p.tQ)(J.concepts.temperatureUuid,K)),isValueWithinReferenceRange:!Be||A(K,J.concepts.temperatureUuid,Be),showErrorMessage:ue,label:N("temperature","Temperature"),unitSymbol:null!==(De=Q.get(J.concepts.temperatureUuid))&&void 0!==De?De:""})),a().createElement(_.sgG,null,a().createElement(q,{control:pe,fieldProperties:[{name:N("systolic","systolic"),separator:"/",type:"number",min:null===(d=Je.systolicBloodPressureRange)||void 0===d?void 0:d.lowAbsolute,max:null===(v=Je.systolicBloodPressureRange)||void 0===v?void 0:v.highAbsolute,id:"systolicBloodPressure"},{name:N("diastolic","diastolic"),type:"number",min:null===(b=Je.diastolicBloodPressureRange)||void 0===b?void 0:b.lowAbsolute,max:null===(g=Je.diastolicBloodPressureRange)||void 0===g?void 0:g.highAbsolute,id:"diastolicBloodPressure"}],interpretation:he&&Ee&&(0,p.WK)(he,Ee,J.concepts,K),isValueWithinReferenceRange:he&&Ee&&A(K,J.concepts.systolicBloodPressureUuid,he)&&A(K,J.concepts.diastolicBloodPressureUuid,Ee),showErrorMessage:ue,label:N("bloodPressure","Blood pressure"),unitSymbol:null!==(Re=Q.get(J.concepts.systolicBloodPressureUuid))&&void 0!==Re?Re:""})),a().createElement(_.sgG,null,a().createElement(q,{control:pe,fieldProperties:[{name:N("pulse","Pulse"),type:"number",min:null===(f=Je.pulseRange)||void 0===f?void 0:f.lowAbsolute,max:null===(C=Je.pulseRange)||void 0===C?void 0:C.highAbsolute,id:"pulse"}],interpretation:Ie&&(0,p.wA)(Ie,(0,p.tQ)(J.concepts.pulseUuid,K)),isValueWithinReferenceRange:Ie&&A(K,J.concepts.pulseUuid,Ie),label:N("heartRate","Heart rate"),showErrorMessage:ue,unitSymbol:null!==(Pe=Q.get(J.concepts.pulseUuid))&&void 0!==Pe?Pe:""})),a().createElement(_.sgG,null,a().createElement(q,{control:pe,fieldProperties:[{name:N("respirationRate","Respiration rate"),type:"number",min:null===(h=Je.respiratoryRateRange)||void 0===h?void 0:h.lowAbsolute,max:null===(E=Je.respiratoryRateRange)||void 0===E?void 0:E.highAbsolute,id:"respiratoryRate"}],interpretation:ye&&(0,p.wA)(ye,(0,p.tQ)(J.concepts.respiratoryRateUuid,K)),isValueWithinReferenceRange:ye&&A(K,J.concepts.respiratoryRateUuid,ye),showErrorMessage:ue,label:N("respirationRate","Respiration rate"),unitSymbol:null!==(Fe=Q.get(J.concepts.respiratoryRateUuid))&&void 0!==Fe?Fe:""})),a().createElement(_.sgG,null,a().createElement(q,{control:pe,fieldProperties:[{name:N("oxygenSaturation","Oxygen saturation"),type:"number",min:null===(y=Je.oxygenSaturationRange)||void 0===y?void 0:y.lowAbsolute,max:null===(w=Je.oxygenSaturationRange)||void 0===w?void 0:w.highAbsolute,id:"oxygenSaturation"}],interpretation:we&&(0,p.wA)(we,(0,p.tQ)(J.concepts.oxygenSaturationUuid,K)),isValueWithinReferenceRange:we&&A(K,J.concepts.oxygenSaturationUuid,we),showErrorMessage:ue,label:N("spo2","SpO2"),unitSymbol:null!==(Se=Q.get(J.concepts.oxygenSaturationUuid))&&void 0!==Se?Se:""}))),a().createElement(_.X2j,{className:z.row},a().createElement(_.sgG,{className:z.noteInput},a().createElement(q,{control:pe,fieldWidth:G?"70%":"100%",fieldProperties:[{name:N("notes","Notes"),type:"textarea",id:"generalPatientNote"}],placeholder:N("additionalNoteText","Type any additional notes here"),label:N("notes","Notes")})))),a().createElement(_.Kqy,{className:z.spacer},a().createElement(_.sgG,null,a().createElement("p",{className:z.title},N("recordBiometrics","Record biometrics"))),a().createElement(_.X2j,{className:z.row},a().createElement(_.sgG,null,a().createElement(q,{control:pe,fieldProperties:[{name:N("weight","Weight"),type:"number",min:null===(B=Je.weightRange)||void 0===B?void 0:B.lowAbsolute,max:null===(I=Je.weightRange)||void 0===I?void 0:I.highAbsolute,id:"weight"}],interpretation:ke&&(0,p.wA)(ke,(0,p.tQ)(J.concepts.weightUuid,K)),isValueWithinReferenceRange:xe&&A(K,J.concepts.weightUuid,ke),showErrorMessage:ue,label:N("weight","Weight"),unitSymbol:null!==(Ne=Q.get(J.concepts.weightUuid))&&void 0!==Ne?Ne:""})),a().createElement(_.sgG,null,a().createElement(q,{control:pe,fieldProperties:[{name:N("height","Height"),type:"number",min:null===(k=Je.heightRange)||void 0===k?void 0:k.lowAbsolute,max:null===(x=Je.heightRange)||void 0===x?void 0:x.highAbsolute,id:"height"}],interpretation:xe&&(0,p.wA)(xe,(0,p.tQ)(J.concepts.heightUuid,K)),isValueWithinReferenceRange:ke&&A(K,J.concepts.heightUuid,xe),showErrorMessage:ue,label:N("height","Height"),unitSymbol:null!==(Ge=Q.get(J.concepts.heightUuid))&&void 0!==Ge?Ge:""})),a().createElement(_.sgG,null,a().createElement(q,{control:pe,fieldProperties:[{name:N("bmi","BMI"),type:"number",id:"computedBodyMassIndex"}],readOnly:!0,label:N("calculatedBmi","BMI (calc.)"),unitSymbol:M.bmiUnit})),a().createElement(_.sgG,null,a().createElement(q,{control:pe,fieldProperties:[{name:N("muac","MUAC"),type:"number",min:null===(U=Je.midUpperArmCircumferenceRange)||void 0===U?void 0:U.lowAbsolute,max:null===(D=Je.midUpperArmCircumferenceRange)||void 0===D?void 0:D.highAbsolute,id:"midUpperArmCircumference"}],muacColorCode:re,isValueWithinReferenceRange:xe&&ke&&A(K,J.concepts.midUpperArmCircumferenceUuid,Ce),showErrorMessage:ue,label:N("muac","MUAC"),unitSymbol:null!==(qe=Q.get(J.concepts.midUpperArmCircumferenceUuid))&&void 0!==qe?qe:"",useMuacColors:H}))))),le&&a().createElement(_.sgG,{className:z.errorContainer},a().createElement(_.K0D,{lowContrast:!0,title:N("error","Error"),subtitle:N("pleaseFillField","Please fill at least one field")+".",onClose:function(){return _e(!1)}})),$&&a().createElement(_.sgG,{className:z.errorContainer},a().createElement(_.K0D,{className:z.errorNotification,lowContrast:!1,onClose:function(){return ee(!1)},title:N("vitalsAndBiometricsSaveError","Error saving vitals and biometrics"),subtitle:N("checkForValidity","Some of the values entered are invalid")})),a().createElement(_.uVA,{className:G?z.tablet:z.desktop},a().createElement(_.zxk,{className:z.button,kind:"secondary",onClick:P},N("discard","Discard")),a().createElement(_.zxk,{className:z.button,kind:"primary",onClick:de(Me,(function(e){(null==e?void 0:e.oneFieldRequired)&&_e(!0)})),disabled:ie,type:"submit"},N("saveAndClose","Save and close"))))}}}]);