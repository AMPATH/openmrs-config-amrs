(globalThis.webpackChunk_kenyaemr_esm_patient_registration_app=globalThis.webpackChunk_kenyaemr_esm_patient_registration_app||[]).push([[598],{2239:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(272),r=n.n(i),a=n(2609),o=n.n(a)()(r());o.push([e.id,".-esm-patient-registration__add-patient-link__slotStyles___hAVLC{background-color:rgba(0,0,0,0)}","",{version:3,sources:["webpack://./src/add-patient-link.scss"],names:[],mappings:"AAAA,iEACE,8BAAA",sourceRoot:""}]),o.locals={slotStyles:"-esm-patient-registration__add-patient-link__slotStyles___hAVLC"};const s=o},6788:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(272),r=n.n(i),a=n(2609),o=n.n(a)()(r());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__address-search__label01___oURHe{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-patient-registration__address-search__suggestions___eCtFr{border-top-width:0;list-style:none;margin-top:0;max-height:20rem;overflow-y:auto;padding-left:0;width:100%;position:absolute;left:0;background-color:#fff;margin-bottom:20px;z-index:99;border:1px solid #e0e0e0}.-esm-patient-registration__address-search__suggestions___eCtFr li{padding:1rem;line-height:1.29;color:#525252;border-bottom:1px solid #8d8d8d}.-esm-patient-registration__address-search__suggestions___eCtFr li:hover{background-color:#e5e5e5;color:#161616;cursor:pointer}.-esm-patient-registration__address-search__suggestions___eCtFr li:not(:last-of-type){border-bottom:1px solid #999}.-esm-patient-registration__address-search__autocomplete___ziYIM{position:relative}.-esm-patient-registration__address-search__autocompleteSearch____mzpI{width:100%}.-esm-patient-registration__address-search__suggestions___eCtFr a{color:inherit;text-decoration:none}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/patient-registration/field/address/address-search.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,4DC81BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CD11BJ,gEACE,kBAAA,CACA,eAAA,CACA,YAAA,CACA,gBAAA,CACA,eAAA,CACA,cAAA,CACA,UAAA,CACA,iBAAA,CACA,MAAA,CACA,qBAAA,CACA,kBAAA,CACA,UAAA,CACA,wBAAA,CAGF,mEACE,YEMW,CFLX,gBAAA,CACA,aAAA,CACA,+BAAA,CAGF,yEACE,wBAAA,CACA,aAAA,CACA,cAAA,CAGF,sFACE,4BAAA,CAGF,iEACE,iBAAA,CAGF,uEACE,UAAA,CAGF,kEACE,aAAA,CACA,oBAAA",sourceRoot:""}]),o.locals={label01:"-esm-patient-registration__address-search__label01___oURHe",suggestions:"-esm-patient-registration__address-search__suggestions___eCtFr",autocomplete:"-esm-patient-registration__address-search__autocomplete___ziYIM",autocompleteSearch:"-esm-patient-registration__address-search__autocompleteSearch____mzpI"};const s=o},6680:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(272),r=n.n(i),a=n(2609),o=n.n(a)()(r());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__field__productiveHeading02___B7YQg{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);margin-bottom:1rem}.-esm-patient-registration__field__productiveHeading02Light___Kitgy{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);margin-bottom:1rem;color:#525252}.-esm-patient-registration__field__label01___XhEuH{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-patient-registration__field__grid___kG494{display:grid;grid-template-columns:1fr 1fr;column-gap:1rem}.-esm-patient-registration__field__halfWidthInDesktopView___bN6Sw{width:calc(50% - 1rem)}.-esm-patient-registration__field__patientPhoto___qrH4P{display:flex;justify-content:center}.-esm-patient-registration__field__nameField___tUkky{grid-row:1;grid-column:1}.-esm-patient-registration__field__nameField___tUkky>.cds--content-switcher{display:grid;grid-template-columns:1fr 1fr;width:max-content;justify-content:flex-start}.-esm-patient-registration__field__contentSwitcher___ReJS6{margin-bottom:1rem}.-esm-patient-registration__field__dobField___r5Uum>.cds--content-switcher{display:grid;grid-template-columns:1fr 1fr;width:max-content;justify-content:flex-start}.-esm-patient-registration__field__photoExtension___eUcYn{margin-bottom:1rem;grid-row:1;grid-column:2;justify-self:center}.-esm-patient-registration__field__sexField___WBNSZ,.-esm-patient-registration__field__dobField___r5Uum{margin-bottom:1rem}.-esm-patient-registration__field__dobContentSwitcherLabel___f3ZOM{margin-bottom:.5rem}.-esm-patient-registration__field__identifierLabelText___CUAVo{display:flex;align-items:center}.-esm-patient-registration__field__setIDNumberButton___MPk53{margin-bottom:1rem}.-esm-patient-registration__field__setIDNumberButton___MPk53>svg{margin-left:.5rem}.-esm-patient-registration__field__customField___FqVZp{margin-bottom:1rem}.-esm-patient-registration__field__attributeField___f6fQL{margin-bottom:1rem}.omrs-breakpoint-lt-desktop .-esm-patient-registration__field__grid___kG494{grid-template-columns:1fr;grid-template-rows:auto auto}.omrs-breakpoint-lt-desktop .-esm-patient-registration__field__nameField___tUkky{grid-row:2;grid-column:1}.omrs-breakpoint-lt-desktop .-esm-patient-registration__field__photoExtension___eUcYn{grid-column:1;grid-row:1;justify-self:start}.omrs-breakpoint-lt-desktop .-esm-patient-registration__field__radioButton___yvufj label{height:3rem !important}.omrs-breakpoint-lt-desktop .-esm-patient-registration__field__halfWidthInDesktopView___bN6Sw{width:100%}.-esm-patient-registration__field__radioFieldError___Y8du_{color:#da1e28;display:block;font-weight:400;max-height:12.5rem;overflow:visible;font-size:.75rem;letter-spacing:.32px;line-height:1.34;margin:.25rem 0 0}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/patient-registration/field/field.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,+DC81BI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CD51BF,kBAAA,CAGF,oECy1BI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CDv1BF,kBAAA,CACA,aAAA,CAGF,mDCm1BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CD/0BJ,gDACE,YAAA,CACA,6BAAA,CACA,eESW,CFNb,kEACE,sBAAA,CAGF,wDACE,YAAA,CACA,sBAAA,CAGF,qDACE,UAAA,CACA,aAAA,CAGF,4EACE,YAAA,CACA,6BAAA,CACA,iBAAA,CACA,0BAAA,CAGF,2DACE,kBAAA,CAGF,2EACE,YAAA,CACA,6BAAA,CACA,iBAAA,CACA,0BAAA,CAGF,0DACE,kBAAA,CACA,UAAA,CACA,aAAA,CACA,mBAAA,CAGF,wGAEE,kBEnCW,CFsCb,mEACE,mBEjDW,CFoDb,+DACE,YAAA,CACA,kBAAA,CAGF,6DACE,kBEhDW,CFmDb,iEACE,iBE9DW,CFiEb,uDACE,kBExDW,CF2Db,0DACE,kBE5DW,CFgEX,4EACE,yBAAA,CACA,4BAAA,CAEF,iFACE,UAAA,CACA,aAAA,CAEF,sFACE,aAAA,CACA,UAAA,CACA,kBAAA,CAEF,yFACE,sBAAA,CAEF,8FACE,UAAA,CAIJ,2DACE,aAAA,CACA,aAAA,CACA,eAAA,CACA,kBAAA,CACA,gBAAA,CACA,gBAAA,CACA,oBAAA,CACA,gBAAA,CACA,iBAAA",sourceRoot:""}]),o.locals={productiveHeading02:"-esm-patient-registration__field__productiveHeading02___B7YQg",productiveHeading02Light:"-esm-patient-registration__field__productiveHeading02Light___Kitgy",label01:"-esm-patient-registration__field__label01___XhEuH",grid:"-esm-patient-registration__field__grid___kG494",halfWidthInDesktopView:"-esm-patient-registration__field__halfWidthInDesktopView___bN6Sw",patientPhoto:"-esm-patient-registration__field__patientPhoto___qrH4P",nameField:"-esm-patient-registration__field__nameField___tUkky",contentSwitcher:"-esm-patient-registration__field__contentSwitcher___ReJS6",dobField:"-esm-patient-registration__field__dobField___r5Uum",photoExtension:"-esm-patient-registration__field__photoExtension___eUcYn",sexField:"-esm-patient-registration__field__sexField___WBNSZ",dobContentSwitcherLabel:"-esm-patient-registration__field__dobContentSwitcherLabel___f3ZOM",identifierLabelText:"-esm-patient-registration__field__identifierLabelText___CUAVo",setIDNumberButton:"-esm-patient-registration__field__setIDNumberButton___MPk53",customField:"-esm-patient-registration__field__customField___FqVZp",attributeField:"-esm-patient-registration__field__attributeField___f6fQL",radioButton:"-esm-patient-registration__field__radioButton___yvufj",radioFieldError:"-esm-patient-registration__field__radioFieldError___Y8du_"};const s=o},1033:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(272),r=n.n(i),a=n(2609),o=n.n(a)()(r());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__identifier-selection__title___id4Ma{color:var(--omrs-color-brand-teal)}.-esm-patient-registration__identifier-selection__submit___EFvNk{width:250px}.-esm-patient-registration__identifier-selection__submit___EFvNk:hover{cursor:pointer}.-esm-patient-registration__identifier-selection__cancelButton___o8f0G{width:11.688rem}.-esm-patient-registration__identifier-selection__submitButton___WRJVa{margin-bottom:1rem;width:11.688rem;display:block}.-esm-patient-registration__identifier-selection__infoGrid___lYE6f{width:100%;padding-left:2rem;margin-bottom:40vh;margin-top:1rem;max-width:50rem}.-esm-patient-registration__identifier-selection__label01___P7jXk{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);margin-top:1rem;margin-bottom:1rem;color:#8d8d8d}.-esm-patient-registration__identifier-selection__productiveHeading02___rOsRi{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#8d8d8d;cursor:pointer}.-esm-patient-registration__identifier-selection__space05___Y0nw4{margin:1rem 0 1rem 0}.-esm-patient-registration__identifier-selection__formContainer___isKuG{display:flex;width:100%}.-esm-patient-registration__identifier-selection__stickyColumn___SCnIQ{position:sticky;margin-top:1rem;top:4rem}.-esm-patient-registration__identifier-selection__touchTarget___OhMJU a:active{color:#161616}.-esm-patient-registration__identifier-selection__linkName___eS6IH{color:#525252;line-height:1.38;font-size:1rem;font-weight:600}.-esm-patient-registration__identifier-selection__linkName___eS6IH:active{text-decoration:none;color:#161616}.-esm-patient-registration__identifier-selection__linkName___eS6IH:hover{text-decoration:none;color:#161616;cursor:pointer}.-esm-patient-registration__identifier-selection__main___eLHMZ{background-color:#fff}.omrs-breakpoint-lt-desktop .-esm-patient-registration__identifier-selection__infoGrid___lYE6f{max-width:unset}.-esm-patient-registration__identifier-selection__spinner___VF1W2.cds--inline-loading{min-height:1rem}html[dir=rtl] .-esm-patient-registration__identifier-selection__linkName___eS6IH>svg{transform:scale(-1, 1)}html[dir=rtl] .-esm-patient-registration__identifier-selection__infoGrid___lYE6f{padding-left:unset;padding-right:2rem}.-esm-patient-registration__identifier-selection__button___l3yVl{height:4rem;display:flex;align-content:flex-start;align-items:baseline;min-width:50%}.-esm-patient-registration__identifier-selection__tablet___rSdxC{padding:1.5rem 1rem;background-color:#fff}.-esm-patient-registration__identifier-selection__desktop___WlFF7{padding:0rem}.-esm-patient-registration__identifier-selection__radioGroup___WAlzM{background-color:#f4f4f4;padding:1rem}.-esm-patient-registration__identifier-selection__radioButton___vGul_{margin:0 !important}.-esm-patient-registration__identifier-selection__radioButton___vGul_ label{height:2rem}.omrs-breakpoint-lt-desktop .-esm-patient-registration__identifier-selection__radioButton___vGul_ label{height:3rem !important}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/patient-registration/patient-registration.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./src/patient-registration/field/id/identifier-selection.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,gEACE,kCAAA,CAGF,iEACE,WAAA,CAGF,uEACE,cAAA,CAGF,uEACE,eAAA,CAGF,uEACE,kBCUW,CDTX,eAAA,CACA,aAAA,CAGF,mEACE,UAAA,CACA,iBCaW,CDZX,kBAAA,CACA,eCCW,CAAA,eAAA,CDGb,kEEg0BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CF9zBF,eCLW,CDMX,kBCNW,CDOX,aDnCM,CCsCR,8EEyzBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CFvzBF,aDxCM,CCyCN,cAAA,CAGF,kEACE,oBAAA,CAGF,wEACE,YAAA,CACA,UAAA,CAGF,uEACE,eAAA,CACA,eC3BW,CD6BX,QAAA,CAGF,+EACE,aDtDe,CCyDjB,mEACE,aD3Dc,CC4Dd,gBAAA,CACA,cCvCW,CDwCX,eAAA,CAEA,0EACE,oBAAA,CACA,aDjEa,CCoEf,yEACE,oBAAA,CACA,aDtEa,CCuEb,cAAA,CAIJ,+DACE,qBAAA,CAIA,+FACE,eAAA,CAKF,sFACE,eAAA,CAOA,qFACE,sBAAA,CAIJ,iFACE,kBAAA,CACA,kBCtES,CEtCb,iEACE,WAAA,CACA,YAAA,CACA,wBAAA,CACA,oBAAA,CACA,aAAA,CAGF,iEACE,mBAAA,CACA,qBJZM,CIeR,kEACE,YAAA,CAGF,qEACE,wBJrBM,CIsBN,YFSW,CENb,sEACE,mBAAA,CACA,4EACE,WFaS,CERX,wGACE,sBAAA",sourceRoot:""}]),o.locals={title:"-esm-patient-registration__identifier-selection__title___id4Ma",submit:"-esm-patient-registration__identifier-selection__submit___EFvNk",cancelButton:"-esm-patient-registration__identifier-selection__cancelButton___o8f0G",submitButton:"-esm-patient-registration__identifier-selection__submitButton___WRJVa",infoGrid:"-esm-patient-registration__identifier-selection__infoGrid___lYE6f",label01:"-esm-patient-registration__identifier-selection__label01___P7jXk",productiveHeading02:"-esm-patient-registration__identifier-selection__productiveHeading02___rOsRi",space05:"-esm-patient-registration__identifier-selection__space05___Y0nw4",formContainer:"-esm-patient-registration__identifier-selection__formContainer___isKuG",stickyColumn:"-esm-patient-registration__identifier-selection__stickyColumn___SCnIQ",touchTarget:"-esm-patient-registration__identifier-selection__touchTarget___OhMJU",linkName:"-esm-patient-registration__identifier-selection__linkName___eS6IH",main:"-esm-patient-registration__identifier-selection__main___eLHMZ",spinner:"-esm-patient-registration__identifier-selection__spinner___VF1W2",button:"-esm-patient-registration__identifier-selection__button___l3yVl",tablet:"-esm-patient-registration__identifier-selection__tablet___rSdxC",desktop:"-esm-patient-registration__identifier-selection__desktop___WlFF7",radioGroup:"-esm-patient-registration__identifier-selection__radioGroup___WAlzM",radioButton:"-esm-patient-registration__identifier-selection__radioButton___vGul_"};const s=o},4301:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(272),r=n.n(i),a=n(2609),o=n.n(a)()(r());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__autosuggest__label01___ZMRhI{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-patient-registration__autosuggest__suggestions___jNk6d{position:relative;border-top-width:0;list-style:none;margin-top:0;max-height:143px;overflow-y:auto;padding-left:0;width:100%;position:absolute;left:0;background-color:#fff;margin-bottom:20px;z-index:99}.-esm-patient-registration__autosuggest__suggestions___jNk6d li{padding:1rem;line-height:1.29;color:#525252;border-bottom:1px solid #8d8d8d}.-esm-patient-registration__autosuggest__suggestions___jNk6d li:hover{background-color:#e5e5e5;color:#161616;cursor:pointer}.-esm-patient-registration__autosuggest__suggestions___jNk6d li:not(:last-of-type){border-bottom:1px solid #999}.-esm-patient-registration__autosuggest__autocomplete___CqHbh{position:relative}.-esm-patient-registration__autosuggest__autocompleteSearch___tDrC1{width:100%}.-esm-patient-registration__autosuggest__suggestions___jNk6d a{color:inherit;text-decoration:none}.-esm-patient-registration__autosuggest__invalid___ucMxb input{outline:2px solid var(--cds-support-error, #da1e28);outline-offset:-2px}.-esm-patient-registration__autosuggest__invalidMsg___fYXV4{color:var(--cds-text-error, #da1e28)}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/patient-registration/input/custom-input/autosuggest/autosuggest.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,yDC81BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CD11BJ,6DACE,iBAAA,CACA,kBAAA,CACA,eAAA,CACA,YAAA,CACA,gBAAA,CACA,eAAA,CACA,cAAA,CACA,UAAA,CACA,iBAAA,CACA,MAAA,CACA,qBAAA,CACA,kBAAA,CACA,UAAA,CAGF,gEACE,YEMW,CFLX,gBAAA,CACA,aAAA,CACA,+BAAA,CAGF,sEACE,wBAAA,CACA,aAAA,CACA,cAAA,CAGF,mFACE,4BAAA,CAGF,8DACE,iBAAA,CAGF,oEACE,UAAA,CAGF,+DACE,aAAA,CACA,oBAAA,CAGF,+DACE,mDAAA,CACA,mBAAA,CAGF,4DACE,oCAAA",sourceRoot:""}]),o.locals={label01:"-esm-patient-registration__autosuggest__label01___ZMRhI",suggestions:"-esm-patient-registration__autosuggest__suggestions___jNk6d",autocomplete:"-esm-patient-registration__autosuggest__autocomplete___CqHbh",autocompleteSearch:"-esm-patient-registration__autosuggest__autocompleteSearch___tDrC1",invalid:"-esm-patient-registration__autosuggest__invalid___ucMxb",invalidMsg:"-esm-patient-registration__autosuggest__invalidMsg___fYXV4"};const s=o},7558:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(272),r=n.n(i),a=n(2609),o=n.n(a)()(r());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__input__title___ymmMp{color:var(--omrs-color-brand-teal)}.-esm-patient-registration__input__submit___drScu{width:250px}.-esm-patient-registration__input__submit___drScu:hover{cursor:pointer}.-esm-patient-registration__input__cancelButton___MGlnb{width:11.688rem}.-esm-patient-registration__input__submitButton___KxHlt{margin-bottom:1rem;width:11.688rem;display:block}.-esm-patient-registration__input__infoGrid___KptwF{width:100%;padding-left:2rem;margin-bottom:40vh;margin-top:1rem;max-width:50rem}.-esm-patient-registration__input__label01___udxOY{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);margin-top:1rem;margin-bottom:1rem;color:#8d8d8d}.-esm-patient-registration__input__productiveHeading02___BviaC{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#8d8d8d;cursor:pointer}.-esm-patient-registration__input__space05___MSQTm{margin:1rem 0 1rem 0}.-esm-patient-registration__input__formContainer___Djtuh{display:flex;width:100%}.-esm-patient-registration__input__stickyColumn___Cqo0q{position:sticky;margin-top:1rem;top:4rem}.-esm-patient-registration__input__touchTarget___aKvZw a:active{color:#161616}.-esm-patient-registration__input__linkName___ePbIQ{color:#525252;line-height:1.38;font-size:1rem;font-weight:600}.-esm-patient-registration__input__linkName___ePbIQ:active{text-decoration:none;color:#161616}.-esm-patient-registration__input__linkName___ePbIQ:hover{text-decoration:none;color:#161616;cursor:pointer}.-esm-patient-registration__input__main___xrszP{background-color:#fff}.omrs-breakpoint-lt-desktop .-esm-patient-registration__input__infoGrid___KptwF{max-width:unset}.-esm-patient-registration__input__spinner___jE55H.cds--inline-loading{min-height:1rem}html[dir=rtl] .-esm-patient-registration__input__linkName___ePbIQ>svg{transform:scale(-1, 1)}html[dir=rtl] .-esm-patient-registration__input__infoGrid___KptwF{padding-left:unset;padding-right:2rem}.-esm-patient-registration__input__fieldRow___vLP6O{display:flex;flex-direction:row;justify-content:flex-start;flex-wrap:wrap}.-esm-patient-registration__input__subFieldRow___sPk3F{margin-bottom:5px}.-esm-patient-registration__input__label___orNk0{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);color:#525252}.-esm-patient-registration__input__textID___Ubh9Y,.-esm-patient-registration__input__comboInput___qUhJm{margin-bottom:1rem}.-esm-patient-registration__input__requiredField___k3345{color:#da1e28}.-esm-patient-registration__input__input___Dwmo5{margin-right:5px}.-esm-patient-registration__input__checkboxField___OEvPy{display:flex;flex-direction:row;justify-content:flex-start;width:400px;margin-left:10px}.-esm-patient-registration__input__textInput___hQZXv{width:250px !important;height:40px !important}.-esm-patient-registration__input__numberInput___SAa3l{width:200px !important;height:40px !important}.-esm-patient-registration__input__checkboxInput___oso9t{height:1.5rem !important;width:1.5rem !important;margin-top:8px}.-esm-patient-registration__input__selectInput___lV71G{width:150px !important;height:40px !important}.-esm-patient-registration__input__dateInput___KyGaB{width:200px !important;height:40px !important;font-size:large !important}.-esm-patient-registration__input__telInput___DwqWm{width:250px !important;height:40px !important}.-esm-patient-registration__input__errorInput___Xyttp{border:2px solid #da1e28 !important;padding-left:.875rem !important}.-esm-patient-registration__input__errorMessage___LkLY3{color:#da1e28;align-self:center}.-esm-patient-registration__input__dummyData___lR2jV{cursor:pointer;margin-left:5px}.-esm-patient-registration__input__IDInput___NYnrx{display:grid;grid-template-columns:1fr auto;align-items:end}.-esm-patient-registration__input__trashCan___T3t2n{color:#da1e28}.omrs-breakpoint-lt-desktop .-esm-patient-registration__input__IDInput___NYnrx{max-width:unset;width:100%}.-esm-patient-registration__input__dangerLabel01___C3QkA{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);color:#da1e28}.-esm-patient-registration__input__comboInputEntries___Xg2qG{position:relative}.-esm-patient-registration__input__comboInputItemOption___Uv8Ip{margin:0;padding-left:1rem}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/patient-registration/patient-registration.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./src/patient-registration/input/input.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,iDACE,kCAAA,CAGF,kDACE,WAAA,CAGF,wDACE,cAAA,CAGF,wDACE,eAAA,CAGF,wDACE,kBCUW,CDTX,eAAA,CACA,aAAA,CAGF,oDACE,UAAA,CACA,iBCaW,CDZX,kBAAA,CACA,eCCW,CAAA,eAAA,CDGb,mDEg0BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CF9zBF,eCLW,CDMX,kBCNW,CDOX,aDnCM,CCsCR,+DEyzBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CFvzBF,aDxCM,CCyCN,cAAA,CAGF,mDACE,oBAAA,CAGF,yDACE,YAAA,CACA,UAAA,CAGF,wDACE,eAAA,CACA,eC3BW,CD6BX,QAAA,CAGF,gEACE,aDtDe,CCyDjB,oDACE,aD3Dc,CC4Dd,gBAAA,CACA,cCvCW,CDwCX,eAAA,CAEA,2DACE,oBAAA,CACA,aDjEa,CCoEf,0DACE,oBAAA,CACA,aDtEa,CCuEb,cAAA,CAIJ,gDACE,qBAAA,CAIA,gFACE,eAAA,CAKF,uEACE,eAAA,CAOA,sEACE,sBAAA,CAIJ,kEACE,kBAAA,CACA,kBCtES,CErCb,oDACE,YAAA,CACA,kBAAA,CACA,0BAAA,CACA,cAAA,CAGF,uDACE,iBAAA,CAGF,iDDm1BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CCj1BF,aJZQ,CIeV,wGAEE,kBFSW,CENb,yDACE,aJNO,CIST,iDACE,gBAAA,CAGF,yDACE,YAAA,CACA,kBAAA,CACA,0BAAA,CACA,WAAA,CACA,gBAAA,CAGF,qDACE,sBAAA,CACA,sBAAA,CAGF,uDACE,sBAAA,CACA,sBAAA,CAGF,yDACE,wBAAA,CACA,uBAAA,CACA,cAAA,CAGF,uDACE,sBAAA,CACA,sBAAA,CAGF,qDACE,sBAAA,CACA,sBAAA,CACA,0BAAA,CAGF,oDACE,sBAAA,CACA,sBAAA,CAGF,sDACE,mCAAA,CACA,+BAAA,CAGF,wDACE,aJ3DO,CI4DP,iBAAA,CAGF,qDACE,cAAA,CACA,eAAA,CAGF,mDACE,YAAA,CACA,8BAAA,CACA,eAAA,CAGF,oDACE,aJ3EO,CI+EP,+EACE,eAAA,CACA,UAAA,CAIJ,yDDyvBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CCvvBF,aJvFO,CI0FT,6DACE,iBAAA,CAGF,gEACE,QAAA,CACA,iBAAA",sourceRoot:""}]),o.locals={title:"-esm-patient-registration__input__title___ymmMp",submit:"-esm-patient-registration__input__submit___drScu",cancelButton:"-esm-patient-registration__input__cancelButton___MGlnb",submitButton:"-esm-patient-registration__input__submitButton___KxHlt",infoGrid:"-esm-patient-registration__input__infoGrid___KptwF",label01:"-esm-patient-registration__input__label01___udxOY",productiveHeading02:"-esm-patient-registration__input__productiveHeading02___BviaC",space05:"-esm-patient-registration__input__space05___MSQTm",formContainer:"-esm-patient-registration__input__formContainer___Djtuh",stickyColumn:"-esm-patient-registration__input__stickyColumn___Cqo0q",touchTarget:"-esm-patient-registration__input__touchTarget___aKvZw",linkName:"-esm-patient-registration__input__linkName___ePbIQ",main:"-esm-patient-registration__input__main___xrszP",spinner:"-esm-patient-registration__input__spinner___jE55H",fieldRow:"-esm-patient-registration__input__fieldRow___vLP6O",subFieldRow:"-esm-patient-registration__input__subFieldRow___sPk3F",label:"-esm-patient-registration__input__label___orNk0",textID:"-esm-patient-registration__input__textID___Ubh9Y",comboInput:"-esm-patient-registration__input__comboInput___qUhJm",requiredField:"-esm-patient-registration__input__requiredField___k3345",input:"-esm-patient-registration__input__input___Dwmo5",checkboxField:"-esm-patient-registration__input__checkboxField___OEvPy",textInput:"-esm-patient-registration__input__textInput___hQZXv",numberInput:"-esm-patient-registration__input__numberInput___SAa3l",checkboxInput:"-esm-patient-registration__input__checkboxInput___oso9t",selectInput:"-esm-patient-registration__input__selectInput___lV71G",dateInput:"-esm-patient-registration__input__dateInput___KyGaB",telInput:"-esm-patient-registration__input__telInput___DwqWm",errorInput:"-esm-patient-registration__input__errorInput___Xyttp",errorMessage:"-esm-patient-registration__input__errorMessage___LkLY3",dummyData:"-esm-patient-registration__input__dummyData___lR2jV",IDInput:"-esm-patient-registration__input__IDInput___NYnrx",trashCan:"-esm-patient-registration__input__trashCan___T3t2n",dangerLabel01:"-esm-patient-registration__input__dangerLabel01___C3QkA",comboInputEntries:"-esm-patient-registration__input__comboInputEntries___Xg2qG",comboInputItemOption:"-esm-patient-registration__input__comboInputItemOption___Uv8Ip"};const s=o},6039:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(272),r=n.n(i),a=n(2609),o=n.n(a)()(r());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__patient-registration__title___deVt0{color:var(--omrs-color-brand-teal)}.-esm-patient-registration__patient-registration__submit___WAvMe{width:250px}.-esm-patient-registration__patient-registration__submit___WAvMe:hover{cursor:pointer}.-esm-patient-registration__patient-registration__cancelButton___d1bxd{width:11.688rem}.-esm-patient-registration__patient-registration__submitButton___FPRJM{margin-bottom:1rem;width:11.688rem;display:block}.-esm-patient-registration__patient-registration__infoGrid___GbkQI{width:100%;padding-left:2rem;margin-bottom:40vh;margin-top:1rem;max-width:50rem}.-esm-patient-registration__patient-registration__label01___wbzrK{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);margin-top:1rem;margin-bottom:1rem;color:#8d8d8d}.-esm-patient-registration__patient-registration__productiveHeading02___VG2Xd{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#8d8d8d;cursor:pointer}.-esm-patient-registration__patient-registration__space05___kujPI{margin:1rem 0 1rem 0}.-esm-patient-registration__patient-registration__formContainer___R8NXh{display:flex;width:100%}.-esm-patient-registration__patient-registration__stickyColumn___YyTJX{position:sticky;margin-top:1rem;top:4rem}.-esm-patient-registration__patient-registration__touchTarget___J2DcK a:active{color:#161616}.-esm-patient-registration__patient-registration__linkName___R5ijn{color:#525252;line-height:1.38;font-size:1rem;font-weight:600}.-esm-patient-registration__patient-registration__linkName___R5ijn:active{text-decoration:none;color:#161616}.-esm-patient-registration__patient-registration__linkName___R5ijn:hover{text-decoration:none;color:#161616;cursor:pointer}.-esm-patient-registration__patient-registration__main___pAibL{background-color:#fff}.omrs-breakpoint-lt-desktop .-esm-patient-registration__patient-registration__infoGrid___GbkQI{max-width:unset}.-esm-patient-registration__patient-registration__spinner___wUnQX.cds--inline-loading{min-height:1rem}html[dir=rtl] .-esm-patient-registration__patient-registration__linkName___R5ijn>svg{transform:scale(-1, 1)}html[dir=rtl] .-esm-patient-registration__patient-registration__infoGrid___GbkQI{padding-left:unset;padding-right:2rem}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/patient-registration/patient-registration.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,gEACE,kCAAA,CAGF,iEACE,WAAA,CAGF,uEACE,cAAA,CAGF,uEACE,eAAA,CAGF,uEACE,kBCUW,CDTX,eAAA,CACA,aAAA,CAGF,mEACE,UAAA,CACA,iBCaW,CDZX,kBAAA,CACA,eCCW,CAAA,eAAA,CDGb,kEEg0BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CF9zBF,eCLW,CDMX,kBCNW,CDOX,aDnCM,CCsCR,8EEyzBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CFvzBF,aDxCM,CCyCN,cAAA,CAGF,kEACE,oBAAA,CAGF,wEACE,YAAA,CACA,UAAA,CAGF,uEACE,eAAA,CACA,eC3BW,CD6BX,QAAA,CAGF,+EACE,aDtDe,CCyDjB,mEACE,aD3Dc,CC4Dd,gBAAA,CACA,cCvCW,CDwCX,eAAA,CAEA,0EACE,oBAAA,CACA,aDjEa,CCoEf,yEACE,oBAAA,CACA,aDtEa,CCuEb,cAAA,CAIJ,+DACE,qBAAA,CAIA,+FACE,eAAA,CAKF,sFACE,eAAA,CAOA,qFACE,sBAAA,CAIJ,iFACE,kBAAA,CACA,kBCtES",sourceRoot:""}]),o.locals={title:"-esm-patient-registration__patient-registration__title___deVt0",submit:"-esm-patient-registration__patient-registration__submit___WAvMe",cancelButton:"-esm-patient-registration__patient-registration__cancelButton___d1bxd",submitButton:"-esm-patient-registration__patient-registration__submitButton___FPRJM",infoGrid:"-esm-patient-registration__patient-registration__infoGrid___GbkQI",label01:"-esm-patient-registration__patient-registration__label01___wbzrK",productiveHeading02:"-esm-patient-registration__patient-registration__productiveHeading02___VG2Xd",space05:"-esm-patient-registration__patient-registration__space05___kujPI",formContainer:"-esm-patient-registration__patient-registration__formContainer___R8NXh",stickyColumn:"-esm-patient-registration__patient-registration__stickyColumn___YyTJX",touchTarget:"-esm-patient-registration__patient-registration__touchTarget___J2DcK",linkName:"-esm-patient-registration__patient-registration__linkName___R5ijn",main:"-esm-patient-registration__patient-registration__main___pAibL",spinner:"-esm-patient-registration__patient-registration__spinner___wUnQX"};const s=o},2429:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(272),r=n.n(i),a=n(2609),o=n.n(a)()(r());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__relationships__title___VwsTO{color:var(--omrs-color-brand-teal)}.-esm-patient-registration__relationships__submit___XKnWx{width:250px}.-esm-patient-registration__relationships__submit___XKnWx:hover{cursor:pointer}.-esm-patient-registration__relationships__cancelButton___BQuUm{width:11.688rem}.-esm-patient-registration__relationships__submitButton___Tg9V7{margin-bottom:1rem;width:11.688rem;display:block}.-esm-patient-registration__relationships__infoGrid___SAUPw{width:100%;padding-left:2rem;margin-bottom:40vh;margin-top:1rem;max-width:50rem}.-esm-patient-registration__relationships__label01___pH0BA{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);margin-top:1rem;margin-bottom:1rem;color:#8d8d8d}.-esm-patient-registration__relationships__productiveHeading02___BjxK9{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#8d8d8d;cursor:pointer}.-esm-patient-registration__relationships__space05___cMUhT{margin:1rem 0 1rem 0}.-esm-patient-registration__relationships__formContainer___fk4C8{display:flex;width:100%}.-esm-patient-registration__relationships__stickyColumn___hS_Eh{position:sticky;margin-top:1rem;top:4rem}.-esm-patient-registration__relationships__touchTarget___PbOAv a:active{color:#161616}.-esm-patient-registration__relationships__linkName___QK15g{color:#525252;line-height:1.38;font-size:1rem;font-weight:600}.-esm-patient-registration__relationships__linkName___QK15g:active{text-decoration:none;color:#161616}.-esm-patient-registration__relationships__linkName___QK15g:hover{text-decoration:none;color:#161616;cursor:pointer}.-esm-patient-registration__relationships__main___kTcJj{background-color:#fff}.omrs-breakpoint-lt-desktop .-esm-patient-registration__relationships__infoGrid___SAUPw{max-width:unset}.-esm-patient-registration__relationships__spinner____dwdz.cds--inline-loading{min-height:1rem}html[dir=rtl] .-esm-patient-registration__relationships__linkName___QK15g>svg{transform:scale(-1, 1)}html[dir=rtl] .-esm-patient-registration__relationships__infoGrid___SAUPw{padding-left:unset;padding-right:2rem}.-esm-patient-registration__relationships__labelText___uj7UC{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-patient-registration__relationships__bodyShort02___lfKTT{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-patient-registration__relationships__searchBox___sm1h1{margin-bottom:1rem}.-esm-patient-registration__relationships__relationshipHeader____GJQK{display:flex;align-items:center}.-esm-patient-registration__relationships__productiveHeading___kksGB{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252}.-esm-patient-registration__relationships__trashCan___RUDnn{color:#da1e28 !important}.omrs-breakpoint-lt-desktop .-esm-patient-registration__relationships__relationshipHeader____GJQK{justify-content:space-between}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/patient-registration/patient-registration.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./src/patient-registration/section/patient-relationships/relationships.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,yDACE,kCAAA,CAGF,0DACE,WAAA,CAGF,gEACE,cAAA,CAGF,gEACE,eAAA,CAGF,gEACE,kBCUW,CDTX,eAAA,CACA,aAAA,CAGF,4DACE,UAAA,CACA,iBCaW,CDZX,kBAAA,CACA,eCCW,CAAA,eAAA,CDGb,2DEg0BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CF9zBF,eCLW,CDMX,kBCNW,CDOX,aDnCM,CCsCR,uEEyzBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CFvzBF,aDxCM,CCyCN,cAAA,CAGF,2DACE,oBAAA,CAGF,iEACE,YAAA,CACA,UAAA,CAGF,gEACE,eAAA,CACA,eC3BW,CD6BX,QAAA,CAGF,wEACE,aDtDe,CCyDjB,4DACE,aD3Dc,CC4Dd,gBAAA,CACA,cCvCW,CDwCX,eAAA,CAEA,mEACE,oBAAA,CACA,aDjEa,CCoEf,kEACE,oBAAA,CACA,aDtEa,CCuEb,cAAA,CAIJ,wDACE,qBAAA,CAIA,wFACE,eAAA,CAKF,+EACE,eAAA,CAOA,8EACE,sBAAA,CAIJ,0EACE,kBAAA,CACA,kBCtES,CErCb,6DD81BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CC11BJ,+DD01BI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CCt1BJ,6DACE,kBFkBW,CEfb,sEACE,YAAA,CACA,kBAAA,CAGF,qED60BI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CC30BF,aJlBQ,CIqBV,4DACE,wBAAA,CAIA,kGACE,6BAAA",sourceRoot:""}]),o.locals={title:"-esm-patient-registration__relationships__title___VwsTO",submit:"-esm-patient-registration__relationships__submit___XKnWx",cancelButton:"-esm-patient-registration__relationships__cancelButton___BQuUm",submitButton:"-esm-patient-registration__relationships__submitButton___Tg9V7",infoGrid:"-esm-patient-registration__relationships__infoGrid___SAUPw",label01:"-esm-patient-registration__relationships__label01___pH0BA",productiveHeading02:"-esm-patient-registration__relationships__productiveHeading02___BjxK9",space05:"-esm-patient-registration__relationships__space05___cMUhT",formContainer:"-esm-patient-registration__relationships__formContainer___fk4C8",stickyColumn:"-esm-patient-registration__relationships__stickyColumn___hS_Eh",touchTarget:"-esm-patient-registration__relationships__touchTarget___PbOAv",linkName:"-esm-patient-registration__relationships__linkName___QK15g",main:"-esm-patient-registration__relationships__main___kTcJj",spinner:"-esm-patient-registration__relationships__spinner____dwdz",labelText:"-esm-patient-registration__relationships__labelText___uj7UC",bodyShort02:"-esm-patient-registration__relationships__bodyShort02___lfKTT",searchBox:"-esm-patient-registration__relationships__searchBox___sm1h1",relationshipHeader:"-esm-patient-registration__relationships__relationshipHeader____GJQK",productiveHeading:"-esm-patient-registration__relationships__productiveHeading___kksGB",trashCan:"-esm-patient-registration__relationships__trashCan___RUDnn"};const s=o},713:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(272),r=n.n(i),a=n(2609),o=n.n(a)()(r());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__section__title___t5kfW{color:var(--omrs-color-brand-teal)}.-esm-patient-registration__section__submit___deOxc{width:250px}.-esm-patient-registration__section__submit___deOxc:hover{cursor:pointer}.-esm-patient-registration__section__cancelButton___WL_ze{width:11.688rem}.-esm-patient-registration__section__submitButton___LIciE{margin-bottom:1rem;width:11.688rem;display:block}.-esm-patient-registration__section__infoGrid___pWQZT{width:100%;padding-left:2rem;margin-bottom:40vh;margin-top:1rem;max-width:50rem}.-esm-patient-registration__section__label01___zyKRq{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);margin-top:1rem;margin-bottom:1rem;color:#8d8d8d}.-esm-patient-registration__section__productiveHeading02____1hxG{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#8d8d8d;cursor:pointer}.-esm-patient-registration__section__space05___lREpo{margin:1rem 0 1rem 0}.-esm-patient-registration__section__formContainer___SRjjl{display:flex;width:100%}.-esm-patient-registration__section__stickyColumn___a3FUs{position:sticky;margin-top:1rem;top:4rem}.-esm-patient-registration__section__touchTarget___Eb0y6 a:active{color:#161616}.-esm-patient-registration__section__linkName___u7Bhd{color:#525252;line-height:1.38;font-size:1rem;font-weight:600}.-esm-patient-registration__section__linkName___u7Bhd:active{text-decoration:none;color:#161616}.-esm-patient-registration__section__linkName___u7Bhd:hover{text-decoration:none;color:#161616;cursor:pointer}.-esm-patient-registration__section__main___yCaDW{background-color:#fff}.omrs-breakpoint-lt-desktop .-esm-patient-registration__section__infoGrid___pWQZT{max-width:unset}.-esm-patient-registration__section__spinner___rIo46.cds--inline-loading{min-height:1rem}html[dir=rtl] .-esm-patient-registration__section__linkName___u7Bhd>svg{transform:scale(-1, 1)}html[dir=rtl] .-esm-patient-registration__section__infoGrid___pWQZT{padding-left:unset;padding-right:2rem}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/patient-registration/patient-registration.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,mDACE,kCAAA,CAGF,oDACE,WAAA,CAGF,0DACE,cAAA,CAGF,0DACE,eAAA,CAGF,0DACE,kBCUW,CDTX,eAAA,CACA,aAAA,CAGF,sDACE,UAAA,CACA,iBCaW,CDZX,kBAAA,CACA,eCCW,CAAA,eAAA,CDGb,qDEg0BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CF9zBF,eCLW,CDMX,kBCNW,CDOX,aDnCM,CCsCR,iEEyzBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CFvzBF,aDxCM,CCyCN,cAAA,CAGF,qDACE,oBAAA,CAGF,2DACE,YAAA,CACA,UAAA,CAGF,0DACE,eAAA,CACA,eC3BW,CD6BX,QAAA,CAGF,kEACE,aDtDe,CCyDjB,sDACE,aD3Dc,CC4Dd,gBAAA,CACA,cCvCW,CDwCX,eAAA,CAEA,6DACE,oBAAA,CACA,aDjEa,CCoEf,4DACE,oBAAA,CACA,aDtEa,CCuEb,cAAA,CAIJ,kDACE,qBAAA,CAIA,kFACE,eAAA,CAKF,yEACE,eAAA,CAOA,wEACE,sBAAA,CAIJ,oEACE,kBAAA,CACA,kBCtES",sourceRoot:""}]),o.locals={title:"-esm-patient-registration__section__title___t5kfW",submit:"-esm-patient-registration__section__submit___deOxc",cancelButton:"-esm-patient-registration__section__cancelButton___WL_ze",submitButton:"-esm-patient-registration__section__submitButton___LIciE",infoGrid:"-esm-patient-registration__section__infoGrid___pWQZT",label01:"-esm-patient-registration__section__label01___zyKRq",productiveHeading02:"-esm-patient-registration__section__productiveHeading02____1hxG",space05:"-esm-patient-registration__section__space05___lREpo",formContainer:"-esm-patient-registration__section__formContainer___SRjjl",stickyColumn:"-esm-patient-registration__section__stickyColumn___a3FUs",touchTarget:"-esm-patient-registration__section__touchTarget___Eb0y6",linkName:"-esm-patient-registration__section__linkName___u7Bhd",main:"-esm-patient-registration__section__main___yCaDW",spinner:"-esm-patient-registration__section__spinner___rIo46"};const s=o},4102:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(272),r=n.n(i),a=n(2609),o=n.n(a)()(r());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__overlay__title____YPY_{color:var(--omrs-color-brand-teal)}.-esm-patient-registration__overlay__submit___zc6Wb{width:250px}.-esm-patient-registration__overlay__submit___zc6Wb:hover{cursor:pointer}.-esm-patient-registration__overlay__cancelButton___h860H{width:11.688rem}.-esm-patient-registration__overlay__submitButton___xvgAH{margin-bottom:1rem;width:11.688rem;display:block}.-esm-patient-registration__overlay__infoGrid___LpFZH{width:100%;padding-left:2rem;margin-bottom:40vh;margin-top:1rem;max-width:50rem}.-esm-patient-registration__overlay__label01___YrbZe{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);margin-top:1rem;margin-bottom:1rem;color:#8d8d8d}.-esm-patient-registration__overlay__productiveHeading02___sQ1wt{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#8d8d8d;cursor:pointer}.-esm-patient-registration__overlay__space05___qxgdq{margin:1rem 0 1rem 0}.-esm-patient-registration__overlay__formContainer___mqmN0{display:flex;width:100%}.-esm-patient-registration__overlay__stickyColumn___BR29p{position:sticky;margin-top:1rem;top:4rem}.-esm-patient-registration__overlay__touchTarget___tGlGl a:active{color:#161616}.-esm-patient-registration__overlay__linkName___NTGfr{color:#525252;line-height:1.38;font-size:1rem;font-weight:600}.-esm-patient-registration__overlay__linkName___NTGfr:active{text-decoration:none;color:#161616}.-esm-patient-registration__overlay__linkName___NTGfr:hover{text-decoration:none;color:#161616;cursor:pointer}.-esm-patient-registration__overlay__main___MOTWA{background-color:#fff}.omrs-breakpoint-lt-desktop .-esm-patient-registration__overlay__infoGrid___LpFZH{max-width:unset}.-esm-patient-registration__overlay__spinner___knUsd.cds--inline-loading{min-height:1rem}html[dir=rtl] .-esm-patient-registration__overlay__linkName___NTGfr>svg{transform:scale(-1, 1)}html[dir=rtl] .-esm-patient-registration__overlay__infoGrid___LpFZH{padding-left:unset;padding-right:2rem}.-esm-patient-registration__overlay__desktopOverlay___d3zF6{position:fixed;top:3rem;right:0;height:calc(100vh - 3rem);min-width:27rem;background-color:#fff;border-left:1px solid #a8a8a8;overflow:hidden;display:grid;grid-template-rows:auto 1fr auto;z-index:999}.-esm-patient-registration__overlay__tabletOverlay___JSgzT{position:fixed;top:0;bottom:0;left:0;right:0;z-index:9999;background-color:#fff;overflow:hidden;padding-top:3rem;display:grid;grid-template-rows:1fr auto}.-esm-patient-registration__overlay__tabletOverlayHeader___HKDSr button{background-color:#005d5d !important}.-esm-patient-registration__overlay__tabletOverlayHeader___HKDSr .-esm-patient-registration__overlay__headerContent___E79in{color:#fff}.-esm-patient-registration__overlay__desktopHeader___D56AB{display:flex;justify-content:space-between;align-items:center;background-color:#e0e0e0;border-bottom:1px solid #a8a8a8}.-esm-patient-registration__overlay__headerContent___E79in{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);padding:0 1rem;color:#161616}.-esm-patient-registration__overlay__closeButton___jwVf9{background-color:#fff}.-esm-patient-registration__overlay__overlayContent___FVBjG{padding:1rem;overflow-y:auto}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/patient-registration/patient-registration.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./src/patient-registration/ui-components/overlay/overlay.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,mDACE,kCAAA,CAGF,oDACE,WAAA,CAGF,0DACE,cAAA,CAGF,0DACE,eAAA,CAGF,0DACE,kBCUW,CDTX,eAAA,CACA,aAAA,CAGF,sDACE,UAAA,CACA,iBCaW,CDZX,kBAAA,CACA,eCCW,CAAA,eAAA,CDGb,qDEg0BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CF9zBF,eCLW,CDMX,kBCNW,CDOX,aDnCM,CCsCR,iEEyzBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CFvzBF,aDxCM,CCyCN,cAAA,CAGF,qDACE,oBAAA,CAGF,2DACE,YAAA,CACA,UAAA,CAGF,0DACE,eAAA,CACA,eC3BW,CD6BX,QAAA,CAGF,kEACE,aDtDe,CCyDjB,sDACE,aD3Dc,CC4Dd,gBAAA,CACA,cCvCW,CDwCX,eAAA,CAEA,6DACE,oBAAA,CACA,aDjEa,CCoEf,4DACE,oBAAA,CACA,aDtEa,CCuEb,cAAA,CAIJ,kDACE,qBAAA,CAIA,kFACE,eAAA,CAKF,yEACE,eAAA,CAOA,wEACE,sBAAA,CAIJ,oEACE,kBAAA,CACA,kBCtES,CErCb,4DACE,cAAA,CACA,QF6CW,CE5CX,OAAA,CACA,yBAAA,CACA,eAAA,CACA,qBJTM,CIUN,6BAAA,CACA,eAAA,CACA,YAAA,CACA,gCAAA,CACA,WAAA,CAGF,2DACE,cAAA,CACA,KAAA,CACA,QAAA,CACA,MAAA,CACA,OAAA,CACA,YAAA,CACA,qBJxBM,CIyBN,eAAA,CACA,gBFwBW,CEvBX,YAAA,CACA,2BAAA,CAIA,wEACE,mCAAA,CAEF,4HACE,UJpCI,CIwCR,2DACE,YAAA,CACA,6BAAA,CACA,kBAAA,CACA,wBJ3CM,CI4CN,+BAAA,CAGF,2DDizBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CC/yBF,cAAA,CACA,aJhDM,CImDR,yDACE,qBJvDM,CI0DR,4DACE,YF7BW,CE8BX,eAAA",sourceRoot:""}]),o.locals={title:"-esm-patient-registration__overlay__title____YPY_",submit:"-esm-patient-registration__overlay__submit___zc6Wb",cancelButton:"-esm-patient-registration__overlay__cancelButton___h860H",submitButton:"-esm-patient-registration__overlay__submitButton___xvgAH",infoGrid:"-esm-patient-registration__overlay__infoGrid___LpFZH",label01:"-esm-patient-registration__overlay__label01___YrbZe",productiveHeading02:"-esm-patient-registration__overlay__productiveHeading02___sQ1wt",space05:"-esm-patient-registration__overlay__space05___qxgdq",formContainer:"-esm-patient-registration__overlay__formContainer___mqmN0",stickyColumn:"-esm-patient-registration__overlay__stickyColumn___BR29p",touchTarget:"-esm-patient-registration__overlay__touchTarget___tGlGl",linkName:"-esm-patient-registration__overlay__linkName___NTGfr",main:"-esm-patient-registration__overlay__main___MOTWA",spinner:"-esm-patient-registration__overlay__spinner___knUsd",desktopOverlay:"-esm-patient-registration__overlay__desktopOverlay___d3zF6",tabletOverlay:"-esm-patient-registration__overlay__tabletOverlay___JSgzT",tabletOverlayHeader:"-esm-patient-registration__overlay__tabletOverlayHeader___HKDSr",headerContent:"-esm-patient-registration__overlay__headerContent___E79in",desktopHeader:"-esm-patient-registration__overlay__desktopHeader___D56AB",closeButton:"-esm-patient-registration__overlay__closeButton___jwVf9",overlayContent:"-esm-patient-registration__overlay__overlayContent___FVBjG"};const s=o},8928:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(272),r=n.n(i),a=n(2609),o=n.n(a)()(r());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-registration__patient-verification__title___FpuaQ{color:var(--omrs-color-brand-teal)}.-esm-patient-registration__patient-verification__submit___SLswF{width:250px}.-esm-patient-registration__patient-verification__submit___SLswF:hover{cursor:pointer}.-esm-patient-registration__patient-verification__cancelButton___RXj9P{width:11.688rem}.-esm-patient-registration__patient-verification__submitButton___Oy620{margin-bottom:1rem;width:11.688rem;display:block}.-esm-patient-registration__patient-verification__infoGrid___nnX3H{width:100%;padding-left:2rem;margin-bottom:40vh;margin-top:1rem;max-width:50rem}.-esm-patient-registration__patient-verification__label01___egrNc{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px);margin-top:1rem;margin-bottom:1rem;color:#8d8d8d}.-esm-patient-registration__patient-verification__productiveHeading02___Vktw7{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#8d8d8d;cursor:pointer}.-esm-patient-registration__patient-verification__space05___JNnZ3{margin:1rem 0 1rem 0}.-esm-patient-registration__patient-verification__formContainer___rhAxH{display:flex;width:100%}.-esm-patient-registration__patient-verification__stickyColumn___uau9B{position:sticky;margin-top:1rem;top:4rem}.-esm-patient-registration__patient-verification__touchTarget___VKIUW a:active{color:#161616}.-esm-patient-registration__patient-verification__linkName___TOGpb{color:#525252;line-height:1.38;font-size:1rem;font-weight:600}.-esm-patient-registration__patient-verification__linkName___TOGpb:active{text-decoration:none;color:#161616}.-esm-patient-registration__patient-verification__linkName___TOGpb:hover{text-decoration:none;color:#161616;cursor:pointer}.-esm-patient-registration__patient-verification__main___ajuiO{background-color:#fff}.omrs-breakpoint-lt-desktop .-esm-patient-registration__patient-verification__infoGrid___nnX3H{max-width:unset}.-esm-patient-registration__patient-verification__spinner___c93Ta.cds--inline-loading{min-height:1rem}html[dir=rtl] .-esm-patient-registration__patient-verification__linkName___TOGpb>svg{transform:scale(-1, 1)}html[dir=rtl] .-esm-patient-registration__patient-verification__infoGrid___nnX3H{padding-left:unset;padding-right:2rem}.omrs-breakpoint-gt-tablet .-esm-patient-registration__patient-verification__verificationWrapper___s93qh{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;column-gap:.325rem;align-items:flex-end}.omrs-breakpoint-lt-desktop .-esm-patient-registration__patient-verification__verificationWrapper___s93qh{row-gap:.5rem;display:flex;flex-direction:column}.-esm-patient-registration__patient-verification__errorWrapper___ufQm1{color:#fa4d56;margin:0 0 1rem 0;display:flex;justify-content:center;align-items:center}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/patient-registration/patient-registration.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./src/patient-verification/patient-verification.scss","webpack://./../../node_modules/@carbon/colors/index.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,gEACE,kCAAA,CAGF,iEACE,WAAA,CAGF,uEACE,cAAA,CAGF,uEACE,eAAA,CAGF,uEACE,kBCUW,CDTX,eAAA,CACA,aAAA,CAGF,mEACE,UAAA,CACA,iBCaW,CDZX,kBAAA,CACA,eCCW,CAAA,eAAA,CDGb,kEEg0BI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CF9zBF,eCLW,CDMX,kBCNW,CDOX,aDnCM,CCsCR,8EEyzBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CFvzBF,aDxCM,CCyCN,cAAA,CAGF,kEACE,oBAAA,CAGF,wEACE,YAAA,CACA,UAAA,CAGF,uEACE,eAAA,CACA,eC3BW,CD6BX,QAAA,CAGF,+EACE,aDtDe,CCyDjB,mEACE,aD3Dc,CC4Dd,gBAAA,CACA,cCvCW,CDwCX,eAAA,CAEA,0EACE,oBAAA,CACA,aDjEa,CCoEf,yEACE,oBAAA,CACA,aDtEa,CCuEb,cAAA,CAIJ,+DACE,qBAAA,CAIA,+FACE,eAAA,CAKF,sFACE,eAAA,CAOA,qFACE,sBAAA,CAIJ,iFACE,kBAAA,CACA,kBCtES,CEpCX,yGACE,YAAA,CACA,qCAAA,CACA,kBAAA,CACA,oBAAA,CAMF,0GACE,aAAA,CACA,YAAA,CACA,qBAAA,CAKJ,uEACE,aCwEO,CDvEP,iBAAA,CACA,YAAA,CACA,sBAAA,CACA,kBAAA",sourceRoot:""}]),o.locals={title:"-esm-patient-registration__patient-verification__title___FpuaQ",submit:"-esm-patient-registration__patient-verification__submit___SLswF",cancelButton:"-esm-patient-registration__patient-verification__cancelButton___RXj9P",submitButton:"-esm-patient-registration__patient-verification__submitButton___Oy620",infoGrid:"-esm-patient-registration__patient-verification__infoGrid___nnX3H",label01:"-esm-patient-registration__patient-verification__label01___egrNc",productiveHeading02:"-esm-patient-registration__patient-verification__productiveHeading02___Vktw7",space05:"-esm-patient-registration__patient-verification__space05___JNnZ3",formContainer:"-esm-patient-registration__patient-verification__formContainer___rhAxH",stickyColumn:"-esm-patient-registration__patient-verification__stickyColumn___uau9B",touchTarget:"-esm-patient-registration__patient-verification__touchTarget___VKIUW",linkName:"-esm-patient-registration__patient-verification__linkName___TOGpb",main:"-esm-patient-registration__patient-verification__main___ajuiO",spinner:"-esm-patient-registration__patient-verification__spinner___c93Ta",verificationWrapper:"-esm-patient-registration__patient-verification__verificationWrapper___s93qh",errorWrapper:"-esm-patient-registration__patient-verification__errorWrapper___ufQm1"};const s=o},1234:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(272),r=n.n(i),a=n(2609),o=n.n(a)()(r());o.push([e.id,".-esm-patient-registration__root__root___ZqEMk{background-color:#fff}.-esm-patient-registration__root__grid___Bq7KW{grid-template-columns:repeat(1, minmax(0, 1fr))}","",{version:3,sources:["webpack://./src/root.scss"],names:[],mappings:"AAAA,+CACE,qBAAA,CAGF,+CACE,+CAAA",sourceRoot:""}]),o.locals={root:"-esm-patient-registration__root__root___ZqEMk",grid:"-esm-patient-registration__root__grid___Bq7KW"};const s=o},3598:(e,t,n)=>{"use strict";n.r(t),n.d(t,{addPatientLink:()=>Ur,cancelPatientEditModal:()=>Gr,confirmClientRegistryModal:()=>Wr,deleteIdentifierConfirmationModal:()=>Rr,editPatient:()=>Pr,editPatientDetailsButton:()=>Mr,emptyClientRegistryModal:()=>qr,importTranslation:()=>xr,patientPhoto:()=>Lr,root:()=>jr,startupApp:()=>Ir});var r=n(2870);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=[{id:"demographics",name:"Basic Info",fields:["name","gender","dob","id"]},{id:"contact",name:"Contact Details",fields:["address","phone"]},{id:"death",name:"Death Info",fields:[]},{id:"relationships",name:"Relationships",fields:[]}],l=["name","gender","dob","address","id","phone & email"],c={sections:{_type:r.Type.Array,_default:["demographics","contact","relationships"],_description:"An array of strings which are the keys from 'sectionDefinitions' or any of the following built-in sections: '".concat(s.map((function(e){return e.id})).join("', '"),"'."),_elements:{_type:r.Type.String}},sectionDefinitions:{_type:r.Type.Array,_elements:{id:{_type:r.Type.String,_description:"How this section will be referred to in the `sections` configuration. To override a built-in section, use that section's id. The built in section ids are '".concat(s.map((function(e){return e.id})).join("', '"),"'.")},name:{_type:r.Type.String,_description:"The title to display at the top of the section."},fields:{_type:r.Type.Array,_default:[],_description:"The parts to include in the section. Can be any of the following built-in fields: ".concat(l.join(", "),". Can also be an id from an object in the `fieldDefinitions` array, which you can use to define custom fields."),_elements:{_type:r.Type.String}}},_default:[]},fieldDefinitions:{_type:r.Type.Array,_elements:{id:{_type:r.Type.String,_description:"How this field will be referred to in the `fields` element of the `sectionDefinitions` configuration."},type:{_type:r.Type.String,_description:"How this field's data will be stored—a person attribute or an obs."},uuid:{_type:r.Type.UUID,_description:"Person attribute type UUID that this field's data should be saved to."},showHeading:{_type:r.Type.Boolean,_description:"Whether to show a heading above the person attribute field.",_default:!1},label:{_type:r.Type.String,_default:null,_description:"The label of the input. By default, uses the metadata `display` attribute."},placeholder:{_type:r.Type.String,_default:"",_description:"Placeholder that will appear in the input."},validation:{required:{_type:r.Type.Boolean,_default:!1},matches:{_type:r.Type.String,_default:null,_description:"Optional RegEx for testing the validity of the input."}},answerConceptSetUuid:{_type:r.Type.ConceptUuid,_default:null,_description:"For coded questions only. A concept which has the possible responses either as answers or as set members."},customConceptAnswers:{_type:r.Type.Array,_elements:{uuid:{_type:r.Type.UUID,_description:"Answer concept UUID"},label:{_type:r.Type.String,_default:null,_description:"The custom label for the answer concept."}},_default:[],_description:"For coded questions only. Provide ability to add custom concept answers."}},_default:[{id:"phone",type:"person attribute",uuid:"14d4f066-15f5-102d-96e4-000c29c2a5d7",showHeading:!1,validation:{matches:""}}],_description:"Definitions for custom fields that can be used in sectionDefinitions. Can also be used to override built-in fields."},fieldConfigurations:{name:{displayMiddleName:{_type:r.Type.Boolean,_default:!0},allowUnidentifiedPatients:{_type:r.Type.Boolean,_default:!0,_description:"Whether to allow registering unidentified patients."},defaultUnknownGivenName:{_type:r.Type.String,_default:"UNKNOWN",_description:"The given/first name to record for unidentified patients."},defaultUnknownFamilyName:{_type:r.Type.String,_default:"UNKNOWN",_description:"The family/last name to record for unidentified patients."},displayCapturePhoto:{_type:r.Type.Boolean,_default:!0,_description:"Whether to display capture patient photo slot on name field"},displayReverseFieldOrder:{_type:r.Type.Boolean,_default:!1,_description:"Whether to display the name fields in the order 'Family name' -> 'Middle name' -> 'First name'"}},gender:{_type:r.Type.Array,_elements:{value:{_type:r.Type.String,_description:"The value for sex option"},label:{_type:r.Type.String,_default:null,_description:"The label displayed for sex option."},id:{_type:r.Type.String,_default:null,_description:"The id for sex option."}},_default:[{id:"male",value:"Male",label:"Male"},{id:"female",value:"Female",label:"Female"},{id:"other",value:"Other",label:"Other"},{id:"unknown",value:"Unknown",label:"Unknown"}],_description:"Provide ability to configure sex options."},address:{useAddressHierarchy:{enabled:{_type:r.Type.Boolean,_description:"Whether to use the Address hierarchy in the registration form or not",_default:!0},useQuickSearch:{_type:r.Type.Boolean,_description:"Whether to use the quick searching through the address saved in the database pre-fill the form.",_default:!0},searchAddressByLevel:{_type:r.Type.Boolean,_description:"Whether to fill the addresses by levels, i.e. County => subCounty, the current field is dependent on it's previous field.",_default:!1},useAddressHierarchyLabel:{_type:r.Type.Object,_description:"Whether to use custom labels for address hierarchy",_default:{}}}},dateOfBirth:{allowEstimatedDateOfBirth:{_type:r.Type.Boolean,_description:"Whether to allow estimated date of birth for a patient during registration",_default:!0},useEstimatedDateOfBirth:{enabled:{_type:r.Type.Boolean,_description:"Whether to use a fixed day and month for estimated date of birth",_default:!1},dayOfMonth:{_type:r.Type.Number,_description:"The custom day of the month use on the estimated date of birth",_default:0},month:{_type:r.Type.Number,_description:"The custom month to use on the estimated date of birth i.e 0 = Jan & 11 = Dec",_default:0}}}},links:{submitButton:{_type:r.Type.String,_default:"${openmrsSpaBase}/patient/${patientUuid}/chart",_validators:[r.validators.isUrlWithTemplateParameters(["patientUuid"])]}},concepts:{patientPhotoUuid:{_type:r.Type.ConceptUuid,_default:"736e8771-e501-4615-bfa7-570c03f4bef5"}},defaultPatientIdentifierTypes:{_type:r.Type.Array,_elements:{_type:r.Type.PatientIdentifierTypeUuid},_default:[]},registrationObs:{encounterTypeUuid:{_type:r.Type.UUID,_default:null,_description:"Obs created during registration will be associated with an encounter of this type. This must be set in order to use fields of type `obs`."},encounterProviderRoleUuid:{_type:r.Type.UUID,_default:"a0b03050-c99b-11e0-9572-0800200c9a66",_description:"The provider role to use for the registration encounter. Default is 'Unkown'."},registrationFormUuid:{_type:r.Type.UUID,_default:null,_description:"The form UUID to associate with the registration encounter. By default no form will be associated."}},_validators:[(0,r.validator)((function(e){return!e.fieldDefinitions.some((function(e){return"obs"==e.type}))||null!=e.registrationObs.encounterTypeUuid}),"If fieldDefinitions contains any fields of type 'obs', `registrationObs.encounterTypeUuid` must be specified."),(0,r.validator)((function(e){return e.sections.every((function(t){return o(s).concat(o(e.sectionDefinitions)).map((function(e){return e.id})).includes(t)}))}),(function(e){var t=o(s).concat(o(e.sectionDefinitions)).map((function(e){return e.id})),n=e.sections.find((function(e){return!t.includes(e)}));return"'".concat(n,"' is not a valid section ID. Valid section IDs include the built-in sections ").concat(u(s))+(e.sectionDefinitions.length?"; and the defined sections ".concat(u(e.sectionDefinitions),"."):".")})),(0,r.validator)((function(e){return e.sectionDefinitions.every((function(t){return t.fields.every((function(t){return o(l).concat(o(e.fieldDefinitions.map((function(e){return e.id})))).includes(t)}))}))}),(function(e){var t=o(l).concat(o(e.fieldDefinitions.map((function(e){return e.id})))),n=e.sectionDefinitions.find((function(e){return e.fields.some((function(e){return!t.includes(e)}))})),i=n.fields.find((function(e){return!t.includes(e)}));return"The section definition '".concat(n.id,"' contains an invalid field '").concat(i,"'. 'fields' can only contain the built-in fields '").concat(l.join("', '"),"'")+(e.fieldDefinitions.length?"; or the defined fields ".concat(u(e.fieldDefinitions),"."):".")}))]};function u(e){return"'".concat(e.map((function(e){return e.id})).join("', '"),"'")}var d,A,p,m="custom:(display,uuid,personA:(age,display,birthdate,uuid),personB:(age,display,birthdate,uuid),relationshipType:(uuid,display,description,aIsToB,bIsToA))",_="@kenyaemr/esm-patient-registration-app",f="patient-registration",g=(d={},p="network-first",(A=r.omrsOfflineCachingStrategyHttpHeaderName)in d?Object.defineProperty(d,A,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[A]=p,d),h=n(268),y=n.n(h),b=n(286),v=n(2777),C=n(8407);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function w(e){if(Array.isArray(e))return e}function D(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){D(a,i,r,o,s,"next",e)}function s(e){D(a,i,r,o,s,"throw",e)}o(void 0)}))}}function O(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function T(e,t){return w(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||F(e,t)||S()}function B(e){return w(e)||O(e)||F(e,i)||S()}function F(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}var x=function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},N=y().createContext(null);function I(){return j.apply(this,arguments)}function j(){return(j=k((function(){return x(this,(function(e){switch(e.label){case 0:return[4,X("/ws/rest/v1/session")];case 1:return[2,e.sent().data]}}))}))).apply(this,arguments)}function P(){return U.apply(this,arguments)}function U(){return(U=k((function(){return x(this,(function(e){switch(e.label){case 0:return[4,X("/ws/rest/v1/addresstemplate")];case 1:return[2,e.sent().data]}}))}))).apply(this,arguments)}function G(){return L.apply(this,arguments)}function L(){return(L=k((function(){return x(this,(function(e){switch(e.label){case 0:return[4,X("/ws/rest/v1/relationshiptype?v=default")];case 1:return[2,e.sent().data]}}))}))).apply(this,arguments)}function M(){return R.apply(this,arguments)}function R(){return R=k((function(){var e,t;return x(this,(function(n){switch(n.label){case 0:return[4,(0,r.getConfig)(_)];case 1:return(e=n.sent()).fieldDefinitions?(t=e.fieldDefinitions.map((function(e){return function(e){return W.apply(this,arguments)}(e)})),[4,Promise.all(t)]):[2];case 2:return[2,n.sent().reduce((function(e,t){return t&&e.push(t),e}),[])]}}))})),R.apply(this,arguments)}function W(){return(W=k((function(e){var t;return x(this,(function(n){switch(n.label){case 0:return t="","person attribute"===e.type&&(t="/ws/rest/v1/personattributetype/".concat(e.uuid)),e.answerConceptSetUuid?[4,X("/ws/rest/v1/concept/".concat(e.answerConceptSetUuid))]:[3,2];case 1:n.sent(),n.label=2;case 2:return[4,X(t)];case 3:return[2,n.sent().data]}}))}))).apply(this,arguments)}function q(){return V.apply(this,arguments)}function V(){return V=k((function(){var e,t,n,i,r,a;return x(this,(function(o){switch(o.label){case 0:return[4,z()];case 1:return e=o.sent(),t=e.filter(Boolean),[4,Promise.all([K()].concat((s=t.map((function(e){return function(e){return H.apply(this,arguments)}(e.uuid)})),function(e){if(Array.isArray(e))return E(e)}(s)||O(s)||F(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())))];case 2:for(n=B.apply(void 0,[o.sent()]),i=n[0],r=n.slice(1),a=0;a<(null==t?void 0:t.length);a++)t[a].identifierSources=r[a].data.results.map((function(e){var t=(0,b.Z)(i.data.results,{source:{uuid:e.uuid}});return e.autoGenerationOption=t,e}));return[2,t]}var s}))})),V.apply(this,arguments)}function z(){return Z.apply(this,arguments)}function Z(){return(Z=k((function(){var e,t,n,i,r,a,o,s,l,c;return x(this,(function(u){switch(u.label){case 0:return[4,Promise.all([X("/ws/rest/v1/patientidentifiertype?v=custom:(display,uuid,name,format,required,uniquenessBehavior)"),X("/ws/rest/v1/metadatamapping/termmapping?v=full&code=emr.primaryIdentifierType")])];case 1:return e=T.apply(void 0,[u.sent(),2]),t=e[0],n=e[1],t.ok?(s=null==t||null===(i=t.data)||void 0===i?void 0:i.results,l=null==n||null===(r=n.data)||void 0===r||null===(a=r.results)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.metadataUuid,c=[],s.forEach((function(e){var t;e.uuid!==l&&c.push((!1,{name:(t=e).display,fieldName:(0,v.Z)(t.name),required:t.required,uuid:t.uuid,format:t.format,isPrimary:false,uniquenessBehavior:t.uniquenessBehavior}))})),[2,c]):[2,[]]}}))}))).apply(this,arguments)}function H(){return(H=k((function(e){return x(this,(function(t){switch(t.label){case 0:return[4,X("/ws/rest/v1/idgen/identifiersource?v=default&identifierType=".concat(e))];case 1:return[2,t.sent()]}}))}))).apply(this,arguments)}function K(e){return Y.apply(this,arguments)}function Y(){return(Y=k((function(e){return x(this,(function(e){switch(e.label){case 0:return[4,X("/ws/rest/v1/idgen/autogenerationoption?v=full")];case 1:return[2,e.sent()]}}))}))).apply(this,arguments)}function X(e){return J.apply(this,arguments)}function J(){return(J=k((function(e){var t;return x(this,(function(n){switch(n.label){case 0:return t=new AbortController,[4,(0,r.messageOmrsServiceWorker)({type:"registerDynamicRoute",pattern:(0,C.Z)(e)})];case 1:return n.sent(),[4,(0,r.openmrsFetch)(e,{headers:g,signal:null==t?void 0:t.signal})];case 2:return[2,n.sent()]}}))}))).apply(this,arguments)}var Q=n(3255);function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ee(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function te(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){ee(a,i,r,o,s,"next",e)}function s(e){ee(a,i,r,o,s,"throw",e)}o(void 0)}))}}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||ie(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}var re=function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};function ae(e,t){var n=new AbortController;return(0,r.openmrsFetch)("/ws/rest/v1/patient/".concat(t||""),{headers:{"Content-Type":"application/json"},method:"POST",body:e,signal:n.signal})}function oe(e,t){var n=new AbortController;return(0,r.openmrsFetch)("/ws/rest/v1/person/".concat(t,"/name/").concat(e),{method:"DELETE",signal:n.signal})}function se(e,t,n,i,r){return le.apply(this,arguments)}function le(){return(le=te((function(e,t,n,i,a){var o,s;return re(this,(function(l){return o=new AbortController,(s=new FormData).append("patient",e),s.append("file",function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(t.length),r=0;r<t.length;r++)i[r]=t.charCodeAt(r);var a=new Blob([i],{type:n});return new File([a],"patient-photo.png")}(t)),s.append("json",JSON.stringify({person:e,concept:a,groupMembers:[],obsDatetime:i})),[2,(0,r.openmrsFetch)(n,{method:"POST",signal:o.signal,body:s})]}))}))).apply(this,arguments)}function ce(e){var t,n,i,a=(0,r.useConfig)().concepts.patientPhotoUuid,o="/ws/rest/v1/obs?patient=".concat(e,"&concept=").concat(a,"&v=full"),s=(0,Q.ZP)(e?o:null,r.openmrsFetch),l=s.data,c=s.error,u=s.isLoading,d=null==l||null===(t=l.data)||void 0===t?void 0:t.results[0];return{data:d?{dateTime:null==d?void 0:d.obsDatetime,imageSrc:null==d||null===(n=d.value)||void 0===n||null===(i=n.links)||void 0===i?void 0:i.uri}:null,isError:c,isLoading:u}}function ue(e,t){return de.apply(this,arguments)}function de(){return(de=te((function(e,t){var n,i,a,o;return re(this,(function(s){switch(s.label){case 0:return[4,Promise.all([(0,r.openmrsFetch)("/ws/rest/v1/patient?q=".concat(e),{signal:t.signal}),(0,r.openmrsFetch)("/ws/rest/v1/person?q=".concat(e),{signal:t.signal})])];case 1:return n=ne.apply(void 0,[s.sent(),2]),i=n[0],a=n[1],l=i.data.results,o=function(e){if(Array.isArray(e))return $(e)}(l)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(l)||ie(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a.data.results.forEach((function(e){o.some((function(t){return t.uuid===e.uuid}))||o.push(e)})),[2,o]}var l}))}))).apply(this,arguments)}function Ae(e,t){return pe.apply(this,arguments)}function pe(){return(pe=te((function(e,t){var n;return re(this,(function(i){return n=new AbortController,[2,(0,r.openmrsFetch)("/ws/rest/v1/patient/".concat(e,"/identifier/"),{method:"POST",headers:{"Content-Type":"application/json"},signal:n.signal,body:t})]}))}))).apply(this,arguments)}function me(e,t,n){return _e.apply(this,arguments)}function _e(){return(_e=te((function(e,t,n){var i;return re(this,(function(a){return i=new AbortController,[2,(0,r.openmrsFetch)("/ws/rest/v1/patient/".concat(e,"/identifier/").concat(t),{method:"POST",headers:{"Content-Type":"application/json"},signal:i.signal,body:{identifier:n}})]}))}))).apply(this,arguments)}function fe(e,t){return ge.apply(this,arguments)}function ge(){return(ge=te((function(e,t){var n;return re(this,(function(i){return n=new AbortController,[2,(0,r.openmrsFetch)("/ws/rest/v1/patient/".concat(e,"/identifier/").concat(t,"?purge"),{method:"DELETE",headers:{"Content-Type":"application/json"},signal:n.signal})]}))}))).apply(this,arguments)}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ye(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function be(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){ye(a,i,r,o,s,"next",e)}function s(e){ye(a,i,r,o,s,"throw",e)}o(void 0)}))}}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){Ce(e,t,n[t])}))}return e}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?he(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var De,ke=function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},Oe=function(){function e(){ve(this,e)}return e.saveRelationships=function(e,t){return be((function(){return ke(this,(function(n){return[2,Promise.all(e.filter((function(e){return e.relationshipType})).filter((function(e){return!!e.action})).map((function(e){var n,i,a=e.relatedPersonUuid,o=e.relationshipType,s=e.uuid,l=e.action,c=we(o.split("/"),2),u=c[0],d=c[1],A=t.data.uuid,p="aIsToB"===d,m={personA:p?a:A,personB:p?A:a,relationshipType:u};switch(l){case"ADD":return n=m,i=new AbortController,(0,r.openmrsFetch)("/ws/rest/v1/relationship",{headers:{"Content-Type":"application/json"},method:"POST",body:n,signal:i.signal});case"UPDATE":return function(e,t){var n=new AbortController;return(0,r.openmrsFetch)("/ws/rest/v1/relationship/".concat(e),{headers:{"Content-Type":"application/json"},method:"POST",body:{relationshipType:t.relationshipType},signal:n.signal})}(s,m);case"DELETE":return function(e){var t=new AbortController;return(0,r.openmrsFetch)("/ws/rest/v1/relationship/".concat(e),{headers:{"Content-Type":"application/json"},method:"DELETE",signal:t.signal})}(s)}})))]}))}))()},e.saveObservations=function(e,t,n,i,a){return be((function(){return ke(this,(function(o){if(e&&Object.keys(e).length>0){if(a.registrationObs.encounterTypeUuid)return[2,(s={encounterDatetime:new Date,patient:t.data.uuid,encounterType:a.registrationObs.encounterTypeUuid,location:n,encounterProviders:[{provider:i.currentProvider.uuid,encounterRole:a.registrationObs.encounterProviderRoleUuid}],form:a.registrationObs.registrationFormUuid,obs:Object.entries(e).filter((function(e){return""!==we(e,2)[1]})).map((function(e){var t=we(e,2);return{concept:t[0],value:t[1]}}))},l=new AbortController,(0,r.openmrsFetch)("/ws/rest/v1/encounter",{headers:{"Content-Type":"application/json"},method:"POST",body:s,signal:l.signal}))];console.error("The registration form has been configured to have obs fields, but no registration encounter type has been configured. Obs field values will not be saved.")}var s,l;return[2]}))}))()},e.savePatientIdentifiers=function(e,t,n,i,a){return be((function(){var o;return ke(this,(function(s){var l;return o=Object.values(n).filter((function(e){var t=e.identifierValue,n=e.autoGeneration,i=e.selectedSource;return t||n&&i})).map((l=be((function(n){var i,o,s,l,c,u,d,A,p,m;return ke(this,(function(_){switch(_.label){case 0:return i=n.identifierTypeUuid,o=n.identifierValue,s=n.identifierUuid,l=n.selectedSource,c=n.preferred,u=n.autoGeneration,d=n.initialValue,u?[3,1]:(p=o,[3,4]);case 1:return[4,(f=l.uuid,g=new AbortController,(0,r.openmrsFetch)("/ws/rest/v1/idgen/identifiersource/".concat(f,"/identifier"),{headers:{"Content-Type":"application/json"},method:"POST",body:{},signal:g.signal}))];case 2:return[4,_.sent().data.identifier];case 3:p=_.sent(),_.label=4;case 4:return m={uuid:s,identifier:A=p,identifierType:i,location:a,preferred:c},e?[3,8]:d?[3,6]:[4,Ae(t,m)];case 5:return _.sent(),[3,8];case 6:return d===A?[3,8]:[4,me(t,s,m.identifier)];case 7:_.sent(),_.label=8;case 8:return[2,m]}var f,g}))})),function(e){return l.apply(this,arguments)})),t&&Object.keys(i).filter((function(e){return!n[e]})).forEach(function(){var e=be((function(e){return ke(this,(function(n){switch(n.label){case 0:return[4,fe(t,i[e].identifierUuid)];case 1:return n.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}()),[2,Promise.all(o)]}))}))()},e.getDeletedNames=function(e,t){return(null==t?void 0:t.additionalNameUuid)?[{nameUuid:t.additionalNameUuid,personUuid:e}]:[]},e.getPatientToCreate=function(t,n,i,r,a){var o,s,l;return s=n.birthdate,o=(null!=(l=Date)&&"undefined"!=typeof Symbol&&l[Symbol.hasInstance]?l[Symbol.hasInstance](s):s instanceof l)?[n.birthdate.getFullYear(),n.birthdate.getMonth()+1,n.birthdate.getDate()].join("-"):n.birthdate,{uuid:n.patientUuid,person:Ee({uuid:n.patientUuid,names:e.getNames(n,i),gender:n.gender.charAt(0),birthdate:o,birthdateEstimated:n.birthdateEstimated,attributes:e.getPatientAttributes(t,n,i),addresses:[n.address]},e.getPatientDeathInfo(n)),identifiers:a}},e.getNames=function(e,t){var n=[{uuid:t.preferredNameUuid,preferred:!0,givenName:e.givenName,middleName:e.middleName,familyName:e.familyName}];return e.addNameInLocalLanguage&&n.push({uuid:t.additionalNameUuid,preferred:!1,givenName:e.additionalGivenName,middleName:e.additionalMiddleName,familyName:e.additionalFamilyName}),n},e.getPatientAttributes=function(e,t,n){var i,a=[];return t.attributes&&(Object.entries(t.attributes).filter((function(e){return!!we(e,2)[1]})).forEach((function(e){var t=we(e,2),n=t[0],i=t[1];a.push({attributeType:n,value:i})})),!e&&t.patientUuid&&Object.entries(t.attributes).filter((function(e){return!we(e,2)[1]})).forEach((i=be((function(e){var i,a,o;return ke(this,(function(s){switch(s.label){case 0:return i=we(e,1),a=i[0],o=n["attribute.".concat(a)],[4,(0,r.openmrsFetch)("/ws/rest/v1/person/".concat(t.patientUuid,"/attribute/").concat(o),{method:"DELETE"}).catch((function(e){console.error(e)}))];case 1:return s.sent(),[2]}}))})),function(e){return i.apply(this,arguments)}))),a},e.getPatientDeathInfo=function(e){var t=e.isDead,n=e.deathDate,i=e.deathCause;return{dead:t,deathDate:t?n:void 0,causeOfDeath:t?i:void 0}},e.mapPatientToFhirPatient=function(e){var t,n,i,r,a,o;return{id:e.uuid,gender:{M:"male",F:"female",O:"other",U:"unknown"}[null===(t=e.person)||void 0===t?void 0:t.gender],birthDate:null===(n=e.person)||void 0===n?void 0:n.birthdate,deceasedBoolean:e.person.dead,deceasedDateTime:e.person.deathDate,name:null===(i=e.person)||void 0===i||null===(r=i.names)||void 0===r?void 0:r.map((function(e){return{given:[e.givenName,e.middleName].filter(Boolean),family:e.familyName}})),address:null===(a=e.person)||void 0===a?void 0:a.addresses.map((function(e){return{city:e.cityVillage,country:e.country,postalCode:e.postalCode,state:e.stateProvince,use:"home"}})),telecom:null===(o=e.person.attributes)||void 0===o?void 0:o.filter((function(e){return"Telephone Number"===e.attributeType}))}},e}();Oe.savePatientFormOffline=(De=be((function(e,t,n,i,a,o,s,l,c){var u;return ke(this,(function(d){switch(d.label){case 0:return u={fhirPatient:Oe.mapPatientToFhirPatient(Oe.getPatientToCreate(e,t,n,i,[])),_patientRegistrationData:{isNewPatient:e,formValues:t,patientUuidMap:n,initialAddressFieldValues:i,capturePhotoProps:a,currentLocation:o,initialIdentifierValues:s,currentUser:l,config:c,savePatientTransactionManager:new Se}},[4,(0,r.queueSynchronizationItem)(f,u,{id:t.patientUuid,displayName:"Patient registration",patientUuid:u.fhirPatient.id,dependencies:[]})];case 1:return d.sent(),[2,null]}}))})),function(e,t,n,i,r,a,o,s,l){return De.apply(this,arguments)}),Oe.savePatientFormOnline=function(){var e=be((function(e,t,n,i,r,a,o,s,l,c,u){var d,A,p;return ke(this,(function(u){switch(u.label){case 0:return[4,Oe.savePatientIdentifiers(e,t.patientUuid,t.identifiers,o,a)];case 1:return d=u.sent(),A=Oe.getPatientToCreate(e,t,n,i,d),Oe.getDeletedNames(t.patientUuid,n).forEach(function(){var e=be((function(e){return ke(this,(function(t){switch(t.label){case 0:return[4,oe(e.nameUuid,e.personUuid)];case 1:return t.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}()),[4,ae(A,e&&!c.patientSaved?void 0:t.patientUuid)];case 2:return(p=u.sent()).ok?(c.patientSaved=!0,[4,Oe.saveRelationships(t.relationships,p)]):[3,6];case 3:return u.sent(),[4,Oe.saveObservations(t.obs,p,a,s,l)];case 4:return u.sent(),l.concepts.patientPhotoUuid&&(null==r?void 0:r.imageData)?[4,se(p.data.uuid,r.imageData,"/ws/rest/v1/obs",r.dateTime||(new Date).toISOString(),l.concepts.patientPhotoUuid)]:[3,6];case 5:u.sent(),u.label=6;case 6:return[2,p.data.uuid]}}))}));return function(t,n,i,r,a,o,s,l,c,u,d){return e.apply(this,arguments)}}();var Se=function e(){ve(this,e),this.patientSaved=!1};function Te(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function Be(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){Te(a,i,r,o,s,"next",e)}function s(e){Te(a,i,r,o,s,"throw",e)}o(void 0)}))}}var Fe=function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};function xe(e){return["/ws/fhir2/R4/Patient/".concat(e),"/ws/rest/v1/relationship?v=".concat(m,"&person=").concat(e),"/ws/rest/v1/person/".concat(e,"/attribute"),"/ws/rest/v1/patient/".concat(e,"/identifier?v=custom:(uuid,identifier,identifierType:(uuid,required,name),preferred)")].map((function(e){return window.origin+(0,r.makeUrl)(e)}))}function Ne(){return(Ne=Be((function(){return Fe(this,(function(e){switch(e.label){case 0:return[4,Promise.all([I(),P(),G(),M(),q()])];case 1:return e.sent(),[2]}}))}))).apply(this,arguments)}function Ie(e,t){return je.apply(this,arguments)}function je(){return je=Be((function(e,t){return Fe(this,(function(n){switch(n.label){case 0:return[4,Oe.savePatientFormOnline(e._patientRegistrationData.isNewPatient,e._patientRegistrationData.formValues,e._patientRegistrationData.patientUuidMap,e._patientRegistrationData.initialAddressFieldValues,e._patientRegistrationData.capturePhotoProps,e._patientRegistrationData.currentLocation,e._patientRegistrationData.initialIdentifierValues,e._patientRegistrationData.currentUser,e._patientRegistrationData.config,e._patientRegistrationData.savePatientTransactionManager,t.abort)];case 1:return n.sent(),[2]}}))})),je.apply(this,arguments)}var Pe=n(2779),Ue=n.n(Pe),Ge=n(9198),Le=n.n(Ge),Me=n(8744),Re=n(4151),We=n(6484),qe=n(5288),Ve=n(4924),ze=n(898),Ze=n(2113),He=n(4519),Ke=n.n(He),Ye=Ze.Ry({givenName:Ze.Z_().required("givenNameRequired"),familyName:Ze.Z_().required("familyNameRequired"),additionalGivenName:Ze.Z_().when("addNameInLocalLanguage",{is:!0,then:Ze.Z_().required("givenNameRequired"),otherwise:Ze.Z_().notRequired()}),additionalFamilyName:Ze.Z_().when("addNameInLocalLanguage",{is:!0,then:Ze.Z_().required("familyNameRequired"),otherwise:Ze.Z_().notRequired()}),gender:Ze.Z_().oneOf(["Male","Female","Other","Unknown"],"genderUnspecified").required("genderRequired"),birthdate:Ze.hT().when("birthdateEstimated",{is:!1,then:Ze.hT().required("birthdayRequired").max(Date(),"birthdayNotInTheFuture").nullable(),otherwise:Ze.hT().nullable()}),yearsEstimated:Ze.Rx().when("birthdateEstimated",{is:!0,then:Ze.Rx().required("yearsEstimateRequired").min(0,"negativeYears"),otherwise:Ze.Rx().nullable()}),monthsEstimated:Ze.Rx().min(0,"negativeMonths"),deathDate:Ze.hT().max(Date(),"deathdayNotInTheFuture").nullable(),email:Ze.Z_().optional().email("invalidEmail"),identifiers:Ze.Vo((function(e){return Ze.Ry(Ke()(e,(function(){return Ze.Ry({required:Ze.Xg(),identifierValue:Ze.Z_().when("required",{is:!0,then:Ze.Z_().required("identifierValueRequired"),otherwise:Ze.Z_().notRequired()})})})))})),relationships:Ze.IX().of(Ze.Ry().shape({relatedPersonUuid:Ze.Z_().required(),relationshipType:Ze.Z_().required()}))}),Xe=(0,h.createContext)(void 0),Je=n(6804),Qe=n(2124),$e=n.n(Qe),et=n(1583),tt=n.n(et),nt=n(7378),it=n.n(nt),rt=n(5993),at=n.n(rt),ot=n(4154),st=n.n(ot),lt=n(8141),ct=n.n(lt),ut=n(7558),dt={};dt.styleTagTransform=ct(),dt.setAttributes=at(),dt.insert=it().bind(null,"head"),dt.domAPI=tt(),dt.insertStyleElement=st(),$e()(ut.Z,dt);const At=ut.Z&&ut.Z.locals?ut.Z.locals:void 0;var pt={patientUuid:(0,Je.Z)(),givenName:"John",middleName:"",familyName:"Smith",additionalGivenName:"Joey",additionalMiddleName:"",additionalFamilyName:"Smitty",addNameInLocalLanguage:!0,gender:"Male",birthdate:new Date(2020,1,1),yearsEstimated:1,monthsEstimated:2,birthdateEstimated:!0,telephoneNumber:"0800001066",isDead:!1,deathDate:"",deathCause:"",relationships:[],address:{address1:"Bom Jesus Street",address2:"",cityVillage:"Recife",stateProvince:"Pernambuco",country:"Brazil",postalCode:"50030-310"},identifiers:{}},mt=function(e){var t=e.setValues;return y().createElement("main",null,y().createElement("button",{className:Ue()("omrs-btn omrs-filled-neutral",At.dummyData),onClick:function(){return t(pt)},type:"button","aria-label":"Dummy Data Input"},"Input Dummy Data"))},_t=n(1140);function ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){gt(e,t,n[t])}))}return e}function yt(){window.history.back()}function bt(e){var t,n={},i=null===(t=e.address)||void 0===t?void 0:t[0];if(i){var r=!0,a=!1,o=void 0;try{for(var s,l=Object.keys(i)[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;switch(c){case"city":n.cityVillage=i[c];break;case"state":n.stateProvince=i[c];break;case"district":n.countyDistrict=i[c];break;case"extension":i[c].forEach((function(e){e.extension.forEach((function(e){n[e.url.split("#")[1]]=e.valueString}))}));break;default:"country"!==c&&"postalCode"!==c||(n[c]=i[c])}}}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}}return n}var vt=n(2228),Ct=n(6275),Et=n(3565),wt=n.n(Et);function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function kt(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function Ot(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){kt(a,i,r,o,s,"next",e)}function s(e){kt(a,i,r,o,s,"throw",e)}o(void 0)}))}}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){St(e,t,n[t])}))}return e}function Bt(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||Nt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(e){return function(e){if(Array.isArray(e))return Dt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Nt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){if(e){if("string"==typeof e)return Dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dt(e,t):void 0}}var It=function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};function jt(e){return Pt.apply(this,arguments)}function Pt(){return(Pt=Ot((function(e){return It(this,(function(t){switch(t.label){case 0:return[4,(0,r.getSynchronizationItems)(f)];case 1:return[2,t.sent().find((function(t){return t._patientRegistrationData.formValues.patientUuid===e}))]}}))}))).apply(this,arguments)}function Ut(e){var t=!!e,n=(0,Q.ZP)(t?"/ws/rest/v1/person/".concat(e,"/attribute?v=custom:(uuid,display,attributeType:(uuid,display,format),value)"):null,r.openmrsFetch),i=n.data,a=n.error,o=n.isLoading,s=(0,h.useMemo)((function(){var e;return{data:null==i||null===(e=i.data)||void 0===e?void 0:e.results,isLoading:o}}),[i,a]);return s}var Gt=n(6039),Lt={};Lt.styleTagTransform=ct(),Lt.setAttributes=at(),Lt.insert=it().bind(null,"head"),Lt.domAPI=tt(),Lt.insertStyleElement=st(),$e()(Gt.Z,Lt);const Mt=Gt.Z&&Gt.Z.locals?Gt.Z.locals:void 0;function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Wt(){return Wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Wt.apply(this,arguments)}var qt=function(e){var t=e.checkWarning,n=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["checkWarning"]),i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,ze.U$)(n.name),2),r=i[0],a=i[1],o=(0,Ve.useTranslation)().t,s=r.value||"",l=a.error&&o(a.error),c=(0,h.useMemo)((function(){if(!l&&"function"==typeof t){var e=t(s);return e&&o(e)}}),[t,l,s,o]),u=n.required?n.labelText:"".concat(n.labelText," (").concat(o("optional","optional"),")");return y().createElement("div",{style:{marginBottom:"1rem"}},y().createElement(Re.mh4,null,y().createElement(Re.oil,Wt({},n,r,{labelText:u,invalid:!(!a.touched||!a.error),invalidText:l,warn:!!c,warnText:c,value:s}))))},Vt=n(6680),zt={};zt.styleTagTransform=ct(),zt.setAttributes=at(),zt.insert=it().bind(null,"head"),zt.domAPI=tt(),zt.insertStyleElement=st(),$e()(Vt.Z,zt);const Zt=Vt.Z&&Vt.Z.locals?Vt.Z.locals:void 0;function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Kt=/^([^0-9]*)$/;function Yt(e){if(!Kt.test(e))return"numberInNameDubious"}var Xt=function(){var e=(0,Ve.useTranslation)().t,t=(0,h.useContext)(Xe),n=t.setCapturePhotoProps,i=t.currentPhoto,a=t.setFieldValue,o=(0,r.useConfig)().fieldConfigurations.name,s=o.displayCapturePhoto,l=o.allowUnidentifiedPatients,c=o.defaultUnknownGivenName,u=o.defaultUnknownFamilyName,d=o.displayMiddleName,A=o.displayReverseFieldOrder,p=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ht(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,ze.U$)("attributes.".concat("8b56eac7-5c76-4b9c-8c6f-1deab8d3fc47")),3),m=p[0].value,_=p[2].setValue,f="true"===m,g=(0,h.useCallback)((function(e,t){n&&n({imageData:e,dateTime:t})}),[n]),b=y().createElement(qt,{id:"givenName",name:"givenName",labelText:e("givenNameLabelText","First Name"),checkWarning:Yt,required:!0}),v=d&&y().createElement(qt,{id:"middleName",name:"middleName",labelText:e("middleNameLabelText","Middle Name"),checkWarning:Yt}),C=y().createElement(qt,{id:"familyName",name:"familyName",labelText:e("familyNameLabelText","Family Name"),checkWarning:Yt,required:!0});return y().createElement("div",null,y().createElement("h4",{className:Zt.productiveHeading02Light},e("fullNameLabelText","Full Name")),y().createElement("div",{className:Zt.grid},s&&y().createElement(r.ExtensionSlot,{className:Zt.photoExtension,name:"capture-patient-photo-slot",state:{onCapturePhoto:g,initialState:i}}),y().createElement("div",{className:Zt.nameField},(l||f)&&y().createElement(y().Fragment,null,y().createElement("div",{className:Zt.dobContentSwitcherLabel},y().createElement("span",{className:Zt.label01},e("patientNameKnown","Patient's Name is Known?"))),y().createElement(Re.GHR,{className:Zt.contentSwitcher,selectedIndex:f?1:0,onChange:function(e){"known"===e.name?(a("givenName",""),a("familyName",""),_("false")):(a("givenName",c),a("familyName",u),_("true"))}},y().createElement(Re.rsf,{name:"known",text:e("yes","Yes")}),y().createElement(Re.rsf,{name:"unknown",text:e("no","No")}))),!f&&(A?y().createElement(y().Fragment,null,C,v,b):y().createElement(y().Fragment,null,b,v,C)))))};function Jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Qt=function(){var e=(0,r.useConfig)().fieldConfigurations,t=(0,Ve.useTranslation)().t,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,ze.U$)("gender"),2),i=n[0],a=n[1],o=(0,h.useContext)(Xe).setFieldValue,s=null==e?void 0:e.gender;return y().createElement("div",{className:Zt.halfWidthInDesktopView},y().createElement("h4",{className:Zt.productiveHeading02Light},t("sexFieldLabelText","Sex")),y().createElement("div",{className:Zt.sexField},y().createElement("p",{className:"cds--label"},t("genderLabelText","Sex")),y().createElement(Re.SYO,{name:"gender",orientation:"vertical",onChange:function(e){o("gender",e)},valueSelected:i.value},s.map((function(e){return y().createElement(Re.EUY,{key:e.label,id:e.id,value:e.value,labelText:t("".concat(e.label),"".concat(e.label))})}))),a.touched&&a.error&&y().createElement("div",{className:Zt.radioFieldError},t(a.error,"Gender is required"))))},$t=n(8871),en=n(240),tn=n(4102),nn={};nn.styleTagTransform=ct(),nn.setAttributes=at(),nn.insert=it().bind(null,"head"),nn.domAPI=tt(),nn.insertStyleElement=st(),$e()(tn.Z,nn);const rn=tn.Z&&tn.Z.locals?tn.Z.locals:void 0;function an(){return an=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},an.apply(this,arguments)}const on=function(e){var t=e.close,n=e.children,i=e.header,a=e.buttonsGroup,o=(0,Ve.useTranslation)().t,s=(0,r.useLayoutType)();return y().createElement("div",{className:(0,r.isDesktop)(s)?rn.desktopOverlay:rn.tabletOverlay},(0,r.isDesktop)(s)?y().createElement("div",{className:rn.desktopHeader},y().createElement("div",{className:rn.headerContent},i),y().createElement(Re.zxk,{className:rn.closeButton,iconDescription:o("closeOverlay","Close overlay"),onClick:t,kind:"ghost",hasIconOnly:!0,renderIcon:function(e){return y().createElement(en.x8,an({size:16},e))}})):y().createElement(Re.h4i,{className:rn.tabletOverlayHeader,"aria-label":"Overlay header"},y().createElement(Re.zxk,{kind:"ghost",onClick:t,hasIconOnly:!0,iconDescription:o("closeOverlay","Close overlay"),renderIcon:function(e){return y().createElement($t.Xd,an({size:16,onClick:t},e))}}),y().createElement("div",{className:rn.headerContent},i)),y().createElement("div",{className:rn.overlayContent},n),y().createElement("div",null,a))};function sn(e){return ln(e)&&!e.identifierSources.some((function(e){var t,n;return!(null===(t=e.autoGenerationOption)||void 0===t?void 0:t.manualEntryEnabled)&&(null===(n=e.autoGenerationOption)||void 0===n?void 0:n.automaticGenerationEnabled)}))}function ln(e){return"UNIQUE"===e.uniquenessBehavior||"LOCATION"===e.uniquenessBehavior}var cn=n(1033),un={};un.styleTagTransform=ct(),un.setAttributes=at(),un.insert=it().bind(null,"head"),un.domAPI=tt(),un.insertStyleElement=st(),$e()(cn.Z,un);const dn=cn.Z&&cn.Z.locals?cn.Z.locals:void 0;function An(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){pn(e,t,n[t])}))}return e}function _n(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function fn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return An(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?An(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const gn=function(e){var t,n=e.closeOverlay,i=e.setFieldValue,a=(0,r.useLayoutType)(),o=(0,h.useContext)(N).identifierTypes,s=(0,h.useContext)(Xe),l=s.isOffline,c=s.values,u=s.initialFormValues,d=fn((0,h.useState)(c.identifiers),2),A=d[0],p=d[1],m=fn((0,h.useState)(""),2),_=m[0],f=m[1],g=(0,Ve.useTranslation)().t,b=(0,r.useConfig)().defaultPatientIdentifierTypes,v=(0,h.useMemo)((function(){var e={};return null==b||b.forEach((function(t){e[t]=!0})),e}),[b]);(0,h.useEffect)((function(){p(c.identifiers)}),[c.identifiers]);var C=(0,h.useCallback)((function(e){var n;return f(null!==(t=null==e||null===(n=e.target)||void 0===n?void 0:n.value)&&void 0!==t?t:"")}),[]),E=(0,h.useMemo)((function(){return null==o?void 0:o.filter((function(e){var t;return null==e||null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(_.toLowerCase())}))}),[_,o]),w=(0,h.useCallback)((function(e,t){return p((function(n){var i,r;return t?_n(mn({},n),pn({},e.fieldName,xn(e,null!==(r=null!==(i=c.identifiers[e.fieldName])&&void 0!==i?i:u.identifiers[e.fieldName])&&void 0!==r?r:{}))):n[e.fieldName]?Object.fromEntries(Object.entries(n).filter((function(t){return fn(t,1)[0]!==e.fieldName}))):n}))}),[u.identifiers,c.identifiers]),D=(0,h.useMemo)((function(){return E.map((function(e){var t,n,i=A[e.fieldName],r=e.isPrimary||e.required||v[e.uuid]||c.identifiers[e.fieldName],a=l&&sn(e);return y().createElement("div",{key:e.uuid,className:dn.space05},y().createElement(Re.XZJ,{id:e.uuid,value:e.uuid,labelText:e.name,onChange:function(t,n){var i=n.checked;return w(e,i)},checked:!!i,disabled:r||l&&a}),i&&(null==e||null===(t=e.identifierSources)||void 0===t?void 0:t.length)>0&&(!i.initialValue||(null==i?void 0:i.selectedSource))&&y().createElement("div",{className:dn.radioGroup},y().createElement(Re.SYO,{legendText:g("source","Source"),name:"".concat(null==e?void 0:e.fieldName,"-identifier-sources"),defaultSelected:null==i||null===(n=i.selectedSource)||void 0===n?void 0:n.uuid,onChange:function(t){return function(e,t){return p((function(n){return _n(mn({},n),pn({},e.fieldName,mn({},n[e.fieldName],Fn(e.identifierSources.find((function(e){return e.uuid===t})),n[e.fieldName].identifierValue,n[e.fieldName].initialValue))))}))}(e,t)},orientation:"vertical"},null==e?void 0:e.identifierSources.map((function(t){var n;return y().createElement(Re.EUY,{key:t.uuid,labelText:t.name,name:t.uuid,value:t.uuid,className:dn.radioButton,disabled:l&&ln(e)&&(null===(n=t.autoGenerationOption)||void 0===n?void 0:n.manualEntryEnabled)})})))))}))}),[E,A,v,c.identifiers,l,w,g]),k=(0,h.useCallback)((function(){i("identifiers",A),n()}),[A,i,n]);return y().createElement(on,{close:n,header:g("configureIdentifiers","Configure identifiers"),buttonsGroup:y().createElement(Re.uVA,{className:(0,r.isDesktop)(a)?dn.desktop:dn.tablet},y().createElement(Re.zxk,{className:dn.button,kind:"secondary",onClick:n},g("cancel","Cancel")),y().createElement(Re.zxk,{className:dn.button,kind:"primary",onClick:k},g("configureIdentifiers","Configure identifiers")))},y().createElement("div",null,y().createElement("p",{className:dn.bodyLong02},g("IDInstructions","Select the identifiers you'd like to add for this patient:")),o.length>7&&y().createElement("div",{className:dn.space05},y().createElement(Re.olm,{labelText:g("searchIdentifierPlaceholder","Search identifier"),placeholder:g("searchIdentifierPlaceholder","Search identifier"),onChange:C,value:_})),y().createElement("fieldset",null,D)))};var hn=n(5362),yn=n(1174),bn=n(5898);function vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function En(){return En=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},En.apply(this,arguments)}function wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){Cn(e,t,n[t])}))}return e}function Dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var kn=function(e){var t=e.patientIdentifier,n=e.fieldName,i=(0,Ve.useTranslation)().t,a=(0,r.useConfig)().defaultPatientIdentifierTypes,o=(0,h.useContext)(N).identifierTypes,s=(0,h.useContext)(Xe),l=s.isOffline,c=s.values,u=s.setFieldValue,d=(0,h.useMemo)((function(){return o.find((function(e){return e.uuid===t.identifierTypeUuid}))}),[t,o]),A=t.autoGeneration,p=t.initialValue,m=t.identifierValue,_=t.identifierName,f=t.required,g=Dn((0,h.useState)(A||p===m),2),b=g[0],v=g[1],C="identifiers.".concat(n,".identifierValue"),E=Dn((0,ze.U$)(C),2),w=E[0],D=E[1],k=l&&sn(d),O=(0,h.useMemo)((function(){var e={};return null==a||a.forEach((function(t){e[t]=!0})),e}),[a]),S=(0,h.useCallback)((function(){var e,i;v(!0),u("identifiers.".concat(n),(e=wn({},t),i=null!=(i={identifierValue:p,selectedSource:null,autoGeneration:!1})?i:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})),e))}),[p,v]);return y().createElement("div",{className:At.IDInput},A||b?y().createElement("div",{className:At.textID},y().createElement("p",{className:At.label},_),y().createElement("p",{className:At.bodyShort02},A?i("autoGeneratedPlaceholderText","Auto-generated"):m),y().createElement("input",En({type:"hidden"},w,{disabled:!0})),!(!D.touched||!D.error)&&y().createElement("span",{className:At.dangerLabel01},D.error&&i(D.error))):y().createElement(qt,En({id:C,labelText:_,name:C,disabled:k,required:f,invalid:!(!D.touched||!D.error),invalidText:D.error&&i(D.error)},w)),y().createElement("div",{style:{marginBottom:"1rem"}},!t.required&&t.initialValue&&b&&y().createElement(r.UserHasAccess,{privilege:"Edit Patient Identifiers"},y().createElement(Re.zxk,{size:"md",kind:"ghost",onClick:function(){var e;v(!1),u("identifiers.".concat(n),wn({},t,Fn(null==d||null===(e=d.identifierSources)||void 0===e?void 0:e[0],p,p)))},iconDescription:i("editIdentifierTooltip","Edit"),disabled:k,hasIconOnly:!0},y().createElement(hn.I8,{size:16}))),p&&p!==m&&y().createElement(r.UserHasAccess,{privilege:"Edit Patient Identifiers"},y().createElement(Re.zxk,{size:"md",kind:"ghost",onClick:S,iconDescription:i("resetIdentifierTooltip","Reset"),disabled:k,hasIconOnly:!0},y().createElement(yn.AG,{size:16}))),!t.required&&!O[t.identifierTypeUuid]&&y().createElement(r.UserHasAccess,{privilege:"Delete Patient Identifiers"},y().createElement(Re.zxk,{size:"md",kind:"danger--ghost",onClick:function(){if(p)var e=(0,r.showModal)("delete-identifier-confirmation-modal",{deleteIdentifier:function(t){t&&u("identifiers",Nn(c.identifiers,n)),e()},identifierName:_,initialValue:p});else u("identifiers",Nn(c.identifiers,n))},iconDescription:i("deleteIdentifierTooltip","Delete"),disabled:k,hasIconOnly:!0},y().createElement(bn.ZN,{size:16})))))};function On(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){Sn(e,t,n[t])}))}return e}function Bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return On(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?On(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fn(e,t,n){var i,r=null==e||null===(i=e.autoGenerationOption)||void 0===i?void 0:i.automaticGenerationEnabled;return{selectedSource:e,autoGeneration:r,identifierValue:r?"auto-generated":"auto-generated"!==t?t:n}}function xn(e,t){var n,i,r;return Tn({identifierTypeUuid:e.uuid,identifierName:e.name,preferred:e.isPrimary,initialValue:"",required:e.isPrimary||e.required},t,Fn(null!==(i=null==t?void 0:t.selectedSource)&&void 0!==i?i:null===(n=e.identifierSources)||void 0===n?void 0:n[0],null==t?void 0:t.identifierValue,null!==(r=null==t?void 0:t.initialValue)&&void 0!==r?r:""))}function Nn(e,t){return Object.fromEntries(Object.entries(e).filter((function(e){return Bn(e,1)[0]!==t})))}var In=function(){var e=(0,h.useContext)(N).identifierTypes,t=!e,n=(0,h.useContext)(Xe),i=n.values,a=n.setFieldValue,o=n.initialFormValues,s=n.isOffline,l=(0,Ve.useTranslation)().t,c=(0,r.useLayoutType)(),u=Bn((0,h.useState)(!1),2),d=u[0],A=u[1],p=(0,r.useConfig)().defaultPatientIdentifierTypes;(0,h.useEffect)((function(){if(e){var t={};e.filter((function(e){return e.isPrimary||e.required||!!(null==p?void 0:p.find((function(t){return t===e.uuid})))})).filter((function(e){return!i.identifiers[e.fieldName]})).forEach((function(e){var n,r;t[e.fieldName]=xn(e,null!==(r=null!==(n=i.identifiers[e.uuid])&&void 0!==n?n:o.identifiers[e.uuid])&&void 0!==r?r:{})})),Object.keys(t).length&&a("identifiers",Tn({},i.identifiers,t))}}),[e,a,p,i.identifiers,xn]);var m=(0,h.useCallback)((function(){return A(!1)}),[A]);return t&&!s?y().createElement("div",{"data-testid":"loading-skeleton",className:Zt.halfWidthInDesktopView},y().createElement("div",{className:Zt.identifierLabelText},y().createElement("h4",{className:Zt.productiveHeading02Light},l("idFieldLabelText","Identifiers"))),y().createElement(Re.N2B,null)):y().createElement("div",{className:Zt.halfWidthInDesktopView},y().createElement(r.UserHasAccess,{privilege:["Get Identifier Types","Add Patient Identifiers"]},y().createElement("div",{className:Zt.identifierLabelText},y().createElement("h4",{className:Zt.productiveHeading02Light},l("idFieldLabelText","Identifiers")),y().createElement(Re.zxk,{kind:"ghost",className:Zt.setIDNumberButton,onClick:function(){return A(!0)},size:(0,r.isDesktop)(c)?"sm":"md"},l("configure","Configure")," ",y().createElement($t.ol,{size:16})))),y().createElement("div",null,Object.entries(i.identifiers).map((function(e){var t=Bn(e,2),n=t[0],i=t[1];return y().createElement(kn,{key:n,fieldName:n,patientIdentifier:i})})),d&&y().createElement(gn,{setFieldValue:a,closeOverlay:m})))};function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Pn(){return Pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pn.apply(this,arguments)}function Un(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Gn=function(e,t,n){var i=n.useEstimatedDateOfBirth,r=i.enabled,a=i.month,o=i.dayOfMonth,s=new Date,l=new Date(s.getFullYear()-e,s.getMonth()-t,1),c=new Date(l.getFullYear(),l.getMonth()+1,0).getDate(),u=new Date(l.getFullYear(),l.getMonth(),Math.min(s.getDate(),c));return r?new Date(u.getFullYear(),a,o):u},Ln=function(){var e,t,n=(0,Ve.useTranslation)().t,i=(0,r.useConfig)().fieldConfigurations.dateOfBirth,a=null==i?void 0:i.allowEstimatedDateOfBirth,o=Un((0,ze.U$)("birthdateEstimated"),1)[0].value,s=Un((0,ze.U$)("birthdate"),2),l=s[0],c=s[1],u=Un((0,ze.U$)("yearsEstimated"),2),d=u[0],A=u[1],p=Un((0,ze.U$)("monthsEstimated"),2),m=p[0],_=p[1],f=(0,h.useContext)(Xe).setFieldValue,g=(t="/",{parse:function(n){var i=n.split(t),r=new Date(null);return e.forEach((function(e,t){switch(e){case"d":r.setDate(parseInt(i[t]));break;case"m":r.setMonth(parseInt(i[t])-1);break;case"Y":r.setFullYear(parseInt(i[t]))}})),r},format:function(n){if(null===n)return"";if(r=n,null!=(a=Date)&&"undefined"!=typeof Symbol&&a[Symbol.hasInstance]?a[Symbol.hasInstance](r):r instanceof a){var i=[];return e.forEach((function(e,t){switch(e){case"d":i[t]=n.getDate();break;case"m":i[t]=n.getMonth()+1;break;case"Y":i[t]=n.getFullYear()}})),i.join(t)}return n;var r,a},placeHolder:(e=["d","m","Y"]).map((function(e){return"Y"===e?"YYYY":e+e})).join(t),dateFormat:e.join(t)}),b=g.format,v=g.placeHolder,C=g.dateFormat,E=new Date,w=(0,h.useCallback)((function(e){f("birthdateEstimated","unknown"===e.name),f("birthdate",""),f("yearsEstimated",0),f("monthsEstimated","")}),[f]),D=(0,h.useCallback)((function(e){f("birthdate",e[0])}),[f]),k=(0,h.useCallback)((function(e){var t=+e.target.value;!isNaN(t)&&t<140&&t>=0&&(f("yearsEstimated",t),f("birthdate",Gn(t,_.value,i)))}),[f,i,_.value]),O=(0,h.useCallback)((function(e){var t=+e.target.value;isNaN(t)||(f("monthsEstimated",t),f("birthdate",Gn(A.value,t,i)))}),[f,i,A.value]),S=(0,h.useCallback)((function(){var e=+_.value%12,t=+A.value+Math.floor(_.value/12);f("yearsEstimated",t),f("monthsEstimated",e>0?e:""),f("birthdate",Gn(t,e,i))}),[f,_,A,i]);return y().createElement("div",{className:Zt.halfWidthInDesktopView},y().createElement("h4",{className:Zt.productiveHeading02Light},n("birthFieldLabelText","Birth")),(a||o)&&y().createElement("div",{className:Zt.dobField},y().createElement("div",{className:Zt.dobContentSwitcherLabel},y().createElement("span",{className:Zt.label01},n("dobToggleLabelText","Date of Birth Known?"))),y().createElement(Re.GHR,{onChange:w,selectedIndex:o?1:0},y().createElement(Re.rsf,{name:"known",text:n("yes","Yes")}),y().createElement(Re.rsf,{name:"unknown",text:n("no","No")}))),y().createElement(Re.mh4,null,o?y().createElement("div",{className:Zt.grid},y().createElement("div",{className:Zt.dobField},y().createElement(Re.mh4,null,y().createElement(Re.oil,Pn({id:"yearsEstimated",type:"number",name:d.name,onChange:k,labelText:n("estimatedAgeInYearsLabelText","Estimated age in years"),invalid:!(!A.touched||!A.error),invalidText:A.error&&n(A.error),value:d.value,min:0,required:!0},d,{onBlur:S})))),y().createElement("div",{className:Zt.dobField},y().createElement(Re.mh4,null,y().createElement(Re.oil,Pn({id:"monthsEstimated",type:"number",name:m.name,onChange:O,labelText:n("estimatedAgeInMonthsLabelText","Estimated age in months"),invalid:!(!_.touched||!_.error),invalidText:_.error&&n(_.error),value:m.value,min:0},m,{required:!A.value,onBlur:S}))))):y().createElement("div",{className:Zt.dobField},y().createElement(Re.Mtg,{dateFormat:C,datePickerType:"single",onChange:D,maxDate:b(E)},y().createElement(Re.aj6,Pn({id:"birthdate"},l,{placeholder:v,labelText:n("dateOfBirthLabelText","Date of Birth"),invalid:!(!c.touched||!c.error),invalidText:c.error&&n(c.error),value:b(l.value)}))))))};function Mn(){return Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Mn.apply(this,arguments)}var Rn=function(e){var t=e.fieldDefinition,n=(0,Ve.useTranslation)().t;return y().createElement("div",{className:Ue()(Zt.customField,Zt.halfWidthInDesktopView)},y().createElement(ze.gN,{name:t.id},(function(e){var i=e.field,r=e.form;return r.touched,r.errors,e.meta,y().createElement(qt,Mn({id:t.id,labelText:n("".concat(t.label),"".concat(t.label))},i))})))};function Wn(e){var t,n="string"==typeof e&&""!==e,i=Le()(n?"/ws/rest/v1/concept/".concat(e):null,r.openmrsFetch),a=i.data,o=i.error,s=i.isLoading;return o&&(0,r.showSnackbar)({title:o.name,subtitle:o.message,kind:"error"}),{data:null==a||null===(t=a.data)||void 0===t?void 0:t.answers,isLoading:s}}function qn(){return qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qn.apply(this,arguments)}function Vn(e){var t=e.fieldDefinition,n=function(e){var t="string"==typeof e&&""!==e,n=Le()(t?"/ws/rest/v1/concept/".concat(e):null,r.openmrsFetch),i=n.data,a=n.error,o=n.isLoading;return a&&(0,r.showSnackbar)({title:a.name,subtitle:a.message,kind:"error"}),{data:null==i?void 0:i.data,isLoading:o}}(t.uuid),i=n.data,a=n.isLoading;if(!(0,r.useConfig)().registrationObs.encounterTypeUuid)return console.error("The registration form has been configured to have obs fields, but no registration encounter type has been configured. Obs fields will not be displayed."),null;if(a)return null;switch(i.datatype.display){case"Text":return y().createElement(zn,{concept:i,validationRegex:t.validation.matches,label:t.label,required:t.validation.required});case"Numeric":return y().createElement(Zn,{concept:i,label:t.label,required:t.validation.required});case"Coded":return y().createElement(Hn,{concept:i,answerConceptSetUuid:t.answerConceptSetUuid,label:t.label,required:t.validation.required});default:return y().createElement(Re.K0D,{kind:"error",title:"Error"},'Concept has unknown datatype "',i.datatype.display,'"')}}function zn(e){var t=e.concept,n=e.validationRegex,i=e.label,r=e.required,a=(0,Ve.useTranslation)().t,o="obs.".concat(t.uuid);return y().createElement("div",{className:Ue()(Zt.customField,Zt.halfWidthInDesktopView)},y().createElement(ze.gN,{name:o,validate:function(e){if(e&&n&&""!==n&&"string"==typeof n&&""!==e)return new RegExp(n).test(e)?void 0:a("invalidInput","Invalid Input")}},(function(e){var n=e.field,a=e.form,s=a.touched,l=a.errors;return e.meta,y().createElement(qt,qn({id:o,labelText:null!=i?i:t.display,required:r,invalid:l[o]&&s[o]},n))})))}function Zn(e){var t=e.concept,n=e.label,i=e.required,r=((0,Ve.useTranslation)().t,"obs.".concat(t.uuid));return y().createElement("div",{className:Ue()(Zt.customField,Zt.halfWidthInDesktopView)},y().createElement(ze.gN,{name:r},(function(e){var a=e.field,o=e.form,s=o.touched,l=o.errors;return e.meta,y().createElement(qt,qn({id:r,labelText:null!=n?n:t.display,required:i,invalid:l[r]&&s[r],type:"number"},a))})))}function Hn(e){var t,n=e.concept,i=e.answerConceptSetUuid,a=e.label,o=e.required,s=(0,r.useConfig)(),l=Wn(null!=i?i:n.uuid),c=l.data,u=l.isLoading,d="obs.".concat(n.uuid),A=null==s||null===(t=s.fieldDefinitions)||void 0===t?void 0:t.filter((function(e){return"obs"===e.type&&e.uuid===n.uuid}))[0];return y().createElement("div",{className:Ue()(Zt.customField,Zt.halfWidthInDesktopView)},u?null:y().createElement(ze.gN,{name:d},(function(e){var t,i=e.field,r=e.form,s=r.touched,l=r.errors;return e.meta,(null==A||null===(t=A.customConceptAnswers)||void 0===t?void 0:t.length)?y().createElement(Re.mh4,null,y().createElement(Re.PhF,qn({id:d,name:d,required:o,labelText:null!=a?a:null==n?void 0:n.display,invalid:l[d]&&s[d]},i),y().createElement(Re.QlF,{key:"no-answer-select-item-".concat(d),value:"",text:""}),null==A?void 0:A.customConceptAnswers.map((function(e){return y().createElement(Re.QlF,{key:e.uuid,value:e.uuid,text:e.label})})))):y().createElement(Re.mh4,null,y().createElement(Re.PhF,qn({id:d,name:d,labelText:null!=a?a:null==n?void 0:n.display,required:o,invalid:l[d]&&s[d]},i),y().createElement(Re.QlF,{key:"no-answer-select-item-".concat(d),value:"",text:""}),c.map((function(e){return y().createElement(Re.QlF,{key:e.uuid,value:e.uuid,text:e.display})}))))})))}function Kn(){return Kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Kn.apply(this,arguments)}function Yn(e){var t=e.id,n=e.personAttributeType,i=e.answerConceptSetUuid,r=e.label,a=Wn(i),o=a.data,s=a.isLoading,l=(0,Ve.useTranslation)().t,c="attributes.".concat(n.uuid);return y().createElement("div",{className:Ue()(Zt.customField,Zt.halfWidthInDesktopView)},!s&&(null==o?void 0:o.length)?y().createElement(Re.mh4,null,y().createElement(ze.gN,{name:c},(function(e){var i=e.field,a=e.form,s=a.touched,u=a.errors;return e.meta,y().createElement(y().Fragment,null,y().createElement(Re.PhF,Kn({id:t,name:"person-attribute-".concat(n.uuid),labelText:null!=r?r:null==n?void 0:n.display,invalid:u[c]&&s[c]},i),y().createElement(Re.QlF,{value:"",text:l("selectAnOption","Select an option")}),o.map((function(e){return y().createElement(Re.QlF,{key:e.uuid,value:e.uuid,text:e.display})}))))}))):y().createElement(Re.mh4,null,y().createElement(ze.gN,{name:c},(function(e){var i=e.field,a=e.form,o=a.touched,s=a.errors;return e.meta,y().createElement(qt,Kn({id:t,name:"person-attribute-".concat(n.uuid),labelText:null!=r?r:null==n?void 0:n.display,invalid:s[c]&&o[c]},i))}))))}function Xn(){return Xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Xn.apply(this,arguments)}function Jn(e){var t=e.id,n=e.personAttributeType,i=e.validationRegex,r=e.label,a=e.required,o=(0,Ve.useTranslation)().t,s="attributes.".concat(n.uuid);return y().createElement("div",{className:Ue()(Zt.customField,Zt.halfWidthInDesktopView)},y().createElement(ze.gN,{name:s,validate:function(e){if(e&&i&&""!==i&&"string"==typeof i&&""!==e)return new RegExp(i).test(e)?void 0:o("invalidInput","Invalid Input")}},(function(e){var i=e.field,o=e.form,l=o.touched,c=o.errors;return e.meta,y().createElement(qt,Xn({id:t,name:"person-attribute-".concat(n.uuid),labelText:null!=r?r:null==n?void 0:n.display,invalid:c[s]&&l[s]},i,{required:a}))})))}function Qn(e){var t,n,i=e.fieldDefinition,a=function(e){var t=Le()("/ws/rest/v1/personattributetype/".concat(e),r.openmrsFetch),n=t.data,i=t.error,a=t.isLoading;return{data:null==n?void 0:n.data,isLoading:a,error:i}}(i.uuid),o=a.data,s=a.isLoading,l=a.error,c=(0,Ve.useTranslation)().t,u=(0,h.useMemo)((function(){if(!o)return null;switch(o.format){case"java.lang.String":return y().createElement(Jn,{personAttributeType:o,validationRegex:i.validation.matches,label:i.label,required:i.validation.required,id:null==i?void 0:i.id});case"org.openmrs.Concept":return y().createElement(Yn,{personAttributeType:o,answerConceptSetUuid:i.answerConceptSetUuid,label:i.label,id:null==i?void 0:i.id});default:return y().createElement(Re.K0D,{kind:"error",title:"Error"},c("unknownPatientAttributeType","Patient attribute type has unknown format {{personAttributeTypeFormat}}",{personAttributeTypeFormat:o.format}))}}),[o,i,c]);return s?y().createElement("div",null,i.showHeading&&y().createElement("h4",{className:Zt.productiveHeading02Light},null==i?void 0:i.label),y().createElement(Re.znL,null)):l?y().createElement("div",null,i.showHeading&&y().createElement("h4",{className:Zt.productiveHeading02Light},null==i?void 0:i.label),y().createElement(Re.K0D,{kind:"error",title:c("error","Error")},c("unableToFetch","Unable to fetch person attribute type - {{personattributetype}}",{personattributetype:null!==(t=null==i?void 0:i.label)&&void 0!==t?t:null==i?void 0:i.id}))):y().createElement("div",null,i.showHeading&&y().createElement("h4",{className:Zt.productiveHeading02Light},null!==(n=null==i?void 0:i.label)&&void 0!==n?n:null==o?void 0:o.display),u)}function $n(e){var t=e.name,n=(0,r.useConfig)().fieldDefinitions.filter((function(e){return e.id==t}))[0];return"person attribute"===n.type?y().createElement(Qn,{fieldDefinition:n}):"obs"===n.type?y().createElement(Vn,{fieldDefinition:n}):"address"===n.type?y().createElement(Rn,{fieldDefinition:n}):y().createElement("div",null,"Error: Unknown field type ",n.type)}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ni(){var e=Le()("/module/addresshierarchy/ajax/getOrderedAddressHierarchyLevels.form",r.openmrsFetch),t=e.data,n=e.isLoading,i=e.error,a=(0,h.useMemo)((function(){var e;return{orderedFields:null==t||null===(e=t.data)||void 0===e?void 0:e.map((function(e){return e.addressField})),isLoadingFieldOrder:n,errorFetchingFieldOrder:i}}),[t,n,i]);return a}function ii(e){var t=ni(),n=t.orderedFields,i=t.isLoadingFieldOrder,r=(0,h.useContext)(Xe).setFieldValue,a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ei(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,ze.U$)("address"),2)[1].value,o=(0,h.useMemo)((function(){return i?-1:n.findIndex((function(t){return t===e}))}),[n,e,i]),s=(0,h.useMemo)((function(){var e,t=!0,i=null!==(e=null==n?void 0:n.slice(0,o))&&void 0!==e?e:[],r=[],s=!0,l=!1,c=void 0;try{for(var u,d=i[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var A=u.value;if(!a[A]){t=!1;break}r.push(a[A])}}catch(e){l=!0,c=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw c}}return{fetchEntriesForField:t,searchString:r.join("|")}}),[n,o,a]),l=(0,h.useCallback)((function(){i||n.slice(o+1).map((function(e){r("address.".concat(e),"")}))}),[o,i,n,r]),c=(0,h.useMemo)((function(){return e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){ti(e,t,n[t])}))}return e}({},s),t=null!=(t={updateChildElements:l})?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e;var e,t}),[s,l]);return c}var ri=n(6788),ai={};ai.styleTagTransform=ct(),ai.setAttributes=at(),ai.insert=it().bind(null,"head"),ai.domAPI=tt(),ai.insertStyleElement=st(),$e()(ri.Z,ai);const oi=ri.Z&&ri.Z.locals?ri.Z.locals:void 0;function si(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function li(e,t){if(e){if("string"==typeof e)return si(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?si(e,t):void 0}}const ci=function(e){var t=e.addressLayout,n=(0,Ve.useTranslation)().t,i=" > ",a=(0,h.useRef)(null),o=(0,h.useRef)(null),s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||li(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,h.useState)(""),2),l=s[0],c=s[1],u=function(e,t){var n,i=Le()(e?"/module/addresshierarchy/ajax/getPossibleFullAddresses.form?separator=".concat(t,"&searchString=").concat(e):null,r.openmrsFetch),a=i.data,o=i.error,s=i.isLoading,l=(0,h.useMemo)((function(){var e;return{addresses:null!==(n=null==a||null===(e=a.data)||void 0===e?void 0:e.map((function(e){return e.address})))&&void 0!==n?n:[],error:o,isLoading:s}}),[null==a?void 0:a.data,o,s]);return l}(l,i),d=u.addresses,A=u.isLoading,p=u.error,m=(0,h.useMemo)((function(){var e,t=new Set;return d.forEach((function(e){var n=e.split(i);n.forEach((function(e,r){e.toLowerCase().includes(l.toLowerCase())&&t.add(n.slice(0,r+1).join(i))}))})),function(e){if(Array.isArray(e))return si(e)}(e=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||li(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}),[d,l]),_=(0,ze.u6)().setFieldValue,f=function(e){o.current&&!o.current.contains(e.target)&&c("")};return(0,h.useEffect)((function(){return document.addEventListener("mousedown",f),function(){document.removeEventListener("mousedown",f)}}),[o]),y().createElement("div",{className:oi.autocomplete,ref:o,style:{marginBottom:"1rem"}},y().createElement(Re.olm,{onChange:function(e){c(e.target.value)},labelText:n("searchAddress","Search address"),placeholder:n("searchAddress","Search address"),ref:a,helperText:l?A?n("loadingResults","Loading results"):p?p.message:0===(null==d?void 0:d.length)?n("noResultsFound","No results found"):null:null,value:l}),m.length>0&&y().createElement("ul",{className:oi.suggestions},m.map((function(e,n){return y().createElement("li",{key:n,onClick:function(n){return function(e){if(e){var n=e.split(i);t.map((function(e,t){var i,r=e.name;_("address.".concat(r),null!==(i=null==n?void 0:n[t])&&void 0!==i?i:"")})),c("")}}(e)}},e)}))))},ui=function(){return y().createElement("svg",{focusable:"false",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"16",height:"16",viewBox:"0 0 32 32","aria-hidden":"true",className:"cds--list-box__menu-item__selected-icon"},y().createElement("path",{d:"M13 24L4 15 5.414 13.586 13 21.171 26.586 7.586 28 9 13 24z"}))};function di(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ai(){return Ai=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ai.apply(this,arguments)}function pi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return di(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?di(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const mi=function(e){var t=e.entries,n=e.fieldProps,i=e.handleInputChange,r=e.handleSelection,a=pi((0,h.useState)(-1),2),o=a[0],s=a[1],l=n.value,c=void 0===l?"":l,u=pi((0,h.useState)(!1),2),d=u[0],A=u[1],p=(0,h.useRef)(null),m=(0,h.useCallback)((function(){A(!0),s(-1)}),[A,s]),_=(0,h.useMemo)((function(){return t?c?t.filter((function(e){return e.toLowerCase().includes(c.toLowerCase())})):t:[]}),[t,c]),f=(0,h.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null==t||t.preventDefault(),r(e),A(!1)}),[r,A]),g=(0,h.useCallback)((function(e){var t,n=null!==(t=_.length)&&void 0!==t?t:0;"Tab"===e.key&&(A(!1),s(-1)),"ArrowUp"===e.key?s((function(e){return Math.max(-1,e-1)})):"ArrowDown"===e.key?s((function(e){return Math.min(n-1,e+1)})):"Enter"===e.key&&o>-1&&f(_[o],e)}),[o,f,_,s,A]);return(0,h.useEffect)((function(){var e=function(e){p.current.contains(e.target)||(A(!1),s(-1))};return window.addEventListener("click",e),function(){window.removeEventListener("click",e)}})),y().createElement("div",{className:At.comboInput,ref:p},y().createElement(Re.mh4,null,y().createElement(Re.oil,Ai({},n,{onChange:function(e){s(-1),i(e.target.value)},onFocus:m,autoComplete:"off",onKeyDown:g}))),y().createElement("div",{className:At.comboInputEntries},d&&y().createElement("div",{className:"cds--combo-box cds--list-box cds--list-box--expanded"},y().createElement("div",{id:"downshift-1-menu",className:"cds--list-box__menu",role:"listbox"},_.map((function(e,t){return y().createElement("div",{className:Ue()("cds--list-box__menu-item",{"cds--list-box__menu-item--highlighted":t===o}),key:t,id:"downshift-1-item-0",role:"option",tabIndex:-1,"aria-selected":"true",onClick:function(){return f(e)}},y().createElement("div",{className:Ue()("cds--list-box__menu-item__option",At.comboInputItemOption,{"cds--list-box__menu-item--active":e===c})},e,e===c&&y().createElement(ui,null)))}))))))};function _i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function fi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){fi(e,t,n[t])}))}return e}const hi=function(e){var t=e.orderedAddressFields;return(0,Ve.useTranslation)().t,y().createElement(y().Fragment,null,t.map((function(e){return y().createElement(yi,{key:e.id,attribute:e})})))};var yi=function(e){var t,n,i=e.attribute,a=(0,Ve.useTranslation)().t,o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,ze.U$)("address.".concat(i.name)),3),s=o[0],l=o[1],c=o[2].setValue,u=ii(i.name),d=u.fetchEntriesForField,A=u.searchString,p=u.updateChildElements,m=function(e,t){var n=encodeURIComponent(t),i=Le()(e?"module/addresshierarchy/ajax/getChildAddressHierarchyEntries.form?searchString=".concat(n):null,r.openmrsFetch),a=i.data,o=i.isLoading,s=i.error;(0,h.useEffect)((function(){s&&console.error(s)}),[s]);var l=(0,h.useMemo)((function(){var e;return{entries:null==a||null===(e=a.data)||void 0===e?void 0:e.map((function(e){return e.name})),isLoadingAddressEntries:o,errorFetchingAddressEntries:s}}),[a,o,s]);return l}(d,A).entries,_=a(i.label)+((null==i?void 0:i.required)?"":" (".concat(a("optional","optional"),")")),f=(0,h.useCallback)((function(e){c(e)}),[c]),g=(0,h.useCallback)((function(e){l.value!==e&&(c(e),p())}),[p,l.value,c]);return y().createElement(mi,{entries:m,handleSelection:g,name:"address.".concat(i.name),fieldProps:(t=gi({},s),n={id:i.name,labelText:_,required:null==i?void 0:i.required},n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t),handleInputChange:f})};function bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function vi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||Ci(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ci(e,t){if(e){if("string"==typeof e)return bi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bi(e,t):void 0}}var Ei=function(){var e=vi((0,h.useState)(""),2),t=e[0],n=(e[1],(0,h.useContext)(N).addressTemplate),i=(0,h.useMemo)((function(){var e,t;if(!(null==n?void 0:n.lines))return[];var i=null==n||null===(e=n.lines)||void 0===e?void 0:e.flat(),r=null==i?void 0:i.filter((function(e){return"IS_ADDR_TOKEN"===e.isToken})),a=Object.fromEntries((null==n||null===(t=n.requiredElements)||void 0===t?void 0:t.map((function(e){return[e,e]})))||[]);return r.map((function(e){var t=e.displayText,n=e.codeName;return{id:n,name:n,label:t,required:Boolean(a[n])}}))}),[n]),a=(0,Ve.useTranslation)().t,o=(0,r.useConfig)().fieldConfigurations.address.useAddressHierarchy,s=o.enabled,l=o.useQuickSearch,c=o.searchAddressByLevel,u=(0,h.useContext)(Xe).setFieldValue,d=ni(),A=d.orderedFields,p=d.isLoadingFieldOrder,m=d.errorFetchingFieldOrder;(0,h.useEffect)((function(){(null==n?void 0:n.elementDefaults)&&Object.entries(n.elementDefaults).forEach((function(e){var t=vi(e,2),n=t[0],i=t[1];u("address.".concat(n),i)}))}),[n,u]);var _=(0,h.useMemo)((function(){if(p||m)return[];var e,t=Object.fromEntries(A.map((function(e,t){return[e,t]})));return(e=i,function(e){if(Array.isArray(e))return bi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ci(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort((function(e,n){return t[e.name]-t[n.name]}))}),[p,m,A,i]);return n?s?p?y().createElement(wi,null,y().createElement(Re.N2B,null)):m?y().createElement(wi,null,y().createElement(Re.K0D,{style:{margin:"0",minWidth:"100%"},kind:"error",lowContrast:!0,title:a("errorFetchingOrderedFields","Error occured fetching ordered fields for address hierarchy")})):y().createElement(wi,null,l&&y().createElement(ci,{addressLayout:_}),c?y().createElement(hi,{orderedAddressFields:_}):_.map((function(e,n){return y().createElement(qt,{key:"combo_input_".concat(n),name:"address.".concat(e.name),labelText:a(e.label),id:e.name,value:t,required:e.required})}))):y().createElement(wi,null,i.map((function(e,n){return y().createElement(qt,{key:"combo_input_".concat(n),name:"address.".concat(e.name),labelText:a(e.label),id:e.name,value:t,required:e.required})}))):y().createElement(wi,null,y().createElement(Re.N2B,null))},wi=function(e){var t=e.children,n=(0,Ve.useTranslation)().t;return y().createElement("div",null,y().createElement("h4",{className:Zt.productiveHeading02Light},n("addressHeader","Address")),y().createElement("div",{style:{paddingBottom:"5%"}},t))};function Di(e){var t=e.name,n=(0,r.useConfig)();if(!l.includes(t)&&!n.fieldDefinitions.some((function(e){return e.id==t})))return(0,r.reportError)("Invalid field name '".concat(t,"'. Valid options are '").concat(n.fieldDefinitions.map((function(e){return e.id})).concat(l).join("', '"),"'.")),null;switch(t){case"name":return y().createElement(Xt,null);case"gender":return y().createElement(Qt,null);case"dob":return y().createElement(Ln,null);case"address":return y().createElement(Ei,null);case"id":return y().createElement(In,null);default:return y().createElement($n,{name:t})}}var ki=function(e){var t=e.sectionDefinition;return y().createElement("section",{"aria-label":"".concat(t.name," Section")},t.fields.map((function(e){return y().createElement(Di,{key:"".concat(t.name,"-").concat(e),name:e})})))};function Oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Si(){return Si=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Si.apply(this,arguments)}function Ti(e,t){if(e){if("string"==typeof e)return Oi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oi(e,t):void 0}}var Bi=function(e){var t,n=e.name,i=e.options,r=e.label,a=e.required,o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||Ti(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,ze.U$)(n),1)[0],s=(0,Ve.useTranslation)().t,l=[y().createElement(Re.QlF,{disabled:!0,hidden:!0,text:"Select ".concat(r),key:"",value:""})].concat(function(e){if(Array.isArray(e))return Oi(e)}(t=i.map((function(e,t){return y().createElement(Re.QlF,{text:e,value:e,key:t})})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||Ti(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a?r:"".concat(r," (").concat(s("optional","optional"),")");return y().createElement("div",{style:{marginBottom:"1rem"}},y().createElement(Re.mh4,null,y().createElement(Re.PhF,Si({id:"identifier"},o,{labelText:c}),l)))},Fi=n(713),xi={};xi.styleTagTransform=ct(),xi.setAttributes=at(),xi.insert=it().bind(null,"head"),xi.domAPI=tt(),xi.insertStyleElement=st(),$e()(Fi.Z,xi);const Ni=Fi.Z&&Fi.Z.locals?Fi.Z.locals:void 0;var Ii=function(){var e=y().useContext(Xe).values,t=(0,Ve.useTranslation)().t;return y().createElement("section",{className:Ni.formSection,"aria-label":"Death Info Section"},y().createElement("h5",{className:Ue()("omrs-type-title-5",Ni.formSectionTitle)},"Death Info"),y().createElement("section",{className:Ni.fieldGroup},y().createElement(qt,{labelText:t("isDeadInputLabel","Is Dead"),name:"isDead",id:"isDead"}),e.isDead&&y().createElement(y().Fragment,null,y().createElement(qt,{labelText:t("deathDateInputLabel","Date of Death"),name:"deathDate",id:"deathDate"}),y().createElement(Bi,{options:[t("unknown","Unknown"),t("stroke","Stroke")],label:t("causeOfDeathInputLabel","Cause of Death"),name:"deathCause"}))))};function ji(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Pi=function(e){var t=e.fields,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ji(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ji(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,ze.U$)("addNameInLocalLanguage"),2),i=n[0],r=n[1],a=(0,h.useContext)(Xe).setFieldValue;return(0,h.useEffect)((function(){!i.value&&r.touched&&(a("additionalGivenName",""),a("additionalMiddleName",""),a("additionalFamilyName",""))}),[i.value,r.touched]),y().createElement("section",{className:Ni.formSection,"aria-label":"Demographics Section"},t.map((function(e){return y().createElement(Di,{key:"demographics-".concat(e),name:e})})))},Ui=n(4301),Gi={};Gi.styleTagTransform=ct(),Gi.setAttributes=at(),Gi.insert=it().bind(null,"head"),Gi.domAPI=tt(),Gi.insertStyleElement=st(),$e()(Ui.Z,Gi);const Li=Ui.Z&&Ui.Z.locals?Ui.Z.locals:void 0;function Mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ri(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wi(){return Wi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Wi.apply(this,arguments)}var qi=function(e){var t=e.getDisplayValue,n=e.getFieldValue,i=e.getSearchResults,r=e.onSuggestionSelected,a=e.invalid,o=e.invalidText,s=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["getDisplayValue","getFieldValue","getSearchResults","onSuggestionSelected","invalid","invalidText"]),l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,h.useState)([]),2),c=l[0],u=l[1],d=(0,h.useRef)(null),A=(0,h.useRef)(null),p=s.id,m=s.labelText;(0,h.useEffect)((function(){return document.addEventListener("mousedown",_),function(){document.removeEventListener("mousedown",_)}}),[A]);var _=function(e){A.current&&!A.current.contains(e.target)&&u([])};return y().createElement("div",{className:Li.autocomplete,ref:A},y().createElement("label",{className:"cds--label"},m),y().createElement(Re.mh4,{className:Ue()(Ri({},Li.invalid,a))},y().createElement(Re.olm,Wi({id:"autosuggest",onChange:function(e){var t=e.target.value;r(p,void 0),t?i(t).then((function(e){u(e)})):u([])},onClear:function(e){r(p,void 0)},ref:d,className:Li.autocompleteSearch},s))),c.length>0&&y().createElement("ul",{className:Li.suggestions},c.map((function(e,i){return y().createElement("li",{key:i,onClick:function(e){return function(e){var i=t(c[e]),a=n(c[e]);d.current.value=i,r(p,a),u([])}(i)}},t(e))}))),a?y().createElement("label",{className:Ue()(Li.invalidMsg)},o):y().createElement(y().Fragment,null))},Vi=n(2429),zi={};zi.styleTagTransform=ct(),zi.setAttributes=at(),zi.insert=it().bind(null,"head"),zi.domAPI=tt(),zi.insertStyleElement=st(),$e()(Vi.Z,zi);const Zi=Vi.Z&&Vi.Z.locals?Vi.Z.locals:void 0;function Hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ki(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function Yi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Hi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ji=function(e){var t,n=e.relationship,i=e.index,r=e.displayRelationshipTypes,a=e.remove,o=(0,Ve.useTranslation)().t,s=y().useContext(Xe).setFieldValue,l=Xi((0,h.useState)(!1),2),c=l[0],u=l[1],d=!n.uuid,A=(0,h.useCallback)((function(e){var t=e.target,r=t.name,a=t.options[t.selectedIndex].value;s(r,a),(null==n?void 0:n.action)||s("relationships[".concat(i,"].action"),"UPDATE")}),[i,null==n?void 0:n.action,s]),p=(0,h.useCallback)((function(e,t){u(!t),s(e,t)}),[s]),m=function(){var e,t=(e=function(e){var t;return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(n){switch(n.label){case 0:return t=new AbortController,[4,ue(e,t)];case 1:return[2,n.sent()]}}))},function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){Ki(a,i,r,o,s,"next",e)}function s(e){Ki(a,i,r,o,s,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),_=(0,h.useCallback)((function(){"ADD"===n.action?a(i):s("relationships[".concat(i,"].action"),"DELETE")}),[n,i,a,s]),f=(0,h.useCallback)((function(){var e,t;s("relationships[".concat(i,"]"),(e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){Yi(e,t,n[t])}))}return e}({},n),t=null!=(t={action:void 0,relationshipType:n.initialrelationshipTypeValue})?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e))}),[i,s,n]);return"DELETE"!==n.action?y().createElement("div",{className:Zi.relationship},y().createElement("div",{className:Zi.searchBox},y().createElement("div",{className:Zi.relationshipHeader},y().createElement("h4",{className:Zi.productiveHeading},o("relationshipPlaceholder","Relationship")),y().createElement(Re.zxk,{kind:"ghost",iconDescription:o("deleteRelationshipTooltipText","Delete"),hasIconOnly:!0,onClick:_},y().createElement(bn.ZN,{size:16,className:Zi.trashCan}))),y().createElement("div",null,d?y().createElement(qi,{id:"relationships[".concat(i,"].relatedPersonUuid"),labelText:o("relativeFullNameLabelText","Full name"),placeholder:o("relativeNamePlaceholder","Firstname Familyname"),defaultValue:n.relatedPersonName,onSuggestionSelected:p,invalid:c,invalidText:o("relationshipPersonMustExist","Related person must be an existing person"),getSearchResults:m,getDisplayValue:function(e){return e.display},getFieldValue:function(e){return e.uuid}}):y().createElement(y().Fragment,null,y().createElement("span",{className:Zi.labelText},o("relativeFullNameLabelText","Full name")),y().createElement("p",{className:Zi.bodyShort02},n.relatedPersonName)))),y().createElement("div",{className:Zi.selectRelationshipType,style:{marginBottom:"1rem"}},y().createElement(Re.mh4,null,y().createElement(Re.PhF,{id:"select",labelText:o("relationship","Relationship"),onChange:A,name:"relationships[".concat(i,"].relationshipType"),defaultValue:null!==(t=null==n?void 0:n.relationshipType)&&void 0!==t?t:"placeholder-item"},y().createElement(Re.QlF,{disabled:!0,hidden:!0,value:"placeholder-item",text:o("relationshipToPatient","Relationship to patient")}),r.map((function(e,t){return y().createElement(Re.QlF,{text:e.display,value:"".concat(e.uuid,"/").concat(e.direction),key:"relationship-".concat(e.uuid,"-").concat(t)})})))))):y().createElement(Re.K0D,{kind:"info",title:o("relationshipRemovedText","Relationship removed"),actions:y().createElement(Re.xho,{onClick:f},o("restoreRelationshipActionButton","Undo"))})},Qi=function(){var e=(0,h.useContext)(N).relationshipTypes,t=Xi((0,h.useState)([]),2),n=t[0],i=t[1],r=(0,Ve.useTranslation)().t;return(0,h.useEffect)((function(){if(e){var t=[];e.results.forEach((function(e){var n={display:e.displayAIsToB?e.displayAIsToB:e.aIsToB,uuid:e.uuid,direction:"aIsToB"},i={display:e.displayBIsToA?e.displayBIsToA:e.bIsToA,uuid:e.uuid,direction:"bIsToA"};n.display===i.display?t.push(n):t.push(n,i)})),i(t)}}),[e]),e?y().createElement("section",{"aria-label":"Relationships section"},y().createElement(ze.F2,{name:"relationships"},(function(e){var t=e.push,i=e.remove,a=e.form.values.relationships;return y().createElement("div",null,a&&a.length>0?a.map((function(e,t){return y().createElement("div",{key:t,className:Ni.formSection},y().createElement(Ji,{relationship:e,index:t,displayRelationshipTypes:n,key:t,remove:i}))})):null,y().createElement("div",{className:Zi.actions},y().createElement(Re.zxk,{kind:"ghost",onClick:function(){return t({relatedPersonUuid:"",action:"ADD"})}},r("addRelationshipButtonText","Add Relationship"))))}))):y().createElement("section",{"aria-label":"Loading relationships section"},y().createElement(Re.N2B,{role:"progressbar"}))};function $i(e){var t=e.sectionDefinition;switch(t.id){case"demographics":return y().createElement(Pi,{fields:t.fields});case"death":return y().createElement(Ii,null);case"relationships":return y().createElement(Qi,null);default:return y().createElement(ki,{sectionDefinition:t})}}var er=function(e){var t=e.sectionDefinition,n=e.index,i=(0,Ve.useTranslation)().t;return y().createElement("div",{id:t.id,style:{scrollMarginTop:"4rem"}},y().createElement("h3",{className:Mt.productiveHeading02,style:{color:"#161616"}},n+1,". ",i("".concat(t.id,"Section"),t.name)),y().createElement("span",{className:Mt.label01},i("allFieldsRequiredText","All fields are required unless marked optional")),y().createElement("div",{style:{margin:"1rem 0 1rem"}},y().createElement(Re.n9L,null,y().createElement($i,{sectionDefinition:t}))))};function tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function nr(e){var t;return null===(t=e.split(window.getOpenmrsSpaBase()))||void 0===t?void 0:t[1]}const ir=function(e){var t=e.when,n=e.redirect,i=(0,Ve.useTranslation)().t,a=(0,h.useRef)(!1),o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,h.useState)(),2),s=o[0],l=o[1],c=s||n,u=(0,h.useCallback)((function(e){var t=i("discardModalBody","The changes you made to this patient's details have not been saved. Discard changes?");return e.preventDefault(),e.returnValue=t,t}),[i]),d=(0,h.useCallback)((function(e){if(!e.detail.navigationIsCanceled&&!a.current){a.current=!0,e.detail.cancelNavigation();var t=(0,r.showModal)("cancel-patient-edit-modal",{onConfirm:function(){l(e.detail.newUrl),t()}},(function(){a.current=!1}))}}),[]);return(0,h.useEffect)((function(){if(t&&void 0===c)return window.addEventListener("single-spa:before-routing-event",d),window.addEventListener("beforeunload",u),function(){window.removeEventListener("beforeunload",u),window.removeEventListener("single-spa:before-routing-event",d)}}),[c,t,u,d]),(0,h.useEffect)((function(){"string"==typeof c&&(0,r.navigate)({to:"${openmrsSpaBase}/".concat(nr(c))})}),[c]),null};var rr=n(8928),ar={};ar.styleTagTransform=ct(),ar.setAttributes=at(),ar.insert=it().bind(null,"head"),ar.domAPI=tt(),ar.insertStyleElement=st(),$e()(rr.Z,ar);const or=rr.Z&&rr.Z.locals?rr.Z.locals:void 0;var sr=[{name:"Kenya",initials:"KE"},{name:"Uganda",initials:"UG"},{name:"Tanzania",initials:"TZ"}],lr=[{name:"National ID",value:"national-id"},{name:"Passport",value:"passport"},{name:"Birth certificate number",value:"birth-certificate-number"}],cr=n(3919);function ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function dr(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function Ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){Ar(e,t,n[t])}))}return e}function mr(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function _r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ur(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ur(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const fr=function(e){var t,n,i=e.props,a=(0,Ve.useTranslation)().t,o=(0,Ct.AG)(),s=(o.data,o.isLoading),l=o.error,c=_r((0,h.useState)({searchTerm:"",identifierType:""}),2),u=c[0],d=c[1],A=_r((0,h.useState)(!1),2),p=A[0],m=A[1],_=function(){var e,t=(e=function(){var e;return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(t){switch(t.label){case 0:m(!0),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(0,Ct.AW)(u.identifierType,u.searchTerm,i.values.token)];case 2:return e=t.sent(),m(!1),(0,cr.G)(e,i,u.searchTerm),[3,4];case 3:return t.sent(),(0,r.showToast)({title:"Client registry error",description:"Please reload the registration page and re-try again, if the issue persist contact system administrator",millis:1e4,kind:"error",critical:!0}),m(!1),[3,4];case 4:return[2]}}))},function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){dr(a,i,r,o,s,"next",e)}function s(e){dr(a,i,r,o,s,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();return l?y().createElement(Re.n9L,{className:or.errorWrapper},y().createElement("p",null,"Error occurred while reaching the client registry, please proceed with registration and try again later")):y().createElement("div",{id:"patientVerification"},y().createElement("h3",{className:or.productiveHeading02,style:{color:"#161616"}},a("clientVerificationWithClientRegistry","Client verification with client registry")),y().createElement("div",{style:{margin:"1rem 0 1rem"}},y().createElement(Re.mh4,null,s&&y().createElement(Re.lSo,{status:"active",iconDescription:"Loading",description:"Loading data..."})),y().createElement(Re.n9L,{className:or.verificationWrapper},y().createElement(Re.mh4,null,y().createElement(Re.CtY,{ariaLabel:a("selectCountry","Select country"),id:"selectCountry",items:sr,itemToString:function(e){return null!==(t=null==e?void 0:e.name)&&void 0!==t?t:""},label:"Combo box menu options",titleText:a("selectCountry","Select country"),initialSelectedItem:sr[0]})),y().createElement(Re.mh4,null,y().createElement(Re.CtY,{ariaLabel:a("selectIdentifierType","Select identifier type"),id:"selectIdentifierType",items:lr,itemToString:function(e){return null!==(n=null==e?void 0:e.name)&&void 0!==n?n:""},label:"Combo box menu options",titleText:a("selectIdentifierType","Select identifier type"),onChange:function(e){var t=e.selectedItem;return d(mr(pr({},u),{identifierType:t.value}))}})),y().createElement(Re.mh4,null,y().createElement(Re.olm,{id:"search-1",autoFocus:!0,placeHolderText:"Search",disabled:!u.identifierType,onChange:function(e){return d(mr(pr({},u),{searchTerm:e.target.value}))}})),p?y().createElement(Re.lSo,{status:"active",iconDescription:"Loading",description:"Searching client registry"}):y().createElement(Re.zxk,{disabled:!u.identifierType&&!s,size:"md",onClick:_},a("validate","Validate")))))};function gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function hr(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function yr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function br(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var vr=function(e){var t,n,i,a=e.savePatientForm,o=e.isOffline,l=(0,h.useContext)(N),c=l.currentSession,u=(l.addressTemplate,l.identifierTypes),d=(0,Me.useLocation)().search,A=(0,r.useConfig)(),p=br((0,h.useState)(),2),_=p[0],f=p[1],g=br((0,h.useState)(Ye),2),b=g[0],C=g[1],E=(0,Me.useParams)().patientUuid,w=(0,r.usePatient)(E),D=w.isLoading,k=w.patient,O=(0,Ve.useTranslation)().t,S=br((0,h.useState)(null),2),T=S[0],B=S[1],F=br(function(e){var t=function(){var e=(0,Ct.Bx)("1054AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"),t=e.data,n=e.isLoading,i=(0,Ct.Bx)("1712AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA");return{martialStatus:t,education:i.data,occupation:[{uuid:"1538AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",display:"Farmer"},{uuid:"1540AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",display:"Employee"},{uuid:"1539AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",display:"Trader"},{uuid:"159465AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",display:"Student"},{uuid:"159466AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",display:"Driver"},{uuid:"1107AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",display:"None"},{uuid:"5622AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",display:"Other"}],loadingStatus:n,educationLoad:i.isLoading}}(),n=t.martialStatus,i=t.education,a=t.occupation,o=t.educationLoad,s=t.loadingStatus,l=(0,r.usePatient)(e),c=l.isLoading,u=l.patient,d=Ut(e),A=d.data,p=d.isLoading,_=function(e){var t=!!e,n=(0,Q.ZP)(t?"/ws/rest/v1/patient/".concat(e,"/identifier?v=custom:(uuid,identifier,identifierType:(uuid,required,name),preferred)"):null,r.openmrsFetch),i=n.data,a=n.error,o=n.isLoading,s=(0,h.useMemo)((function(){var e,t,n={};return null==i||null===(e=i.data)||void 0===e||null===(t=e.results)||void 0===t||t.forEach((function(e){n[(0,v.Z)(e.identifierType.name)]={identifierUuid:e.uuid,preferred:e.preferred,initialValue:e.identifier,identifierValue:e.identifier,identifierTypeUuid:e.identifierType.uuid,identifierName:e.identifierType.name,required:e.identifierType.required,selectedSource:null,autoGeneration:!1}})),{data:n,isLoading:o}}),[i,a]);return s}(e),f=_.data,g=_.isLoading,y=function(e){var t=!!e,n=(0,Q.ZP)(t?"/ws/rest/v1/relationship?v=".concat(m,"&person=").concat(e):null,r.openmrsFetch),i=n.data,a=n.error,o=n.isLoading,s=(0,h.useMemo)((function(){var t;return{data:null==i||null===(t=i.data)||void 0===t?void 0:t.results.map((function(t){return t.personA.uuid===e?{relatedPersonName:t.personB.display,relatedPersonUuid:t.personB.uuid,relation:t.relationshipType.bIsToA,relationshipType:"".concat(t.relationshipType.uuid,"/bIsToA"),initialrelationshipTypeValue:"".concat(t.relationshipType.uuid,"/bIsToA"),uuid:t.uuid}:{relatedPersonName:t.personA.display,relatedPersonUuid:t.personA.uuid,relation:t.relationshipType.aIsToB,relationshipType:"".concat(t.relationshipType.uuid,"/aIsToB"),initialrelationshipTypeValue:"".concat(t.relationshipType.uuid,"/aIsToB"),uuid:t.uuid}})),error:a,isLoading:o}}),[e,i,a]);return s}(e),b=y.data,C=y.isLoading,E=function(e){var t,n,i,a=(0,r.useConfig)().registrationObs.encounterTypeUuid,o="/ws/rest/v1/encounter?patient=".concat(e,"&encounterType=").concat(a,"&v=custom:(obs:(uuid,display,concept:(uuid,display),value:(uuid,display)))"),s=(0,Q.ZP)(e?o:null,r.openmrsFetch),l=s.data,c=s.isLoading,u=s.error,d={};return null===(n=(0,vt.Z)(null==l||null===(t=l.data)||void 0===t?void 0:t.results))||void 0===n||null===(i=n.obs)||void 0===i||i.forEach((function(e){Object.assign(d,St({},e.concept.uuid,e.value.uuid))})),{data:d,isLoading:c,error:u,obs:null==l?void 0:l.data}}(e),w=E.data,D=E.isLoading,k=E.obs,O=(0,Ct.AG)(),S=O.data,T=O.isLoading,B=Ft((0,h.useState)({patientUuid:(0,Je.Z)(),givenName:"",middleName:"",familyName:"",additionalGivenName:"",additionalMiddleName:"",additionalFamilyName:"",addNameInLocalLanguage:!1,gender:"",birthdate:null,yearsEstimated:0,monthsEstimated:0,birthdateEstimated:!1,telephoneNumber:"",isDead:!1,deathDate:"",deathCause:"",relationships:[],identifiers:{},address:{}}),2),F=B[0],x=B[1];return(0,h.useEffect)((function(){Ot((function(){var t,n,i,a,o,s;return It(this,(function(l){switch(l.label){case 0:return u?(t=!/^\d{4}-\d{2}-\d{2}$/.test(u.birthDate),(n=Ft(u.birthDate.split("-").map((function(e){return parseInt(e)})),2))[0],n[1],i=u.birthDate.split("-").length>1,a=t?Math.floor(wt()().diff(u.birthDate,"month")/12):0,o=t&&i?wt()().diff(u.birthDate,"month")%12:0,x(Bt(Tt(Bt(Tt({},F,(A={},p=(d=u).name[0],m=d.name[1],A.patientUuid=d.id,A.givenName=null==p?void 0:p.given[0],A.middleName=null==p?void 0:p.given[1],A.familyName=null==p?void 0:p.family,A.addNameInLocalLanguage=!!m||void 0,A.additionalGivenName=null==m?void 0:m.given[0],A.additionalMiddleName=null==m?void 0:m.given[1],A.additionalFamilyName=null==m?void 0:m.family,A.gender=(0,_t.Z)(d.gender),A.birthdate=d.birthDate?(0,r.parseDate)(d.birthDate):void 0,A.telephoneNumber=d.telecom?d.telecom[0].value:"",(d.deceasedBoolean||d.deceasedDateTime)&&(A.isDead=!0,A.deathDate=d.deceasedDateTime?d.deceasedDateTime.split("T")[0]:""),ht({},A,d.identifier.map((function(e){return gt({},(0,v.Z)(e.system||e.type.text),e.value)}))))),{address:bt(u)}),function(e){var t={};return e.telecom&&(t.phone=e.telecom[0].value),t}(u)),{birthdateEstimated:!/^\d{4}-\d{2}-\d{2}$/.test(u.birthDate),yearsEstimated:a,monthsEstimated:o})),[3,3]):[3,1];case 1:return c||!e?[3,3]:[4,jt(e)];case 2:if(!(s=l.sent())._patientRegistrationData.formValues)return console.error("Found a queued offline patient registration for patient ".concat(e,", but without form values. Not using these values.")),[2];x(s._patientRegistrationData.formValues),l.label=3;case 3:return[2]}var d,A,p,m}))}))()}),[c,u,e]),(0,h.useEffect)((function(){!T&&S&&x((function(e){return Bt(Tt({},e),{token:String(S.access_token)})}))}),[T,S]),(0,h.useEffect)((function(){!C&&b&&x((function(e){return Bt(Tt({},e),{relationships:b})}))}),[C,b,x]),(0,h.useEffect)((function(){!g&&f&&x((function(e){return Bt(Tt({},e),{identifiers:f})}))}),[g,f,x]),(0,h.useEffect)((function(){if(!p&&A){var e={};A.forEach((function(t){var n;e[t.attributeType.uuid]="org.openmrs.Concept"===t.attributeType.format&&"object"==typeof t.value?null===(n=t.value)||void 0===n?void 0:n.uuid:t.value})),x((function(t){return Bt(Tt({},t),{attributes:e})}))}}),[A,x,p]),(0,h.useEffect)((function(){D||x((function(e){return Bt(Tt({},e),{obs:w,observation:k})}))}),[D]),(0,h.useEffect)((function(){o&&s||x((function(e){return Bt(Tt({},e),{concepts:xt(a).concat(xt(n),xt(i))})}))}),[o,s]),[F,x]}(E),2),x=F[0],I=F[1],j=br(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,r.usePatient)(e),i=n.isLoading,a=n.patient,o=Ft((0,h.useState)(t),2),s=o[0],l=o[1];return(0,h.useEffect)((function(){Ot((function(){var n,r;return It(this,(function(o){switch(o.label){case 0:return a?(l(Bt(Tt({},s),{address:bt(a)})),[3,3]):[3,1];case 1:return i||!e?[3,3]:[4,jt(e)];case 2:n=o.sent(),l(null!==(r=null==n?void 0:n._patientRegistrationData.initialAddressFieldValues)&&void 0!==r?r:t),o.label=3;case 3:return[2]}}))}))()}),[i,a,e]),[s,l]}(E),1),P=j[0],U=br(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,r.usePatient)(e),i=n.isLoading,a=n.patient,o=Ut(e).data,s=Ft((0,h.useState)(t),2),l=s[0],c=s[1];return(0,h.useEffect)((function(){if(a)c(Tt({},l,function(e){var t,n=e.name[0],i=e.name[1],r=null===(t=e.address)||void 0===t?void 0:t[0];return ht({preferredNameUuid:null==n?void 0:n.id,additionalNameUuid:null==i?void 0:i.id,preferredAddressUuid:null==r?void 0:r.id},e.identifier.map((function(e){return gt({},(0,v.Z)(e.system||e.type.text),{uuid:e.id,value:e.value})})))}(a)));else if(!i&&e){var n;jt(e).then((function(e){return c(null!==(n=null==e?void 0:e._patientRegistrationData.initialAddressFieldValues)&&void 0!==n?n:t)}))}}),[i,a,e]),(0,h.useEffect)((function(){o&&c((function(e){return Tt({},e,function(e){var t={};return e.forEach((function(e){var n;t["attribute.".concat(null==e||null===(n=e.attributeType)||void 0===n?void 0:n.uuid)]=null==e?void 0:e.uuid})),t}(o))}))}),[o]),[l,c]}(E),1)[0],G=null==c||null===(t=c.sessionLocation)||void 0===t?void 0:t.uuid,L=D?void 0:!(!E||!k),M=(0,h.useMemo)((function(){return"true"===localStorage.getItem("openmrs:devtools")&&!L}),[L]),R=ce(null==k?void 0:k.id).data,W=(0,h.useRef)(new Se),q=(null==A||null===(n=A.fieldDefinitions)||void 0===n||n.filter((function(e){return"address"===e.type})),br((0,h.useState)(!!L&&(null===(i=x.identifiers.nationalUniquePatientIdentifier)||void 0===i?void 0:i.identifierValue)),2)),V=q[0],z=q[1];(0,h.useEffect)((function(){}),[x]);var Z=(0,h.useMemo)((function(){var e;return A.sections.map((function(t){return null!==(e=A.sectionDefinitions.filter((function(e){return e.id==t}))[0])&&void 0!==e?e:s.filter((function(e){return e.id==t}))[0]})).filter((function(e){return e}))}),[A.sections,A.sectionDefinitions]),H=function(){var e,t=(e=function(e,t){var n,i,o,s,l,u,p,m,_;return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(g){switch(g.label){case 0:n=new AbortController,t.setSubmitting(!0),i=function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){yr(e,t,n[t])}))}return e}({},e),{identifiers:(h=e.identifiers,Object.fromEntries(Object.entries(h).filter((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ft(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2);return t[0],void 0!==t[1].identifierValue}))))}),g.label=1;case 1:return g.trys.push([1,3,,4]),[4,a(!L,i,U,P,T,G,x.identifiers,c,A,W.current,n)];case 2:return g.sent(),(0,r.showSnackbar)({subtitle:L?O("updatePatientSuccessSnackbarSubtitle","The patient's information has been successfully updated"):O("registerPatientSuccessSnackbarSubtitle","The patient can now be found by searching for them using their name or ID number"),title:L?O("updatePatientSuccessSnackbarTitle","Patient Details Updated"):O("registerPatientSuccessSnackbarTitle","New Patient Created"),kind:"success",isLowContrast:!0}),o=new URLSearchParams(d).get("afterUrl"),s=(0,r.interpolateUrl)(o||A.links.submitButton,{patientUuid:e.patientUuid}),f(s),[3,4];case 3:return l=g.sent(),(null===(u=l.responseBody)||void 0===u||null===(p=u.error)||void 0===p?void 0:p.globalErrors)?l.responseBody.error.globalErrors.forEach((function(e){(0,r.showSnackbar)({title:L?O("updatePatientErrorSnackbarTitle","Patient Details Update Failed"):O("registrationErrorSnackbarTitle","Patient Registration Failed"),subtitle:e.message,kind:"error"})})):(null===(m=l.responseBody)||void 0===m||null===(_=m.error)||void 0===_?void 0:_.message)?(0,r.showSnackbar)({title:L?O("updatePatientErrorSnackbarTitle","Patient Details Update Failed"):O("registrationErrorSnackbarTitle","Patient Registration Failed"),subtitle:l.responseBody.error.message,kind:"error"}):(0,r.createErrorHandler)()(l),t.setSubmitting(!1),[3,4];case 4:return[2]}var h}))},function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){hr(a,i,r,o,s,"next",e)}function s(e){hr(a,i,r,o,s,"throw",e)}o(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),K=function(e){e&&"object"==typeof e&&Object.keys(e).length&&Object.keys(e).forEach((function(e){(0,r.showSnackbar)({subtitle:O("".concat(e,"LabelText"),e),title:O("incompleteForm","The following field has errors:"),kind:"warning",isLowContrast:!0})}))};return y().createElement(ze.J9,{enableReinitialize:!0,initialValues:x,validationSchema:b,onSubmit:H},(function(e){return y().createElement(ze.l0,{className:Mt.form},y().createElement(ir,{when:e.dirty,redirect:_}),y().createElement("div",{className:Mt.formContainer},y().createElement("div",null,y().createElement("div",{className:Mt.stickyColumn},y().createElement("h4",null,L?O("edit","Edit"):O("createNew","Create New")," ",O("patient","Patient")),M&&y().createElement(mt,{setValues:e.setValues}),y().createElement("p",{className:Mt.label01},O("jumpTo","Jump to")),Z.map((function(e){return y().createElement("div",{className:Ue()(Mt.space05,Mt.touchTarget),key:e.name},y().createElement(Re.rUS,{className:Mt.linkName,onClick:function(){return t=e.id,void document.getElementById(t).scrollIntoView({behavior:"smooth",block:"center",inline:"center"});var t}},y().createElement(We.Kc,{size:16})," ",O("".concat(e.id,"Section"),e.name)))})),y().createElement(Re.zxk,{renderIcon:qe.r,disabled:!c||!u,onClick:function(){z(!0),e.isValid?(0,Ct.b7)(e.values,e.setValues,L):e.validateForm().then((function(e){return K(e)}))},className:Mt.submitButton},O("postToRegistry","Post to registry")),y().createElement(Re.zxk,{className:Mt.submitButton,type:"submit",onClick:function(){return e.validateForm().then((function(e){return K(e)}))},disabled:!c||!u||e.isSubmitting||!V},e.isSubmitting?y().createElement(Re.lSo,{className:Mt.spinner,description:"".concat(O("submitting","Submitting")," ..."),iconDescription:"submitting",status:"active"}):L?O("updatePatient","Update Patient"):O("registerPatient","Register Patient")),y().createElement(Re.zxk,{className:Mt.cancelButton,kind:"tertiary",onClick:yt},O("cancel","Cancel")))),y().createElement("div",{className:Mt.infoGrid},y().createElement(Xe.Provider,{value:{identifierTypes:u,validationSchema:b,setValidationSchema:C,values:e.values,inEditMode:L,setFieldValue:e.setFieldValue,setCapturePhotoProps:B,currentPhoto:null==R?void 0:R.imageSrc,isOffline:o,initialFormValues:e.initialValues,setInitialFormValues:I}},y().createElement(fr,{props:e}),Z.map((function(e,t){return y().createElement(er,{key:"registration-section-".concat(e.id),sectionDefinition:e,index:t})}))))))}))},Cr=n(1234),Er={};Er.styleTagTransform=ct(),Er.setAttributes=at(),Er.insert=it().bind(null,"head"),Er.domAPI=tt(),Er.insertStyleElement=st(),$e()(Cr.Z,Er);const wr=Cr.Z&&Cr.Z.locals?Cr.Z.locals:void 0;function Dr(){var e=(0,r.useConnectivity)(),t=(0,r.useSession)(),n=Le()("patientRegistrationAddressTemplate",P).data,i=Le()("patientRegistrationRelationshipTypes",G).data,a=Le()("patientRegistrationPatientIdentifiers",q).data,o=(0,h.useMemo)((function(){return e?Oe.savePatientFormOnline:Oe.savePatientFormOffline}),[e]);return y().createElement("main",{className:Ue()("omrs-main-content",wr.root)},y().createElement(Re.rjZ,{className:wr.grid},y().createElement(Re.X2j,null,y().createElement(r.ExtensionSlot,{name:"breadcrumbs-slot"})),y().createElement(N.Provider,{value:{addressTemplate:n,relationshipTypes:i,identifierTypes:a,currentSession:t}},y().createElement(Me.BrowserRouter,{basename:window.getOpenmrsSpaBase()},y().createElement(Me.Routes,null,y().createElement(Me.Route,{path:"patient-registration",element:y().createElement(vr,{savePatientForm:o,isOffline:!e})}),y().createElement(Me.Route,{path:"patient/:patientUuid/edit",element:y().createElement(vr,{savePatientForm:o,isOffline:!e})}))))))}var kr=n(2239),Or={};Or.styleTagTransform=ct(),Or.setAttributes=at(),Or.insert=it().bind(null,"head"),Or.domAPI=tt(),Or.insertStyleElement=st(),$e()(kr.Z,Or);const Sr=kr.Z&&kr.Z.locals?kr.Z.locals:void 0;var Tr=n(5232),Br=n(92),Fr=n.n(Br);var xr=n(3979),Nr={featureName:"Patient Registration",moduleName:_};function Ir(){(0,r.defineConfigSchema)(_,c),(0,r.registerBreadcrumbs)([{path:"".concat(window.spaBase,"/").concat(f),title:function(){return Promise.resolve(window.i18next.t("patientRegistrationBreadcrumb",{defaultValue:"Patient Registration",ns:_}))},parent:"".concat(window.spaBase,"/home")},{path:"".concat(window.spaBase,"/patient/:patientUuid/edit"),title:function(){return Promise.resolve(window.i18next.t("editPatientDetailsBreadcrumb",{defaultValue:"Edit patient details",ns:_}))},parent:"".concat(window.spaBase,"/patient/:patientUuid/chart")}]),(0,r.setupOfflineSync)(f,[],Ie,{onBeginEditSyncItem:function(e){(0,r.navigate)({to:"${openmrsSpaBase}/patient/".concat(e.content.fhirPatient.id,"/edit")})}}),function(){Ne.apply(this,arguments)}(),(0,r.setupDynamicOfflineDataHandler)({id:"esm-patient-registration-app:patient",type:"patient",displayName:"Patient registration",isSynced:function(e){return Be((function(){var t,n;return Fe(this,(function(i){switch(i.label){case 0:return t=xe(e),[4,caches.open("omrs-spa-cache-v1")];case 1:return[4,i.sent().keys()];case 2:return n=i.sent().map((function(e){return e.url})),[2,t.every((function(e){return n.includes(e)}))]}}))}))()},sync:function(e){return Be((function(){var t;return Fe(this,(function(n){switch(n.label){case 0:return t=xe(e),[4,Promise.allSettled(t.map(function(){var e=Be((function(e){return Fe(this,(function(t){switch(t.label){case 0:return[4,(0,r.messageOmrsServiceWorker)({type:"registerDynamicRoute",url:e})];case 1:return t.sent(),[4,fetch(e)];case 2:return t.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}()))];case 1:return n.sent(),[2]}}))}))()}})}var jr=(0,r.getSyncLifecycle)(Dr,Nr),Pr=(0,r.getSyncLifecycle)(Dr,{featureName:"edit-patient-details-form",moduleName:_}),Ur=(0,r.getSyncLifecycle)((function(){var e=y().useCallback((function(){return(0,r.navigate)({to:"${openmrsSpaBase}/patient-registration"})}),[]);return y().createElement(Re.JMr,{"aria-label":"Add Patient","aria-labelledby":"Add Patient",enterDelayMs:500,name:"AddPatientIcon",onClick:e,className:Sr.slotStyles},y().createElement(bn.JT,{size:20}))}),Nr),Gr=(0,r.getAsyncLifecycle)((function(){return n.e(735).then(n.bind(n,5735))}),Nr),Lr=(0,r.getSyncLifecycle)((function(e){var t=e.patientUuid,n=e.patientName,i=e.size,r=ce(t).data,a=Fr().generate(t).toDataUri();return y().createElement(Tr.ZP,{alt:"".concat(n?"".concat(n,"'s avatar"):"Patient avatar"),color:"rgba(0,0,0,0)",name:n,src:null==r?void 0:r.imageSrc,size:"small"===i?"48":"80",textSizeRatio:"small"===i?1:2,style:{backgroundImage:"url(".concat(a,")"),backgroundRepeat:"round"}})}),Nr),Mr=(0,r.getSyncLifecycle)((function(e){var t=e.patientUuid,n=e.onTransition,i=(0,Ve.useTranslation)().t,a=y().useCallback((function(){(0,r.navigate)({to:"${openmrsSpaBase}/patient/".concat(t,"/edit")}),n&&n()}),[n,t]);return y().createElement("li",{className:"cds--overflow-menu-options__option"},y().createElement("button",{className:"cds--overflow-menu-options__btn",role:"menuitem",title:i("editPatientDetails","Edit patient details"),"data-floating-menu-primary-focus":!0,onClick:a},y().createElement("span",{className:"cds--overflow-menu-options__option-content"},i("editPatientDetails","Edit patient details"))))}),{featureName:"edit-patient-details",moduleName:_}),Rr=(0,r.getAsyncLifecycle)((function(){return n.e(537).then(n.bind(n,3537))}),Nr),Wr=(0,r.getAsyncLifecycle)((function(){return n.e(59).then(n.bind(n,7059))}),Nr),qr=(0,r.getAsyncLifecycle)((function(){return n.e(330).then(n.bind(n,1330))}),Nr)},6275:(e,t,n)=>{"use strict";n.d(t,{AG:()=>C,AW:()=>m,Bx:()=>h,b7:()=>f,y$:()=>D});var i=n(2870),r=n(3919),a=n(3255),o=n(9198),s=n.n(o);function l(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){l(a,i,r,o,s,"next",e)}function s(e){l(a,i,r,o,s,"throw",e)}o(void 0)}))}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){u(e,t,n[t])}))}return e}function A(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var p=function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};function m(e,t,n){var i="https://afyakenyaapi.health.go.ke/partners/registry/search/KE/".concat(e,"/").concat(t);return fetch(i,{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){return e.json()}))}function _(e){var t=(0,r.l)(e);return fetch("https://afyakenyaapi.health.go.ke/partners/registry",{headers:{Authorization:"Bearer ".concat(e.token),"Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)})}function f(e,t,n){return g.apply(this,arguments)}function g(){return(g=c((function(e,t,n){var r,a;return p(this,(function(o){switch(o.label){case 0:switch(n?"edit":"new"){case"edit":return[3,1];case"new":return[3,5]}return[3,6];case 1:return o.trys.push([1,3,,4]),[4,m("national-id",e.identifiers.nationalId.identifierValue,e.token)];case 2:return!1===(null==(r=o.sent())?void 0:r.clientExists)&&E(e,t),[3,4];case 3:return a=o.sent(),(0,i.showToast)({title:"Client registry error",description:"".concat(a),millis:1e4,kind:"error",critical:!0}),[3,4];case 4:return[2];case 5:E(e,t),o.label=6;case 6:return[2]}}))}))).apply(this,arguments)}function h(e){var t,n,r=(0,a.ZP)("/ws/rest/v1/concept/".concat(e),i.openmrsFetch),o=r.data,s=r.error,l=r.isLoading;return s&&(0,i.showToast)({title:s.name,description:s.message,kind:"error"}),{data:null!==(n=null==o||null===(t=o.data)||void 0===t?void 0:t.answers)&&void 0!==n?n:[],isLoading:l}}var y=new URLSearchParams;y.append("client_id","palladium.partner.client"),y.append("client_secret","28f95b2a"),y.append("grant_type","client_credentials"),y.append("scope","DHP.Gateway DHP.Partners");var b,v=(b=c((function(e){var t,n;return p(this,(function(i){switch(i.label){case 0:return[4,fetch(e,{method:"POST",body:y,redirect:"follow"})];case 1:return(t=i.sent()).ok?[3,3]:(n=new Error("An error occurred while fetching the data."),[4,t.json()]);case 2:throw n.info=i.sent(),n.status=t.status,n;case 3:return[2,t.json()]}}))})),function(e){return b.apply(this,arguments)});function C(){var e=s()("https://afyakenyaidentityapi.health.go.ke/connect/token",v,{refreshInterval:864e3});return{data:e.data,isLoading:e.isLoading,error:e.error}}function E(e,t){return w.apply(this,arguments)}function w(){return(w=c((function(e,t){var n,r,a,o,s,l,c,m;return p(this,(function(p){switch(p.label){case 0:return p.trys.push([0,6,,7]),[4,_(e)];case 1:return(n=p.sent()).ok?[4,n.json()]:[3,3];case 2:return r=p.sent(),a=u({},"nationalUniquePatientIdentifier",{identifierTypeUuid:"f85081e2-b4be-4e48-b3a4-7994b69bb101",identifierName:"National Unique patient identifier",identifierValue:r.clientNumber,initialValue:r.clientNumber,identifierUuid:void 0,selectedSource:{uuid:"",name:""},preferred:!1,required:!1}),t(A(d({},e),{identifiers:d({},e.identifiers,a)})),(0,i.showToast)({title:"Posted patient to client registry successfully",description:"The patient has been saved to client registry",kind:"success"}),[3,5];case 3:return[4,n.json()];case 4:o=p.sent(),l=Object.values(null!==(s=o.errors)&&void 0!==s?s:{}).map((function(e){return e.join()})).toString(),t(A(d({},e),{attributes:A(d({},e.attributes),(c={},u(c,"869f623a-f78e-4ace-9202-0bed481822f5","Failed validation"),u(c,"752a0331-5293-4aa5-bf46-4d51aaf2cdc5","Failed"),c))})),(0,i.showNotification)({title:o.title,description:l,kind:"warning",millis:15e4}),p.label=5;case 5:return[3,7];case 6:return m=p.sent(),(0,i.showNotification)({kind:"error",title:"NUPI Post failed",description:JSON.stringify(m)}),[3,7];case 7:return[2]}}))}))).apply(this,arguments)}var D=function(e){var t="/ws/rest/v1/kenyaemr/facilityName?facilityCode=".concat(e),n=s()(t,i.openmrsFetch),r=n.data,a=n.error,o=n.isLoading;return{facilityName:r?null==r?void 0:r.data:null,isLoading:o,isError:a}}},3919:(e,t,n)=>{"use strict";n.d(t,{l:()=>c,G:()=>l});var i=n(2870);const r=JSON.parse('[{"name":"Mombasa","code":1,"capital":"Mombasa City"},{"name":"Kwale","code":2,"capital":"Kwale"},{"name":"Kilifi","code":3,"capital":"Kilifi"},{"name":"Tana River","code":4,"capital":"Hola"},{"name":"Lamu","code":5,"capital":"Lamu"},{"name":"Taita taveta","code":6,"capital":"Voi"},{"name":"Garissa","code":7,"capital":"Garissa"},{"name":"Wajir","code":8,"capital":"Wajir"},{"name":"Mandera","code":9,"capital":"Mandera"},{"name":"Marsabit","code":10,"capital":"Marsabit"},{"name":"Isiolo","code":11,"capital":"Isiolo"},{"name":"Meru","code":12,"capital":"Meru"},{"name":"Tharaka nithi","code":13,"capital":"Chuka"},{"name":"Embu","code":14,"capital":"Embu"},{"name":"Kitui","code":15,"capital":"Kitui"},{"name":"Machakos","code":16,"capital":"Machakos"},{"name":"Makueni","code":17,"capital":"Wote"},{"name":"Nyandarua","code":18,"capital":"Ol Kalou"},{"name":"Nyeri","code":19,"capital":"Nyeri"},{"name":"Kirinyaga","code":20,"capital":"Kerugoya/Kutus"},{"name":"Murang\'a","code":21,"capital":"Murang\'a"},{"name":"Kiambu","code":22,"capital":"Kiambu"},{"name":"Turkana","code":23,"capital":"Lodwar"},{"name":"West pokot","code":24,"capital":"Kapenguria"},{"name":"Samburu","code":25,"capital":"Maralal"},{"name":"Trans nzoia","code":26,"capital":"Kitale"},{"name":"Uasin gishu","code":27,"capital":"Eldoret"},{"name":"Elgeyo marakwet","code":28,"capital":"Iten"},{"name":"Nandi","code":29,"capital":"Kapsabet"},{"name":"Baringo","code":30,"capital":"Kabarnet"},{"name":"Laikipia","code":31,"capital":"Rumuruti"},{"name":"Nakuru","code":32,"capital":"Nakuru"},{"name":"Narok","code":33,"capital":"Narok"},{"name":"Kajiado","code":34},{"name":"Kericho","code":35,"capital":"Kericho"},{"name":"Bomet","code":36,"capital":"Bomet"},{"name":"Kakamega","code":37,"capital":"Kakamega"},{"name":"Vihiga","code":38,"capital":"Vihiga"},{"name":"Bungoma","code":39,"capital":"Bungoma"},{"name":"Busia","code":40,"capital":"Busia"},{"name":"Siaya","code":41,"capital":"Siaya"},{"name":"Kisumu","code":42,"capital":"Kisumu"},{"name":"Homa bay","code":43,"capital":"Homa Bay"},{"name":"Migori","code":44,"capital":"Migori"},{"name":"Kisii","code":45,"capital":"Kisii"},{"name":"Nyamira","code":46,"capital":"Nyamira"},{"name":"Nairobi","code":47,"capital":"Nairobi City"}]');function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){a(e,t,n[t])}))}return e}function s(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n.push.apply(n,i)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function l(e,t,n){if(!1===(null==e?void 0:e.clientExists))var l=a({},"nationalId",{initialValue:n,identifierUuid:void 0,selectedSource:{uuid:"",name:""},preferred:!1,required:!1,identifierTypeUuid:"49af6cdc-7968-4abb-bf46-de10d7f4859f",identifierName:"National ID",identifierValue:n}),c=(0,i.showModal)("empty-client-registry-modal",{onConfirm:function(){t.setValues(s(o({},t.values),{identifiers:o({},t.values.identifiers,l)})),c()},close:function(){return c()}});if(null==e?void 0:e.clientExists)var u,d,A,p=e.client,m=p.middleName,_=p.lastName,f=p.firstName,g=p.contact,h=(p.country,p.countyOfBirth,p.residence),y=p.identifications,b=p.gender,v=p.dateOfBirth,C=p.isAlive,E=p.clientNumber,w=p.educationLevel,D=p.occupation,k=p.maritalStatus,O=(a(A={},"nationalId",{initialValue:void 0!==y&&(null===(u=y[0])||void 0===u?void 0:u.identificationNumber),identifierUuid:void 0,selectedSource:{uuid:"",name:""},preferred:!1,required:!1,identifierTypeUuid:"49af6cdc-7968-4abb-bf46-de10d7f4859f",identifierName:"National ID",identifierValue:void 0!==y&&(null===(d=y[0])||void 0===d?void 0:d.identificationNumber)}),a(A,"nationalUniquePatientIdentifier",{identifierTypeUuid:"f85081e2-b4be-4e48-b3a4-7994b69bb101",identifierName:"National Unique patient identifier",identifierValue:E,initialValue:E,identifierUuid:void 0,selectedSource:{uuid:"",name:""},preferred:!1,required:!1}),A),S=(0,i.showModal)("confirm-client-registry-modal",{onConfirm:function(){var e,n,i,a,l,c,u,d;t.setValues(s(o({},t.values),{familyName:_,middleName:m,givenName:f,gender:"male"===b?"Male":"Female",birthdate:new Date(v),isDead:!C,attributes:{"b2c38640-2603-4629-aebd-3b54f33f1e3a":null==g?void 0:g.primaryPhone,"94614350-84c8-41e0-ac29-86bc107069be":null==g?void 0:g.secondaryPhone,"b8d0b331-1d2d-4a9a-b741-1816f498bdb6":null!==(l=null==g?void 0:g.emailAddress)&&void 0!==l?l:""},address:{address1:null==h?void 0:h.address,address2:"",address4:null==h?void 0:h.ward,cityVillage:null==h?void 0:h.village,stateProvince:null==h?void 0:h.subCounty,countyDistrict:null===(e=r.find((function(e){return e.code===parseInt(null==h?void 0:h.county)})))||void 0===e?void 0:e.name,country:"Kenya",postalCode:null==h?void 0:h.address},identifiers:o({},t.values.identifiers,O),obs:{"1054AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA":null!==(c=null===(n=t.values.concepts.find((function(e){var t;return(null===(t=e.display)||void 0===t?void 0:t.toLowerCase())===(null==k?void 0:k.toLowerCase())})))||void 0===n?void 0:n.uuid)&&void 0!==c?c:"","1712AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA":null!==(u=null===(i=t.values.concepts.find((function(e){var t;return(null===(t=e.display)||void 0===t?void 0:t.toLowerCase())===(null==w?void 0:w.toLowerCase())})))||void 0===i?void 0:i.uuid)&&void 0!==u?u:"","1542AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA":null!==(d=null===(a=t.values.concepts.find((function(e){var t;return(null===(t=e.display)||void 0===t?void 0:t.toLowerCase())===(null==D?void 0:D.toLowerCase())})))||void 0===a?void 0:a.uuid)&&void 0!==d?d:""}})),S()},close:function(){return S()},patient:e.client})}function c(e){var t,n,i,a,o,s,l,c,u,d,A,p=e.concepts.find((function(t){return t.uuid===e.obs["1712AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"]})),m=e.concepts.find((function(t){return t.uuid===e.obs["1542AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"]})),_=e.concepts.find((function(t){return t.uuid===e.obs["1054AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"]}));return{firstName:null==e?void 0:e.givenName,middleName:null==e?void 0:e.middleName,lastName:null==e?void 0:e.familyName,gender:"Male"===(null==e?void 0:e.gender)?"male":"female",dateOfBirth:new Date(e.birthdate).toISOString(),isAlive:!e.isDead,residence:{county:"0".concat(null===(t=r.find((function(t){return t.name.includes(e.address.countyDistrict)})))||void 0===t?void 0:t.code),subCounty:null===(n=e.address.stateProvince)||void 0===n?void 0:n.toLocaleLowerCase(),ward:null===(i=e.address.address4)||void 0===i?void 0:i.toLocaleLowerCase(),village:e.address.cityVillage,landmark:e.address.address2,address:e.address.postalCode},nextOfKins:[],contact:{primaryPhone:e.attributes["b2c38640-2603-4629-aebd-3b54f33f1e3a"],secondaryPhone:e.attributes["94614350-84c8-41e0-ac29-86bc107069be"],emailAddress:e.attributes["b8d0b331-1d2d-4a9a-b741-1816f498bdb6"]},country:"KE",countyOfBirth:"0".concat(null===(a=r.find((function(t){return t.name.includes(e.address.countyDistrict)})))||void 0===a?void 0:a.code),educationLevel:null!==(u=null==p||null===(o=p.display)||void 0===o?void 0:o.toLowerCase())&&void 0!==u?u:"",religion:"",occupation:null!==(d=null==m||null===(s=m.display)||void 0===s?void 0:s.toLowerCase())&&void 0!==d?d:"",maritalStatus:null!==(A=null==_||null===(l=_.display)||void 0===l?void 0:l.toLowerCase())&&void 0!==A?A:"",originFacilityKmflCode:"",nascopCCCNumber:"",identifications:[{identificationType:"national-id",identificationNumber:null===(c=e.identifiers.nationalId)||void 0===c?void 0:c.identifierValue}]}}},3979:(e,t,n)=>{var i={"./am.json":[8788,788],"./ar.json":[4460,460],"./en.json":[3574,574],"./es.json":[8319,319],"./fr.json":[2757,757],"./he.json":[5833,833],"./km.json":[7807,807]};function r(e){if(!n.o(i,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],r=t[0];return n.e(t[1]).then((()=>n(r)))}r.keys=()=>Object.keys(i),r.id=3979,e.exports=r}}]);