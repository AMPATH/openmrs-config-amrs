"use strict";(globalThis.webpackChunk_openmrs_esm_laboratory_app=globalThis.webpackChunk_openmrs_esm_laboratory_app||[]).push([[160],{6784:(e,t,r)=>{r.d(t,{c:()=>i});var n=r(6004),o=r.n(n),a=r(1056),l=r.n(a)()(o());l.push([e.id,"section{margin:.5rem}.-esm-laboratory__reject-order-dialog__sectionTitle___BnEtJ{margin-bottom:.75rem}.-esm-laboratory__reject-order-dialog__modalBody___uZCAk{padding-bottom:1rem}","",{version:3,sources:["webpack://./src/reject-order/reject-order-dialog.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAGA,QACE,YCiBW,CDdb,4DACE,oBCkBW,CDfb,yDACE,mBCmBW",sourceRoot:""}]),l.locals={sectionTitle:"-esm-laboratory__reject-order-dialog__sectionTitle___BnEtJ",modalBody:"-esm-laboratory__reject-order-dialog__modalBody___uZCAk"};const i=l},3160:(e,t,r)=>{r.r(t),r.d(t,{default:()=>T});var n=r(7244),o=r.n(n),a=r(3444),l=r(4652),i=r(3604),c=r.n(i),u=r(7200),s=r.n(u),d=r(8272),f=r.n(d),m=r(712),p=r.n(m),b=r(6768),y=r.n(b),h=r(2116),v=r.n(h),_=r(6784),g={};g.styleTagTransform=v(),g.setAttributes=p(),g.insert=f().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=y(),c()(_.c,g);const w=_.c&&_.c.locals?_.c.locals:void 0;var E=r(8704);function C(e,t,r,n,o,a,l){try{var i=e[a](l),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,o)}function k(){var e;return e=function(e,t){var r;return function(e,t){var r,n,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,n=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(n){return r=new AbortController,[2,(0,E.openmrsFetch)("/ws/rest/v1/order/".concat(e,"/fulfillerdetails/"),{method:"POST",headers:{"Content-Type":"application/json"},signal:r.signal,body:t})]}))},k=function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function l(e){C(a,n,o,l,i,"next",e)}function i(e){C(a,n,o,l,i,"throw",e)}l(void 0)}))},k.apply(this,arguments)}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A(e,t,r,n,o,a,l){try{var i=e[a](l),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,o)}const T=function(e){var t,r,i,c,u=e.order,s=e.closeModal,d=(0,l.useTranslation)().t,f=(i=(0,n.useState)(""),c=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw o}}return a}}(i,c)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}(i,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=f[0],p=f[1],b=(t=function(e){var t;return function(e,t){var r,n,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,n=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(r){return e.preventDefault(),t={fulfillerStatus:"EXCEPTION",fulfillerComment:m},function(e,t){return k.apply(this,arguments)}(u.uuid,t).then((function(e){(0,E.showSnackbar)({isLowContrast:!0,title:d("rejectOrder","Rejected Order"),kind:"success",subtitle:d("successfullyrejected","You have successfully rejected an Order with OrderNumber ".concat(u.orderNumber," "))}),s()}),(function(e){(0,E.showNotification)({title:d("errorRejecting order', 'Error Rejecting a order"),kind:"error",critical:!0,description:null==e?void 0:e.message})})),[2]}))},r=function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function l(e){A(a,n,o,l,i,"next",e)}function i(e){A(a,n,o,l,i,"throw",e)}l(void 0)}))},function(e){return r.apply(this,arguments)});return o().createElement("div",null,o().createElement(a.QFz,{onSubmit:b},o().createElement(a.kPY,{closeModal:s,title:d("rejectOrder","Reject Order")}),o().createElement(a.aUI,null,o().createElement("div",{className:w.modalBody},o().createElement("section",{className:w.section},o().createElement("h5",{className:w.section},null==u?void 0:u.accessionNumber,"   ·  ",null==u?void 0:u.fulfillerStatus," ","  ·  ",null==u?void 0:u.orderNumber," ")),o().createElement("br",null),o().createElement("section",{className:w.section},o().createElement(a.IF6,{labelText:d("notes","Enter Comments "),id:"nextNotes",name:"nextNotes",invalidText:"Required",helperText:"Please enter comment",maxCount:500,enableCounter:!0,onChange:function(e){return p(e.target.value)}})))),o().createElement(a._AC,null,o().createElement(a.qaq,{kind:"secondary",onClick:s},d("cancel","Cancel")),o().createElement(a.qaq,{kind:"danger",type:"submit"},d("rejectOrder","Reject Order")))))}}}]);