"use strict";(globalThis.webpackChunk_openmrs_esm_laboratory_app=globalThis.webpackChunk_openmrs_esm_laboratory_app||[]).push([[896],{9896:(e,t,r)=>{r.d(t,{c:()=>l});var o=r(6004),n=r.n(o),a=r(1056),i=r.n(a)()(n());i.push([e.id,"section{margin:.5rem}.-esm-laboratory__result-form__sectionTitle___Kem7I{margin-bottom:.75rem}.-esm-laboratory__result-form__modalBody___JDt0A{padding-bottom:1rem}.-esm-laboratory__result-form__textInput___QPWJO{margin:5px}.-esm-laboratory__result-form__errorDiv___aMvT8{color:red}","",{version:3,sources:["webpack://./src/results/result-form.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAIA,QACE,YCgBW,CDbb,oDACE,oBCiBW,CDdb,iDACE,mBCkBW,CDfb,iDACE,UAAA,CAGF,gDACE,SAAA",sourceRoot:""}]),i.locals={sectionTitle:"-esm-laboratory__result-form__sectionTitle___Kem7I",modalBody:"-esm-laboratory__result-form__modalBody___JDt0A",textInput:"-esm-laboratory__result-form__textInput___QPWJO",errorDiv:"-esm-laboratory__result-form__errorDiv___aMvT8"};const l=i},7096:(e,t,r)=>{r.d(t,{c:()=>l});var o=r(6004),n=r.n(o),a=r(1056),i=r.n(a)()(n());i.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}:root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory__work-list__productiveHeading01___gP5oH{font-size:var(--cds-heading-01-font-size, 0.875rem);font-weight:var(--cds-heading-01-font-weight, 600);line-height:var(--cds-heading-01-line-height, 1.42857);letter-spacing:var(--cds-heading-01-letter-spacing, 0.16px)}.-esm-laboratory__work-list__productiveHeading02___G95Ce{font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0)}.-esm-laboratory__work-list__productiveHeading03___CoxJS{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-laboratory__work-list__productiveHeading04___KuBi2{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-laboratory__work-list__bodyLong01___Xdyi9{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-laboratory__work-list__bodyShort01___F_zu3{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-laboratory__work-list__bodyShort02___P4_WS{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0)}.-esm-laboratory__work-list__text02___fy6j4{color:#525252}.-esm-laboratory__work-list__label01___HNdrZ{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-laboratory__work-list__modal___Rkkvq{position:fixed;width:100vw;height:100vh;display:grid;background-color:rgba(0,0,0,.5);z-index:9000;justify-items:center;align-items:center}title{width:6.938rem;height:1.75rem;margin:.438rem 22.875rem .813rem 0;font-family:IBMPlexSans;font-size:1.25rem;font-weight:normal;font-stretch:normal;font-style:normal;line-height:1.4;letter-spacing:normal}.-esm-laboratory__work-list__link___R9QBQ{text-decoration:none}.-esm-laboratory__work-list__breadcrumbsSlot___Ljvbr{grid-row:1/2;grid-column:1/2}.-esm-laboratory__work-list__orderTabsContainer___remgx{height:100%;width:100%}.-esm-laboratory__work-list__orderTabsContainer___remgx .cds--tab-content{padding:0 !important}.-esm-laboratory__work-list__orderTabs___OuUcR{grid-column:"span 2";padding:0 1rem}.-esm-laboratory__work-list__newListButton___n0wIQ{width:fit-content;justify-self:end;align-self:center}.-esm-laboratory__work-list__tabsContainer___ytuVR{background-color:#fff}.-esm-laboratory__work-list__tabsContainer___ytuVR .cds--tabs__nav-item--selected{box-shadow:inset 0 2px 0 0 var(--brand-03) !important}.-esm-laboratory__work-list__tabsContainer___ytuVR .cds--tab--list button{max-width:12rem !important}.-esm-laboratory__work-list__hiddenTabsContent___A8UKN,.-esm-laboratory__work-list__tabs___LoBec .-esm-laboratory__work-list__hiddenTabsContent___A8UKN{display:none}.-esm-laboratory__work-list__patientListTableContainer___Zz3Fx{grid-row:3/4;grid-column:1/2;height:100%;margin:.5rem 1rem;background-color:#f4f4f4;border:.5px solid #e0e0e0}.-esm-laboratory__work-list__patientListTableContainer___Zz3Fx .cds--data-table-container{padding-top:0 !important}.-esm-laboratory__work-list__patientListTableContainer___Zz3Fx tbody>tr>:nth-child(2){white-space:nowrap}.-esm-laboratory__work-list__patientListTableContainer___Zz3Fx .cds--data-table td{height:unset !important}.-esm-laboratory__work-list__patientListTableContainer___Zz3Fx .cds--data-table--zebra tbody tr[data-parent-row]:nth-child(4n+1) td{background-color:#fff;border-bottom:1px solid #e0e0e0;border-top:1px solid #e0e0e0}.-esm-laboratory__work-list__patientListTableContainer___Zz3Fx .cds--data-table--zebra tbody tr[data-parent-row]:nth-child(4n+3) td{background-color:#f4f4f4;border-bottom:1px solid #e0e0e0}.-esm-laboratory__work-list__tableContainer___iOYpJ{background-color:#f4f4f4;margin:0 1rem;padding:0}.-esm-laboratory__work-list__tableContainer___iOYpJ a{text-decoration:none}.-esm-laboratory__work-list__tableContainer___iOYpJ th{color:#525252}.-esm-laboratory__work-list__tableContainer___iOYpJ .cds--data-table{background-color:#e0e0e0}.-esm-laboratory__work-list__tableContainer___iOYpJ .-esm-laboratory__work-list__toolbarContent___BQiyf{height:2rem;margin-bottom:.25rem}.-esm-laboratory__work-list__activePatientsTable___pt26O tr:last-of-type td{border-bottom:none}.-esm-laboratory__work-list__searchContainer___huWJd{display:flex;align-items:center;flex-direction:row-reverse;padding-top:.5rem}.-esm-laboratory__work-list__searchContainer___huWJd .cds--search-magnifier-icon{z-index:0 !important}.-esm-laboratory__work-list__searchContainer___huWJd input{background-color:#fff}.-esm-laboratory__work-list__addOrderBtn___D9gCI{width:10rem !important;padding:.5rem !important;margin-left:1rem;margin-right:1rem}.-esm-laboratory__work-list__patientSearch___rk68o{width:25rem;border-bottom-color:#e0e0e0}.-esm-laboratory__work-list__locationFilter___nJnBJ{width:25rem}.-esm-laboratory__work-list__search___FwieU{width:100%;max-width:16rem;background-color:#fff;border-bottom-color:#e0e0e0}.-esm-laboratory__work-list__container___RYRnb{background-color:#f4f4f4}.-esm-laboratory__work-list__expandedLabQueueVisitRow___F0Xqi .cds--tab-content{padding:.5rem 0}.-esm-laboratory__work-list__expandedLabQueueVisitRow___F0Xqi td{padding:.5rem}.-esm-laboratory__work-list__expandedLabQueueVisitRow___F0Xqi td>div{max-height:max-content !important;background-color:#fff}.-esm-laboratory__work-list__expandedLabQueueVisitRow___F0Xqi th[colspan] td[colspan]>div:first-child{padding:0 1rem}.-esm-laboratory__work-list__tileContainer___SQ0BL{background-color:#fff;border-top:1px solid #e0e0e0;padding:5rem 0}.-esm-laboratory__work-list__tile___KJ2Ba{margin:auto;width:fit-content}.-esm-laboratory__work-list__tileContent___s6u70{display:flex;flex-direction:column;align-items:center}.-esm-laboratory__work-list__content___Sp2ai{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252;margin-bottom:.5rem}',"",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/root.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./src/work-list/work-list.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CAHF,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,yDC81BI,mDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,2DAAA,CD11BJ,yDC01BI,+CAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDt1BJ,yDCs1BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDl1BJ,yDCk1BI,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CD90BJ,gDC80BI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CD10BJ,iDC00BI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDt0BJ,iDCs0BI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CDl0BJ,4CACE,aD5BQ,CC+BV,6CC8zBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CD1zBJ,2CACE,cAAA,CACA,WAAA,CACA,YAAA,CACA,YAAA,CACA,+BAAA,CACA,YAAA,CACA,oBAAA,CACA,kBAAA,CE3CF,MACE,cAAA,CACA,cAAA,CACA,kCAAA,CACA,uBAAA,CACA,iBAAA,CACA,kBAAA,CACA,mBAAA,CACA,iBAAA,CACA,eAAA,CACA,qBAAA,CAGF,0CACE,oBAAA,CAGF,qDACE,YAAA,CACA,eAAA,CAGF,wDACE,WAAA,CACA,UAAA,CAEA,0EACE,oBAAA,CAIJ,+CACE,oBAAA,CACA,cAAA,CAGF,mDACE,iBAAA,CACA,gBAAA,CACA,iBAAA,CAGF,mDACE,qBH/CM,CGiDN,kFACE,qDAAA,CAGF,0EACE,0BAAA,CAIJ,wJAEE,YAAA,CAGF,+DACE,YAAA,CACA,eAAA,CACA,WAAA,CACA,iBAAA,CACA,wBHrEM,CGsEN,yBAAA,CAEA,0FACE,wBAAA,CAGF,sFACE,kBAAA,CAGF,mFACE,uBAAA,CAGF,oIACE,qBHpFI,CGqFJ,+BAAA,CACA,4BAAA,CAGF,oIACE,wBH3FI,CG4FJ,+BAAA,CAIJ,oDACE,wBHjGM,CGkGN,aAAA,CACA,SAAA,CAEA,sDACE,oBAAA,CAGF,uDACE,aHrGM,CGwGR,qEACE,wBH5GI,CG+GN,wGACE,WCzES,CD0ET,oBCnGS,CDwGX,4EACE,kBAAA,CAIJ,qDACE,YAAA,CACA,kBAAA,CACA,0BAAA,CACA,iBAAA,CAEA,iFACE,oBAAA,CAGF,2DACE,qBAAA,CAIJ,iDACE,sBAAA,CACA,wBAAA,CACA,gBAAA,CACA,iBAAA,CAGF,mDACE,WAAA,CACA,2BHnJM,CGsJR,oDACE,WAAA,CAGF,4CACE,UAAA,CACA,eAAA,CACA,qBH9JM,CG+JN,2BH9JM,CGiKR,+CACE,wBHpKM,CGwKN,gFACE,eAAA,CAGF,iEACE,aAAA,CAEA,qEACE,iCAAA,CACA,qBHhLE,CGoLN,sGACE,cAAA,CAKJ,mDACE,qBH3LM,CG4LN,4BAAA,CACA,cAAA,CAGF,0CACE,WAAA,CACA,iBAAA,CAGF,iDACE,YAAA,CACA,qBAAA,CACA,kBAAA,CAGF,6CDspBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CCppBF,aHzMQ,CG0MR,mBAAA",sourceRoot:""}]),i.locals={productiveHeading01:"-esm-laboratory__work-list__productiveHeading01___gP5oH",productiveHeading02:"-esm-laboratory__work-list__productiveHeading02___G95Ce",productiveHeading03:"-esm-laboratory__work-list__productiveHeading03___CoxJS",productiveHeading04:"-esm-laboratory__work-list__productiveHeading04___KuBi2",bodyLong01:"-esm-laboratory__work-list__bodyLong01___Xdyi9",bodyShort01:"-esm-laboratory__work-list__bodyShort01___F_zu3",bodyShort02:"-esm-laboratory__work-list__bodyShort02___P4_WS",text02:"-esm-laboratory__work-list__text02___fy6j4",label01:"-esm-laboratory__work-list__label01___HNdrZ",modal:"-esm-laboratory__work-list__modal___Rkkvq",link:"-esm-laboratory__work-list__link___R9QBQ",breadcrumbsSlot:"-esm-laboratory__work-list__breadcrumbsSlot___Ljvbr",orderTabsContainer:"-esm-laboratory__work-list__orderTabsContainer___remgx",orderTabs:"-esm-laboratory__work-list__orderTabs___OuUcR",newListButton:"-esm-laboratory__work-list__newListButton___n0wIQ",tabsContainer:"-esm-laboratory__work-list__tabsContainer___ytuVR",hiddenTabsContent:"-esm-laboratory__work-list__hiddenTabsContent___A8UKN",tabs:"-esm-laboratory__work-list__tabs___LoBec",patientListTableContainer:"-esm-laboratory__work-list__patientListTableContainer___Zz3Fx",tableContainer:"-esm-laboratory__work-list__tableContainer___iOYpJ",toolbarContent:"-esm-laboratory__work-list__toolbarContent___BQiyf",activePatientsTable:"-esm-laboratory__work-list__activePatientsTable___pt26O",searchContainer:"-esm-laboratory__work-list__searchContainer___huWJd",addOrderBtn:"-esm-laboratory__work-list__addOrderBtn___D9gCI",patientSearch:"-esm-laboratory__work-list__patientSearch___rk68o",locationFilter:"-esm-laboratory__work-list__locationFilter___nJnBJ",search:"-esm-laboratory__work-list__search___FwieU",container:"-esm-laboratory__work-list__container___RYRnb",expandedLabQueueVisitRow:"-esm-laboratory__work-list__expandedLabQueueVisitRow___F0Xqi",tileContainer:"-esm-laboratory__work-list__tileContainer___SQ0BL",tile:"-esm-laboratory__work-list__tile___KJ2Ba",tileContent:"-esm-laboratory__work-list__tileContent___s6u70",content:"-esm-laboratory__work-list__content___Sp2ai"};const l=i},7941:(e,t,r)=>{r.d(t,{S6:()=>s,Ws:()=>_,qe:()=>c});var o=r(8704),n=r(7244);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var i={isOverlayOpen:!1,component:Function,header:""},l=function(){return(0,o.getGlobalStore)("laboratory",i)},s=function(e,t){l().setState({isOverlayOpen:!0,component:t,header:e})},c=function(){l().setState({component:null,isOverlayOpen:!1})},_=function(){var e,t,r=(e=(0,n.useState)(),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(o=r.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];return(0,n.useEffect)((function(){var e=function(e){i(e)};e(l().getState()),l().subscribe(e)}),[]),{isOverlayOpen:null==o?void 0:o.isOverlayOpen,component:null==o?void 0:o.component,header:null==o?void 0:o.header}}},8896:(e,t,r)=>{r.r(t),r.d(t,{default:()=>U});var o=r(7244),n=r.n(o),a=r(4652),i=r(7424),l=r(1552),s=r(3444),c=r(3232),_=r(3604),A=r.n(_),d=r(7200),u=r.n(d),m=r(8272),p=r.n(m),b=r(712),C=r.n(b),y=r(6768),g=r.n(y),f=r(2116),h=r.n(f),v=r(7096),w={};w.styleTagTransform=h(),w.setAttributes=C(),w.insert=p().bind(null,"head"),w.domAPI=u(),w.insertStyleElement=g(),A()(v.c,w);const k=v.c&&v.c.locals?v.c.locals:void 0;var E=r(8704),B=r(7941),D=r(9896),O={};O.styleTagTransform=h(),O.setAttributes=C(),O.insert=p().bind(null,"head"),O.domAPI=u(),O.insertStyleElement=g(),A()(D.c,O);const S=D.c&&D.c.locals?D.c.locals:void 0;var x=r(2544);function F(e,t,r,o,n,a,i){try{var l=e[a](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(o,n)}function N(){return(e=function(e,t,r){var o;return function(e,t){var r,o,n,a,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,o&&(n=2&a[0]?o.return:a[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,a[1])).done)return n;switch(o=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((n=(n=i.trys).length>0&&n[n.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){i.label=a[1];break}if(6===a[0]&&i.label<n[1]){i.label=n[1],n=a;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(a);break}n[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{r=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,(function(n){switch(n.label){case 0:return o=new AbortController,[4,(0,E.openmrsFetch)("/ws/rest/v1/order",{method:"POST",headers:{"Content-Type":"application/json"},signal:o.signal,body:r})];case 1:return 201!==n.sent().status?[3,3]:[4,(0,E.openmrsFetch)("/ws/rest/v1/encounter/".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},signal:o.signal,body:t})];case 2:return[2,n.sent()];case 3:return[2]}}))},N=function(){var t=this,r=arguments;return new Promise((function(o,n){var a=e.apply(t,r);function i(e){F(a,o,n,i,l,"next",e)}function l(e){F(a,o,n,i,l,"throw",e)}i(void 0)}))}).apply(this,arguments);var e}var T=r(4256);function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),o.forEach((function(t){I(e,t,r[t])}))}return e}function L(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r.push.apply(r,o)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const P=function(e){var t=e.concept,r=e.control,o=e.errors,i=(0,a.useTranslation)().t,l=function(e){var t,r;return"Text"===(null===(t=e.datatype)||void 0===t?void 0:t.display)||"Numeric"===(null===(r=e.datatype)||void 0===r?void 0:r.display)},c=function(e){var t;return"Coded"===(null===(t=e.datatype)||void 0===t?void 0:t.display)},_=function(e){var t;if("Numeric"===(null==e||null===(t=e.datatype)||void 0===t?void 0:t.display)){var r,o=Math.max(null==e?void 0:e.hiAbsolute,null==e?void 0:e.hiCritical,null==e?void 0:e.hiNormal),n=Math.min(null==e?void 0:e.lowAbsolute,null==e?void 0:e.lowCritical,null==e?void 0:e.lowNormal);return" (".concat(null!=n?n:0," - ").concat(o>0?o:"--"," ").concat(null!==(r=null==e?void 0:e.units)&&void 0!==r?r:"",")")}return""};return n().createElement(n().Fragment,null,Object.keys(o).length>0&&n().createElement("div",{className:S.errorDiv},"All fields are required"),l(t)&&n().createElement(T.Mc,{control:r,rules:{required:!0},name:t.uuid,render:function(e){var r,o=e.field;return n().createElement(s.gf6,L(G({key:t.uuid,className:S.textInput},o),{type:"Numeric"===t.datatype.display?"number":"text",labelText:(null==t?void 0:t.display)+("Numeric"===t.datatype.display&&null!==(r=_(t))&&void 0!==r?r:""),autoFocus:!0}))}}),c(t)&&n().createElement(T.Mc,{name:t.uuid,control:r,rules:{required:!0},render:function(e){var r,o=e.field;return n().createElement(s.M1e,L(G({key:t.uuid,className:S.textInput},o),{type:"text",labelText:null==t?void 0:t.display,rules:{required:!0}}),n().createElement(s.gV5,{text:i("option","Choose an Option"),value:""}),null==t||null===(r=t.answers)||void 0===r?void 0:r.map((function(e){return n().createElement(s.gV5,{key:e.uuid,text:e.display,value:e.uuid},e.display)})))}}),function(e){var t;return(null===(t=e.setMembers)||void 0===t?void 0:t.length)>0}(t)&&t.setMembers.map((function(e,t){return l(e)?n().createElement(T.Mc,{control:r,name:e.uuid,rules:{required:!0},render:function(r){var o,a=r.field;return n().createElement(s.gf6,L(G({key:e.uuid,className:S.textInput},a),{type:"Numeric"===e.datatype.display?"number":"text",labelText:(null==e?void 0:e.display)+("Numeric"===e.datatype.display&&null!==(o=_(e))&&void 0!==o?o:""),autoFocus:0===t}))}}):c(e)?n().createElement(T.Mc,{name:e.uuid,control:r,rules:{required:!0},render:function(r){var o,a=r.field;return n().createElement(s.M1e,L(G({key:e.uuid,className:S.textInput},a),{type:"text",labelText:null==e?void 0:e.display,autoFocus:0===t}),n().createElement(s.gV5,{text:i("option","Choose an Option"),value:""}),null==e||null===(o=e.answers)||void 0===o?void 0:o.map((function(e){return n().createElement(s.gV5,{key:e.uuid,text:e.display,value:e.uuid},e.display)})))}}):void 0})))},J=function(e){var t=e.order,r=e.patientUuid,i=(0,a.useTranslation)().t,l=(0,T.aS)({defaultValues:{}}),c=l.control,_=l.register,A=l.formState,d=A.isSubmitting,u=A.errors,m=l.getValues,p=l.handleSubmit,b=(0,E.usePatient)(r),C=b.patient,y=b.isLoading,g=function(e){var t="/ws/rest/v1/concept/".concat(e,"?v=custom:(uuid,display,name,datatype,set,answers,hiNormal,hiAbsolute,hiCritical,lowNormal,lowAbsolute,lowCritical,units,setMembers:(uuid,display,answers,datatype,hiNormal,hiAbsolute,hiCritical,lowNormal,lowAbsolute,lowCritical,units))"),r=(0,x.cp)(t,E.openmrsFetch),o=r.data,n=r.error,a=r.isLoading,i=r.isValidating,l=r.mutate;return{concept:null==o?void 0:o.data,isLoading:a,isError:n,isValidating:i,mutate:l}}(t.concept.uuid),f=g.concept,h=g.isLoading,v=(0,o.useMemo)((function(){if(C)return{patient:C,patientUuid:r,hideActionsOverflow:!0}}),[C,r]);return h?n().createElement("div",null,"Loading test details"):n().createElement(n().Fragment,null,n().createElement("div",{className:""},n().createElement(s.aUI,null,y&&n().createElement(s.kp8,{className:S.bannerLoading,iconDescription:"Loading",description:"Loading banner",status:"active"}),C&&n().createElement(E.ExtensionSlot,{name:"patient-header-slot",state:v}),f.setMembers.length>0&&n().createElement("div",null,f.display),f&&n().createElement("section",{className:S.section},n().createElement("form",null,n().createElement(P,{register:_,concept:f,control:c,errors:u})))),n().createElement(s._AC,null,n().createElement(s.qaq,{disabled:d,onClick:function(){return(0,B.qe)()},kind:"secondary"},i("cancel","Cancel")),n().createElement(s.qaq,{onClick:p((function(e,r){r.preventDefault(),m();var o=[];if(f.set&&f.setMembers.length>0){var n=[];f.setMembers.forEach((function(e){var r;"Numeric"===e.datatype.display||"Text"===e.datatype.display?r=m()["".concat(e.uuid)]:"Coded"===e.datatype.display&&(r={uuid:m()["".concat(e.uuid)]});var o={concept:{uuid:e.uuid},value:r,status:"FINAL",order:{uuid:t.uuid}};n.push(o)})),o.push({concept:{uuid:t.concept.uuid},status:"FINAL",order:{uuid:t.uuid},groupMembers:n})}else if(!f.set&&0===f.setMembers.length){var a;"Numeric"===f.datatype.display||"Text"===f.datatype.display?a=m()["".concat(f.uuid)]:"Coded"===f.datatype.display&&(a={uuid:m()["".concat(f.uuid)]}),o.push({concept:{uuid:t.concept.uuid},status:"FINAL",order:{uuid:t.uuid},value:a})}var l={obs:o},s={previousOrder:t.uuid,type:"testorder",action:"DISCONTINUE",careSetting:t.careSetting.uuid,encounter:t.encounter.uuid,patient:t.patient.uuid,concept:t.concept.uuid,orderer:t.orderer};(function(e,t,r){return N.apply(this,arguments)})(t.encounter.uuid,l,s).then((function(){(0,E.showSnackbar)({isLowContrast:!0,title:i("updateEncounter","Update lab results"),kind:"success",subtitle:i("generateSuccessfully","You have successfully updated test results")}),(0,B.qe)()}),(function(e){(0,E.showNotification)({title:i("errorUpdatingEncounter', 'Error occurred while updating test results"),kind:"error",critical:!0,description:null==e?void 0:e.message})}))}))},"Save test results"))))};var j=r(6456);function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),o.forEach((function(t){z(e,t,r[t])}))}return e}function R(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r.push.apply(r,o)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(o=r.next()).done)&&(a.push(o.value),!t||a.length!==t);i=!0);}catch(e){l=!0,n=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw n}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Y=function(e){var t=e.fulfillerStatus,r=(0,a.useTranslation)().t,_=H((0,o.useState)(""),2),A=_[0],d=_[1],u=(0,c.a)(A,t),m=u.workListEntries,p=u.isLoading,b=[5,10,15,20,25,30,35,40,45,50],C=H((0,o.useState)(10),2),y=C[0],g=C[1],f=(0,E.usePagination)(m,y),h=f.goTo,v=f.results,w=f.currentPage,D=function(e){var t=e.order,r=(0,o.useCallback)((function(){var e=(0,E.showModal)("reject-order-dialog",{closeModal:function(){return e()},order:t})}),[t]);return n().createElement(s.qaq,{kind:"ghost",onClick:r,renderIcon:function(e){return n().createElement(i.Gi,q({size:16},e))}})},O=[{id:0,header:r("date","Date"),key:"date"},{id:1,header:r("orderNumber","Order Number"),key:"orderNumber"},{id:2,header:r("patient","Patient"),key:"patient"},{id:3,header:r("accessionNumber","Accession Number"),key:"accessionNumber"},{id:4,header:r("test","Test"),key:"test"},{id:5,header:r("action","Action"),key:"action"},{id:6,header:r("status","Status"),key:"status"},{id:8,header:r("orderer","Orderer"),key:"orderer"},{id:9,header:r("urgency","Urgency"),key:"urgency"},{id:10,header:r("actions","Actions"),key:"actions"}],S=function(e){var t=e.order,o=e.patientUuid;return n().createElement(s.qaq,{kind:"ghost",onClick:function(){(0,B.S6)(r("resultForm","Lab results form"),n().createElement(J,{patientUuid:o,order:t}))},renderIcon:function(e){return n().createElement(l.aI,q({size:16},e))}})},x=(0,o.useMemo)((function(){return null==v?void 0:v.filter((function(e){return"IN_PROGRESS"===e.fulfillerStatus})).map((function(e,t){return R(q({},e),{id:e.uuid,date:{content:n().createElement(n().Fragment,null,n().createElement("span",null,(0,E.formatDate)((0,E.parseDate)(e.dateActivated))))},patient:{content:n().createElement(E.ConfigurableLink,{to:"${openmrsSpaBase}/patient/".concat(e.patient.uuid,"/chart/laboratory-orders")},e.patient.display.split("-")[1])},orderNumber:{content:n().createElement("span",null,e.orderNumber)},accessionNumber:{content:n().createElement("span",null,e.accessionNumber)},test:{content:n().createElement("span",null,e.concept.display)},action:{content:n().createElement("span",null,e.action)},status:{content:n().createElement(n().Fragment,null,n().createElement(s.EDW,null,n().createElement("span",{className:k.statusContainer,style:{color:"".concat((0,j.gN)(e.fulfillerStatus))}},n().createElement("span",null,e.fulfillerStatus))))},orderer:{content:n().createElement("span",null,e.orderer.display)},orderType:{content:n().createElement("span",null,e.orderType.display)},urgency:{content:n().createElement("span",null,e.urgency)},actions:{content:n().createElement(n().Fragment,null,n().createElement(S,{patientUuid:e.patient.uuid,order:v[t]}),n().createElement(D,{order:v[t]}))}})}))}),[S,v]);return p?n().createElement(s.m2V,{role:"progressbar"}):(null==v?void 0:v.length)>=0?n().createElement(s.iSL,{rows:x,headers:O,useZebraStyles:!0},(function(e){var t=e.rows,o=e.headers,a=e.getHeaderProps,i=e.getTableProps,l=e.getRowProps,c=e.onInputChange;return n().createElement(s._tR,{className:k.tableContainer},n().createElement(s.MBp,{style:{position:"static",height:"3rem",overflow:"visible",backgroundColor:"color"}},n().createElement(s.aGn,null,n().createElement(s.ar0,{style:{margin:"5px"}},n().createElement(s.I4g,{dateFormat:"Y-m-d",datePickerType:"single"},n().createElement(s.Mjs,{labelText:"",id:"activatedOnOrAfterDate",placeholder:"YYYY-MM-DD",onChange:function(e){d(e.target.value)},type:"date",value:A}))),n().createElement(s.ar0,null,n().createElement(s.OWJ,{onChange:c,placeholder:r("searchThisList","Search this list"),size:"sm"})))),n().createElement(s.oJK,R(q({},i()),{className:k.activePatientsTable}),n().createElement(s.iy5,null,n().createElement(s.CGA,null,o.map((function(e){var t,r;return n().createElement(s.IEe,a({header:e}),null!==(r=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==r?r:e.header)})))),n().createElement(s.qqV,null,t.map((function(e,t){return n().createElement(n().Fragment,{key:e.id},n().createElement(s.CGA,R(q({},l({row:e})),{key:e.id}),e.cells.map((function(e){var t,r;return n().createElement(s.y6P,{key:e.id},null!==(r=null===(t=e.value)||void 0===t?void 0:t.content)&&void 0!==r?r:e.value)}))))})))),0===t.length?n().createElement("div",{className:k.tileContainer},n().createElement(s.g$J,{className:k.tile},n().createElement("div",{className:k.tileContent},n().createElement("p",{className:k.content},r("noWorklistsToDisplay","No worklists orders to display"))))):null,n().createElement(s.eML,{forwardText:"Next page",backwardText:"Previous page",page:w,pageSize:y,pageSizes:b,totalItems:null==m?void 0:m.length,className:k.pagination,onChange:function(e){var t=e.pageSize,r=e.page;t!==y&&g(t),r!==w&&h(r)}}))})):void 0},U=function(){return n().createElement("div",null,n().createElement(Y,{fulfillerStatus:"IN_PROGRESS"}))}},6456:(e,t,r)=>{r.d(t,{gN:()=>a,sv:()=>i});var o=r(8704),n=r(2544),a=function(e){return"COMPLETED"===e?"green":"IN_PROGRESS"===e?"orange":"red"};function i(e){var t="/ws/rest/v1/patient/".concat(e,"?v=full"),r=(0,n.cp)(t,o.openmrsFetch),a=r.data,i=r.error,l=r.isLoading;return{patient:null==a?void 0:a.data,isLoading:l,isError:i}}},3232:(e,t,r)=>{r.d(t,{a:()=>a});var o=r(8704),n=r(2544);function a(e,t){var r="/ws/rest/v1/order?orderTypes=52a447d3-a64a-11e3-9aeb-50e549534c5e&activatedOnOrAfterDate=".concat(e,"&isStopped=false&fulfillerStatus=").concat(t,"&v=full\n"),a=(0,n.cp)(r,o.openmrsFetch),i=a.data,l=a.error,s=a.isLoading;return{workListEntries:(null==i?void 0:i.data)?i.data.results:[],isLoading:s,isError:l}}}}]);