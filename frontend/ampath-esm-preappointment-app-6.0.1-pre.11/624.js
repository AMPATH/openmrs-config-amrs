(globalThis.webpackChunk_ampath_esm_preappointment_app=globalThis.webpackChunk_ampath_esm_preappointment_app||[]).push([[624],{1553:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(272),a=n.n(r),p=n(2609),o=n.n(p)()(a());o.push([e.id,".-esm-preappointment__pre-appointment__preAppointment___qW2Y4{margin:1rem;padding:1rem;border:1px solid #dde1e6}.-esm-preappointment__pre-appointment__emptyStateContainer___X_AtK{margin:1rem}","",{version:3,sources:["webpack://./src/pre-appointments/pre-appointment.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAGA,8DACE,WC2BW,CD1BX,YC0BW,CDzBX,wBAAA,CAGF,mEACE,WCqBW",sourceRoot:""}]),o.locals={preAppointment:"-esm-preappointment__pre-appointment__preAppointment___qW2Y4",emptyStateContainer:"-esm-preappointment__pre-appointment__emptyStateContainer___X_AtK"};const i=o},1497:(e,t,n)=>{"use strict";n.r(t),n.d(t,{importTranslation:()=>x,preAppointments:()=>W,root:()=>N,startupApp:()=>O});var r=n(2870),a={basicAuthBase64:{_type:r.Type.String,_description:"Basic auth base64 string for the API call e.g Basic someBase64String==",_default:""}},p=n(5206),o=n.n(p),i=n(8744);var s=n(5253),l=n(3255),m=n(4924),c=n(5660),u=n(1354),d=n.n(u),_=n(1583),g=n.n(_),h=n(7378),f=n.n(h),v=n(5993),A=n.n(v),y=n(4154),b=n.n(y),C=n(8141),E=n.n(C),P=n(1553),k={};k.styleTagTransform=E(),k.setAttributes=A(),k.insert=f().bind(null,"head"),k.domAPI=g(),k.insertStyleElement=b(),d()(P.Z,k);const w=P.Z&&P.Z.locals?P.Z.locals:void 0;function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}var T="@ampath/esm-preappointment-app",B={featureName:"esm-preappointment-app",moduleName:T},x=n(3979),N=(0,r.getSyncLifecycle)((function(){return o().createElement(i.BrowserRouter,{basename:window.getOpenmrsSpaBase()})}),B),W=(0,r.getSyncLifecycle)((function(){var e,t,n,a=(0,m.useTranslation)().t,p=function(e,t){var n,a=(0,r.useConfig)().basicAuthBase64,p="https://ngx.ampath.or.ke/etl-latest/etl/ml-weekly-predictions?locationUuids=".concat(e,"&yearWeek=").concat(t),o=(0,l.ZP)(p,(function(){return function(e,t){return fetch(e,{headers:{Authorization:t}}).then((function(e){return e.json()}))}(p,a)})),i=o.data,s=o.isLoading,m=o.error,c=o.isValidating;return{preappoinments:null!==(n=null==i?void 0:i.result)&&void 0!==n?n:[],isLoading:s,error:m,isValidating:c}}("08feae7c-1352-11df-a1f1-0026b9348838","2024-W07"),i=p.preappoinments,u=p.isLoading,d=p.error,_=[{key:"ccc_number",header:"CCC Number"},{key:"person_name",header:"Person Name"},{key:"age",header:"Age"}],g=(0,r.usePagination)(i,10),h=g.results,f=g.goTo,v=g.currentPage,A=void 0===v?0:v,y=(0,c.Lr)(10,null==i?void 0:i.length,A,null!==(e=null==h?void 0:h.length)&&void 0!==e?e:0).pageSizes,b=void 0===y?[]:y,C=h.map((function(e){return{id:"".concat(e.person_id),ccc_number:e.ccc_number,person_name:null!==(t=e.person_name)&&void 0!==t?t:"--",age:e.age,uuid:e.uuid}}));return u?o().createElement(s.gqd,{headers:_,"aria-label":a("preAppointments","Pre appointments")}):d?o().createElement(r.ErrorState,{error:d,headerTitle:a("preAppointments","Pre appointments")}):(null==i?void 0:i.length)?o().createElement("div",{className:w.preAppointment},o().createElement(s.wQF,{rows:C,headers:_,size:"sm",useZebraStyles:!0},(function(e){var t=e.rows,n=e.headers,r=e.getHeaderProps,p=e.getRowProps,i=e.getTableProps,l=e.getTableContainerProps;return o().createElement(s.xJi,S({title:a("preAppointments","Pre-Appointments"),description:a("preAppointmentDescription","Pre-appointments for the selected week")},l()),o().createElement(s.iA_,S({},i()),o().createElement(s.ssF,null,o().createElement(s.SCH,null,n.map((function(e){return o().createElement(s.xDH,S({key:e.key},r({header:e})),e.header)})))),o().createElement(s.RMI,null,t.map((function(e,t){return o().createElement(s.SCH,S({key:e.id},p({row:e})),e.cells.map((function(e){return o().createElement(s.pj1,{key:e.id},e.value)})))})))))})),o().createElement(s.tlE,{backwardText:"Previous page",forwardText:"Next page",itemsPerPageText:"Items per page:",onChange:function(e){var t=e.page;return f(t)},page:null!=A?A:0,pageSize:10,pageSizes:null!=b?b:[],size:"md",totalItems:null!==(n=null==i?void 0:i.length)&&void 0!==n?n:0})):o().createElement("div",{className:w.emptyStateContainer},o().createElement(c.ub,{headerTitle:a("preAppointments","Pre appointments"),displayText:a("preAppointments","Pre appointments")}))}),B);function O(){(0,r.defineConfigSchema)(T,a)}},3979:(e,t,n)=>{var r={"./en.json":[3574,574]};function a(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((()=>n(a)))}a.keys=()=>Object.keys(r),a.id=3979,e.exports=a}}]);