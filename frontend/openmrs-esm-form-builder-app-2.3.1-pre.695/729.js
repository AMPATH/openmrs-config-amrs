"use strict";(globalThis.webpackChunk_openmrs_esm_form_builder_app=globalThis.webpackChunk_openmrs_esm_form_builder_app||[]).push([[729],{89454:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(87537),a=n.n(r),o=n(23645),i=n.n(o)()(a());i.push([e.id,".-esm-form-builder__action-buttons__actionButtons___fHui9{display:flex;align-items:center;justify-content:flex-end;margin:1rem 0}.-esm-form-builder__action-buttons__actionButtons___fHui9 button{margin-left:1rem}.-esm-form-builder__action-buttons__spinner___uTjVo.cds--inline-loading{min-height:1rem}","",{version:3,sources:["webpack://./src/components/action-buttons/action-buttons.scss"],names:[],mappings:"AAAA,0DACE,YAAA,CACA,kBAAA,CACA,wBAAA,CACA,aAAA,CAEA,iEACE,gBAAA,CAKF,wEACE,eAAA",sourceRoot:""}]),i.locals={actionButtons:"-esm-form-builder__action-buttons__actionButtons___fHui9",spinner:"-esm-form-builder__action-buttons__spinner___uTjVo"};const l=i},40270:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(87537),a=n.n(r),o=n(23645),i=n.n(o)()(a());i.push([e.id,".-esm-form-builder__dashboard__container___Wal_P{padding:1rem;background-color:#f4f4f4}.-esm-form-builder__dashboard__backgroundDataFetchingIndicator___pvhG5{flex:1}.-esm-form-builder__dashboard__flexContainer___Mm18q{display:flex;justify-content:space-between}.-esm-form-builder__dashboard__toolbarWrapper___RUga4{position:relative;display:flex;justify-content:flex-end}.omrs-breakpoint-lt-desktop .-esm-form-builder__dashboard__toolbarWrapper___RUga4{height:3rem}.omrs-breakpoint-gt-tablet .-esm-form-builder__dashboard__toolbarWrapper___RUga4{height:2rem}.-esm-form-builder__dashboard__tableToolbar___C3SIt{width:20%;min-width:12.5rem}.-esm-form-builder__dashboard__headerContainer___p8D9T{background-color:#f4f4f4}.-esm-form-builder__dashboard__searchbox___Xqlyd input{outline:2px solid #ff832b !important}.-esm-form-builder__dashboard__link___qKq6V{text-decoration:none}.-esm-form-builder__dashboard__table___bB2_m tr:last-of-type td{border-bottom:none}.-esm-form-builder__dashboard__table___bB2_m td{padding-top:0;padding-bottom:0}.-esm-form-builder__dashboard__toolbar___Jd1Mo{position:relative;display:flex;width:100%;min-height:2rem;margin-bottom:.5rem}.-esm-form-builder__dashboard__emptyContainer___NMRCU{justify-content:center;align-items:center;width:100%;padding:1rem}.-esm-form-builder__dashboard__tableContainer___g3LIB{padding:0}.-esm-form-builder__dashboard__tableContainer___g3LIB .cds--data-table-content{border:1px solid #e0e0e0;border-bottom:none;overflow:visible}.-esm-form-builder__dashboard__tableContainer___g3LIB .cds--table-toolbar{position:relative;height:2rem;min-height:0rem;overflow:visible;top:0}.-esm-form-builder__dashboard__tableContainer___g3LIB.cds--data-table-container{padding-top:0rem}.-esm-form-builder__dashboard__filterContainer____yxN0{flex:1}.-esm-form-builder__dashboard__filterContainer____yxN0 .cds--dropdown__wrapper--inline{gap:0}.-esm-form-builder__dashboard__filterContainer____yxN0 .cds--list-box__menu-icon{height:1rem}.-esm-form-builder__dashboard__filterDropdown___Uo1aK{margin-bottom:.5rem}.-esm-form-builder__dashboard__content___rpYvj{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252;margin-bottom:.5rem}.-esm-form-builder__dashboard__tileContainer___qC3f7{background-color:#fff;border-top:1px solid #525252;padding:5rem 0}.-esm-form-builder__dashboard__tile___NdQlL{margin:auto;width:fit-content}.-esm-form-builder__dashboard__tileContent___OIedg{display:flex;flex-direction:column;align-items:center}.-esm-form-builder__dashboard__warningMessage___hTdHn{margin:1rem 0}.-esm-form-builder__dashboard__spinner___e3Lbh.cds--inline-loading{min-height:1rem}","",{version:3,sources:["webpack://./src/components/dashboard/dashboard.scss","webpack://./node_modules/@carbon/colors/index.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAIA,iDACE,YAAA,CACA,wBCoCQ,CDjCV,uEACE,MAAA,CAGF,qDACE,YAAA,CACA,6BAAA,CAGF,sDACE,iBAAA,CACA,YAAA,CACA,wBAAA,CAIA,kFACE,WEyBS,CFpBX,iFACE,WESS,CFLb,oDACE,SAAA,CACA,iBAAA,CAGF,uDACE,wBAAA,CAIA,uDACE,oCAAA,CAIJ,4CACE,oBAAA,CAMI,gEACE,kBAAA,CAKN,gDACE,aAAA,CACA,gBAAA,CAIJ,+CACE,iBAAA,CACA,YAAA,CACA,UAAA,CACA,eAAA,CACA,mBAAA,CAGF,sDACE,sBAAA,CACA,kBAAA,CACA,UAAA,CACA,YAAA,CAGF,sDACE,SAAA,CAEA,+EACE,wBAAA,CACA,kBAAA,CACA,gBAAA,CAGF,0EACE,iBAAA,CACA,WAAA,CACA,eAAA,CACA,gBAAA,CACA,KAAA,CAGF,gFACE,gBAAA,CAKJ,uDACE,MAAA,CAEA,uFACE,KAAA,CAGF,iFACE,WAAA,CAIJ,sDACE,mBEpGW,CFuGb,+CGsuBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CHpuBF,aC9EQ,CD+ER,mBAAA,CAGF,qDACE,qBCTQ,CDUR,4BAAA,CACA,cAAA,CAGF,4CACE,WAAA,CACA,iBAAA,CAGF,mDACE,YAAA,CACA,qBAAA,CACA,kBAAA,CAGF,sDACE,aAAA,CAIA,mEACE,eAAA",sourceRoot:""}]),i.locals={container:"-esm-form-builder__dashboard__container___Wal_P",backgroundDataFetchingIndicator:"-esm-form-builder__dashboard__backgroundDataFetchingIndicator___pvhG5",flexContainer:"-esm-form-builder__dashboard__flexContainer___Mm18q",toolbarWrapper:"-esm-form-builder__dashboard__toolbarWrapper___RUga4",tableToolbar:"-esm-form-builder__dashboard__tableToolbar___C3SIt",headerContainer:"-esm-form-builder__dashboard__headerContainer___p8D9T",searchbox:"-esm-form-builder__dashboard__searchbox___Xqlyd",link:"-esm-form-builder__dashboard__link___qKq6V",table:"-esm-form-builder__dashboard__table___bB2_m",toolbar:"-esm-form-builder__dashboard__toolbar___Jd1Mo",emptyContainer:"-esm-form-builder__dashboard__emptyContainer___NMRCU",tableContainer:"-esm-form-builder__dashboard__tableContainer___g3LIB",filterContainer:"-esm-form-builder__dashboard__filterContainer____yxN0",filterDropdown:"-esm-form-builder__dashboard__filterDropdown___Uo1aK",content:"-esm-form-builder__dashboard__content___rpYvj",tileContainer:"-esm-form-builder__dashboard__tileContainer___qC3f7",tile:"-esm-form-builder__dashboard__tile___NdQlL",tileContent:"-esm-form-builder__dashboard__tileContent___OIedg",warningMessage:"-esm-form-builder__dashboard__warningMessage___hTdHn",spinner:"-esm-form-builder__dashboard__spinner___e3Lbh"};const l=i},4298:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(87537),a=n.n(r),o=n(23645),i=n.n(o)()(a());i.push([e.id,'.-esm-form-builder__empty-state__action___O1dBg{margin-bottom:.5rem}.-esm-form-builder__empty-state__content___qowQ3{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);color:#525252;margin-top:1rem;margin-bottom:.5rem}.-esm-form-builder__empty-state__desktopHeading___kdF99 h4{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252}.-esm-form-builder__empty-state__tabletHeading___BEQmV h4{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);color:#525252}.-esm-form-builder__empty-state__desktopHeading___kdF99,.-esm-form-builder__empty-state__tabletHeading___BEQmV{text-align:left;text-transform:capitalize;margin-bottom:1rem}.-esm-form-builder__empty-state__desktopHeading___kdF99 h4:after,.-esm-form-builder__empty-state__tabletHeading___BEQmV h4:after{content:"";display:block;width:2rem;padding-top:.188rem;border-bottom:.375rem solid var(--brand-03)}.-esm-form-builder__empty-state__heading___UrKNa:after{content:"";display:block;width:2rem;padding-top:.188rem;border-bottom:.375rem solid var(--brand-03)}.-esm-form-builder__empty-state__tile___kOT5S{text-align:center;border:1px solid #e0e0e0}',"",{version:3,sources:["webpack://./src/components/empty-state/empty-state.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./node_modules/@carbon/colors/index.scss"],names:[],mappings:"AAIA,gDACE,mBCgBW,CDbb,iDE01BI,2DAAA,CAAA,0DAAA,CAAA,8DAAA,CAAA,mEAAA,CFx1BF,aGsCQ,CHrCR,eCoBW,CDnBX,mBCSW,CDLX,2DEk1BE,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CFh1BA,aG8BM,CHzBR,0DE20BE,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CFz0BA,aGuBM,CHnBV,+GACE,eAAA,CACA,yBAAA,CACA,kBCDW,CDGX,iIACE,UAAA,CACA,aAAA,CACA,UAAA,CACA,mBAAA,CACA,2CAAA,CAIJ,uDACE,UAAA,CACA,aAAA,CACA,UAAA,CACA,mBAAA,CACA,2CAAA,CAGF,8CACE,iBAAA,CACA,wBAAA",sourceRoot:""}]),i.locals={action:"-esm-form-builder__empty-state__action___O1dBg",content:"-esm-form-builder__empty-state__content___qowQ3",desktopHeading:"-esm-form-builder__empty-state__desktopHeading___kdF99",tabletHeading:"-esm-form-builder__empty-state__tabletHeading___BEQmV",heading:"-esm-form-builder__empty-state__heading___UrKNa",tile:"-esm-form-builder__empty-state__tile___kOT5S"};const l=i},39761:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(87537),a=n.n(r),o=n(23645),i=n.n(o)()(a());i.push([e.id,'.-esm-form-builder__error-state__errorMessage___Y5qNF{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);margin-top:2.25rem;margin-bottom:.5rem}.-esm-form-builder__error-state__errorCopy___JQziZ{margin-bottom:.5rem;font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px);color:#525252}.-esm-form-builder__error-state__desktopHeading___Ri1i7 h4{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252}.-esm-form-builder__error-state__tabletHeading___XUrSF h4{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);color:#525252}.-esm-form-builder__error-state__desktopHeading___Ri1i7,.-esm-form-builder__error-state__tabletHeading___XUrSF{text-align:left;text-transform:capitalize;margin-bottom:1rem}.-esm-form-builder__error-state__desktopHeading___Ri1i7 h4:after,.-esm-form-builder__error-state__tabletHeading___XUrSF h4:after{content:"";display:block;width:2rem;padding-top:.188rem;border-bottom:.375rem solid var(--brand-03)}.-esm-form-builder__error-state__tile___w49e4{text-align:center;border:1px solid #e0e0e0}',"",{version:3,sources:["webpack://./src/components/error-state/error-state.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./node_modules/@carbon/colors/index.scss"],names:[],mappings:"AAIA,sDC81BI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CD31BF,kBAAA,CACA,mBEaW,CFVb,mDACE,mBESW,CD60BT,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CDp1BF,aGkCQ,CH9BR,2DCg1BE,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CD90BA,aG4BM,CHvBR,0DCy0BE,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDv0BA,aGqBM,CHjBV,+GACE,eAAA,CACA,yBAAA,CACA,kBEHW,CFKX,iIACE,UAAA,CACA,aAAA,CACA,UAAA,CACA,mBAAA,CACA,2CAAA,CAIJ,8CACE,iBAAA,CACA,wBAAA",sourceRoot:""}]),i.locals={errorMessage:"-esm-form-builder__error-state__errorMessage___Y5qNF",errorCopy:"-esm-form-builder__error-state__errorCopy___JQziZ",desktopHeading:"-esm-form-builder__error-state__desktopHeading___Ri1i7",tabletHeading:"-esm-form-builder__error-state__tabletHeading___XUrSF",tile:"-esm-form-builder__error-state__tile___w49e4"};const l=i},34553:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(87537),a=n.n(r),o=n(23645),i=n.n(o)()(a());i.push([e.id,".-esm-form-builder__form-editor__container___EWcU0{padding:2rem;display:flex;flex-direction:column}.-esm-form-builder__form-editor__grid___wYMDM{margin-left:0;margin-right:0;padding-left:0;padding-right:0;max-width:100%}.-esm-form-builder__form-editor__grid___wYMDM .cds--tabs__nav-item--selected{border-bottom:2px solid var(--cds-border-interactive, #005d5d);outline:none !important}.-esm-form-builder__form-editor__column___C5MAT{margin-left:0;margin-right:0}.-esm-form-builder__form-editor__errorNotification___G_V3y{min-width:100%;margin:0;padding:0}.-esm-form-builder__form-editor__actionButtons___SA2Vs{display:flex;align-items:center;justify-content:space-between;margin:1rem 0}.-esm-form-builder__form-editor__actionButtons___SA2Vs button{margin-left:1rem}.-esm-form-builder__form-editor__formName___rQ3Te{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-form-builder__form-editor__editorContainer___ABeSl{padding:1rem}.-esm-form-builder__form-editor__heading___SeRaW{display:flex;margin-right:1rem;align-items:center}.-esm-form-builder__form-editor__tabHeading___As8B0{display:flex;align-items:center;font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);min-height:2.5rem;width:100%;padding:.75rem}.-esm-form-builder__form-editor__backButton___uELHk{margin-left:1rem;padding:.5rem 0;max-width:fit-content}.-esm-form-builder__form-editor__backButton___uELHk a{text-decoration:none}.-esm-form-builder__form-editor__backButton___uELHk button{display:flex;padding-left:0 !important}.-esm-form-builder__form-editor__backButton___uELHk button svg{order:1;margin:0 .5rem}.-esm-form-builder__form-editor__backButton___uELHk button span{order:2}button{padding-block-start:.5rem}","",{version:3,sources:["webpack://./src/components/form-editor/form-editor.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAIA,mDACE,YAAA,CACA,YAAA,CACA,qBAAA,CAGF,8CACE,aAAA,CACA,cAAA,CACA,cAAA,CACA,eAAA,CACA,cAAA,CAEA,6EACE,8DAAA,CACA,uBAAA,CAIJ,gDACE,aAAA,CACA,cAAA,CAGF,2DACE,cAAA,CACA,QAAA,CACA,SAAA,CAGF,uDACE,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,aAAA,CAEA,8DACE,gBAAA,CAIJ,kDCqzBI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDjzBJ,yDACE,YAAA,CAGF,iDACE,YAAA,CACA,iBAAA,CACA,kBAAA,CAGF,oDACE,YAAA,CACA,kBAAA,CCqyBE,2DAAA,CAAA,0DAAA,CAAA,8DAAA,CAAA,mEAAA,CDnyBF,iBAAA,CACA,UAAA,CACA,cAAA,CAGF,oDACE,gBEtCW,CFuCX,eAAA,CACA,qBAAA,CAEA,sDACE,oBAAA,CAGF,2DACE,YAAA,CACA,yBAAA,CAEA,+DACE,OAAA,CACA,cAAA,CAGF,gEACE,OAAA,CAKN,OACE,yBAAA",sourceRoot:""}]),i.locals={container:"-esm-form-builder__form-editor__container___EWcU0",grid:"-esm-form-builder__form-editor__grid___wYMDM",column:"-esm-form-builder__form-editor__column___C5MAT",errorNotification:"-esm-form-builder__form-editor__errorNotification___G_V3y",actionButtons:"-esm-form-builder__form-editor__actionButtons___SA2Vs",formName:"-esm-form-builder__form-editor__formName___rQ3Te",editorContainer:"-esm-form-builder__form-editor__editorContainer___ABeSl",heading:"-esm-form-builder__form-editor__heading___SeRaW",tabHeading:"-esm-form-builder__form-editor__tabHeading___As8B0",backButton:"-esm-form-builder__form-editor__backButton___uELHk"};const l=i},51659:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(87537),a=n.n(r),o=n(23645),i=n.n(o)()(a());i.push([e.id,".-esm-form-builder__form-renderer__container___qmP2j,.-esm-form-builder__form-renderer__loadingContainer___RJP8p{background-color:#fff;padding:1rem;overflow-y:scroll;height:100vh}.-esm-form-builder__form-renderer__loadingContainer___RJP8p{background-color:#f4f4f4;margin-top:5rem}.-esm-form-builder__form-renderer__loader___AOiPt{display:flex;justify-content:center;align-items:center;height:inherit}.-esm-form-builder__form-renderer__emptyStateTile___mZ_kI,.-esm-form-builder__form-renderer__errorStateTile___q9583{width:80%;margin:1.25rem auto;display:flex;flex-flow:column wrap;align-items:center;justify-content:center;padding:1.5rem}.-esm-form-builder__form-renderer__errorStateTile___q9583 .-esm-form-builder__form-renderer__helperText___Pnlco{margin:.75rem 0}.-esm-form-builder__form-renderer__errorStateTile___q9583 button{margin-top:.25rem}.-esm-form-builder__form-renderer__heading___S2HQc{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#161616}.-esm-form-builder__form-renderer__helperText___Pnlco{margin-top:.5rem;font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px);color:#262626}","",{version:3,sources:["webpack://./src/components/form-renderer/form-renderer.scss","webpack://./node_modules/@carbon/colors/index.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAIA,iHACE,qBCqHQ,CDpHR,YAAA,CACA,iBAAA,CACA,YAAA,CAGF,4DAEE,wBC6BQ,CD5BR,eAAA,CAGF,kDACE,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,cAAA,CAGF,oHACE,SAAA,CACA,mBAAA,CACA,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CACA,cAAA,CAMA,gHACE,eAAA,CAGF,iEACE,iBAAA,CAIJ,mDEozBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CFlzBF,aCGS,CAAA,sDDCT,gBAAA,CE8yBE,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CF5yBF,aCJQ",sourceRoot:""}]),i.locals={container:"-esm-form-builder__form-renderer__container___qmP2j",loadingContainer:"-esm-form-builder__form-renderer__loadingContainer___RJP8p",loader:"-esm-form-builder__form-renderer__loader___AOiPt",emptyStateTile:"-esm-form-builder__form-renderer__emptyStateTile___mZ_kI",errorStateTile:"-esm-form-builder__form-renderer__errorStateTile___q9583",helperText:"-esm-form-builder__form-renderer__helperText___Pnlco",heading:"-esm-form-builder__form-renderer__heading___S2HQc"};const l=i},62251:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(87537),a=n.n(r),o=n(23645),i=n.n(o)()(a());i.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-form-builder__header__header___obAkY{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#525252;height:6rem;background-color:#fff;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;padding:1rem}.-esm-form-builder__header__left-justified-items___ZXpgL{display:flex;flex-direction:row;align-items:center;cursor:pointer;align-items:center}.-esm-form-builder__header__right-justified-items___uoIaX{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);color:#525252;display:flex;flex-direction:column;justify-content:space-between}.-esm-form-builder__header__page-name___qNLcY{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-form-builder__header__page-labels___Vv_ab{margin:.5rem}.-esm-form-builder__header__page-labels___Vv_ab p:first-of-type{margin-bottom:.25rem}.-esm-form-builder__header__date-and-location___xokFh{display:flex;justify-content:flex-end;align-items:center}.-esm-form-builder__header__userContainer___X1P0O{display:flex;align-items:center;justify-content:flex-end;gap:1rem}.-esm-form-builder__header__value___eNsZZ{margin-left:.25rem}.-esm-form-builder__header__middot___Euiks{margin:0 .5rem}.-esm-form-builder__header__view___r7RBY{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/components/header/header.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,2CC81BI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CD51BF,aDDQ,CCER,WE2DW,CF1DX,qBDPM,CCQN,+BAAA,CACA,YAAA,CACA,6BAAA,CACA,YEmBW,CFhBb,yDACE,YAAA,CACA,kBAAA,CACA,kBAAA,CACA,cAAA,CACA,kBAAA,CAGF,0DC20BI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CDz0BF,aDpBQ,CCqBR,YAAA,CACA,qBAAA,CACA,6BAAA,CAGF,8CCm0BI,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CD/zBJ,gDACE,YEfW,CFiBX,gEACE,oBEvBS,CF2Bb,sDACE,YAAA,CACA,wBAAA,CACA,kBAAA,CAGF,kDACE,YAAA,CACA,kBAAA,CACA,wBAAA,CACA,QEtBW,CFyBb,0CACE,kBEzCW,CF4Cb,2CACE,cAAA,CAGF,yCCkyBI,gDAAA,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA",sourceRoot:""}]),i.locals={header:"-esm-form-builder__header__header___obAkY","left-justified-items":"-esm-form-builder__header__left-justified-items___ZXpgL","right-justified-items":"-esm-form-builder__header__right-justified-items___uoIaX","page-name":"-esm-form-builder__header__page-name___qNLcY","page-labels":"-esm-form-builder__header__page-labels___Vv_ab","date-and-location":"-esm-form-builder__header__date-and-location___xokFh",userContainer:"-esm-form-builder__header__userContainer___X1P0O",value:"-esm-form-builder__header__value___eNsZZ",middot:"-esm-form-builder__header__middot___Euiks",view:"-esm-form-builder__header__view___r7RBY"};const l=i},16003:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(87537),a=n.n(r),o=n(23645),i=n.n(o)()(a());i.push([e.id,".-esm-form-builder__draggable-question__buttonsContainer___DCYP_{display:flex;align-items:center}.-esm-form-builder__draggable-question__iconAndName___IqOwD{display:flex;align-items:center}.-esm-form-builder__draggable-question__questionLabel___Qbeje{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-form-builder__draggable-question__isDragged___Ro1hP,.-esm-form-builder__draggable-question__normal___NG24l{display:flex;height:3rem;justify-content:space-between;align-items:center;width:100%}.-esm-form-builder__draggable-question__isDragged___Ro1hP{box-shadow:0 4px 8px rgba(0,0,0,.2);background-color:rgba(255,255,255,.552)}.-esm-form-builder__draggable-question__dragIcon___QEZvt{margin-right:.5rem}.-esm-form-builder__draggable-question__dragIcon___QEZvt :focus{border:none !important}","",{version:3,sources:["webpack://./src/components/interactive-builder/draggable-question.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAIA,iEACE,YAAA,CACA,kBAAA,CAGF,4DACE,YAAA,CACA,kBAAA,CAGF,8DCo1BI,gDAAA,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CDh1BJ,iHACE,YAAA,CACA,WAAA,CACA,6BAAA,CACA,kBAAA,CACA,UAAA,CAGF,0DACE,mCAAA,CACA,uCAAA,CAGF,yDACE,kBAAA,CAEA,gEACE,sBAAA",sourceRoot:""}]),i.locals={buttonsContainer:"-esm-form-builder__draggable-question__buttonsContainer___DCYP_",iconAndName:"-esm-form-builder__draggable-question__iconAndName___IqOwD",questionLabel:"-esm-form-builder__draggable-question__questionLabel___Qbeje",isDragged:"-esm-form-builder__draggable-question__isDragged___Ro1hP",normal:"-esm-form-builder__draggable-question__normal___NG24l",dragIcon:"-esm-form-builder__draggable-question__dragIcon___QEZvt"};const l=i},83531:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(87537),a=n.n(r),o=n(23645),i=n.n(o)()(a());i.push([e.id,'.-esm-form-builder__editable-value__schemaLabel___n7Tqt{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-form-builder__editable-value__pageLabel___HDnGY{font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0);margin:.5rem 0rem}.-esm-form-builder__editable-value__pageLabel___HDnGY:after{content:"";display:block;width:2rem;padding-top:.188rem;border-bottom:.375rem solid var(--brand-03)}.-esm-form-builder__editable-value__sectionLabel___SfPGZ{font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0)}',"",{version:3,sources:["webpack://./src/components/interactive-builder/editable-value.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAEA,wDCg2BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CD51BJ,sDC41BI,+CAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CD11BF,iBAAA,CAEA,4DACE,UAAA,CACA,aAAA,CACA,UAAA,CACA,mBAAA,CACA,2CAAA,CAIJ,yDC+0BI,+CAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA",sourceRoot:""}]),i.locals={schemaLabel:"-esm-form-builder__editable-value__schemaLabel___n7Tqt",pageLabel:"-esm-form-builder__editable-value__pageLabel___HDnGY",sectionLabel:"-esm-form-builder__editable-value__sectionLabel___SfPGZ"};const l=i},28787:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(87537),a=n.n(r),o=n(23645),i=n.n(o)()(a());i.push([e.id,'.-esm-form-builder__interactive-builder__container___QqXP7 .cds--modal-content:focus{outline:none}.-esm-form-builder__interactive-builder__container___QqXP7 .cds--tooltip{z-index:1}.-esm-form-builder__interactive-builder__flexContainer___hKEjz{display:flex;align-items:center}.-esm-form-builder__interactive-builder__helperText___hIqWi{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);margin:1rem 0rem}.-esm-form-builder__interactive-builder__heading___YzI9_,.-esm-form-builder__interactive-builder__name___DstHx,.-esm-form-builder__interactive-builder__subheading___KNIIX{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0);margin:1rem 0rem .5rem}.-esm-form-builder__interactive-builder__styledHeading___On3NK{font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0);margin:.5rem 0rem}.-esm-form-builder__interactive-builder__styledHeading___On3NK:after{content:"";display:block;width:2rem;padding-top:.188rem;border-bottom:.375rem solid var(--brand-03)}.-esm-form-builder__interactive-builder__subheading___KNIIX{font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0)}.-esm-form-builder__interactive-builder__name___DstHx{font-size:var(--cds-heading-02-font-size, 1rem);font-weight:var(--cds-heading-02-font-weight, 600);line-height:var(--cds-heading-02-line-height, 1.5);letter-spacing:var(--cds-heading-02-letter-spacing, 0)}.-esm-form-builder__interactive-builder__editableFieldsContainer___IXTus{margin:1rem 0;border-bottom:1px solid #e0e0e0}.-esm-form-builder__interactive-builder__addQuestionButton___tNA7f{margin:.75rem 0}.-esm-form-builder__interactive-builder__header___PFzXV{margin:2rem 0}.-esm-form-builder__interactive-builder__explainer___IK72c{margin:1rem .5rem}.-esm-form-builder__interactive-builder__explainer___IK72c p{margin:1.5rem 0}.-esm-form-builder__interactive-builder__explainer___IK72c p:first-of-type{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-form-builder__interactive-builder__sectionExplainer___g_g6b{margin:1rem .5rem}.-esm-form-builder__interactive-builder__startButton___BrSte{margin:1rem 0}.-esm-form-builder__interactive-builder__editorContainer___OseKc{display:flex;justify-content:space-between;margin:.25rem .5rem;align-items:center;width:100%}.-esm-form-builder__interactive-builder__buttonContainer___JLN17 span{margin:0rem .5rem}.-esm-form-builder__interactive-builder__addSectionButton___BOQnt{margin:1rem}',"",{version:3,sources:["webpack://./src/components/interactive-builder/interactive-builder.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAIE,qFACE,YAAA,CAGF,yEACE,SAAA,CAIJ,+DACE,YAAA,CACA,kBAAA,CAGF,4DCg1BI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CD90BF,gBAAA,CAGF,2KC20BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDz0BF,sBAAA,CAGF,+DCs0BI,+CAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDp0BF,iBAAA,CAEA,qEACE,UAAA,CACA,aAAA,CACA,UAAA,CACA,mBAAA,CACA,2CAAA,CAIJ,4DCyzBI,+CAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDpzBJ,sDCozBI,+CAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CD/yBJ,yEACE,aAAA,CACA,+BAAA,CAGF,mEACE,eAAA,CAGF,wDACE,aAAA,CAGF,2DACE,iBAAA,CAEA,6DACE,eAAA,CAEA,2EC4xBA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CDtxBJ,kEACE,iBAAA,CAGF,6DACE,aAAA,CAGF,iEACE,YAAA,CACA,6BAAA,CACA,mBAAA,CACA,kBAAA,CACA,UAAA,CAIA,sEACE,iBAAA,CAIJ,kEACE,WAAA",sourceRoot:""}]),i.locals={container:"-esm-form-builder__interactive-builder__container___QqXP7",flexContainer:"-esm-form-builder__interactive-builder__flexContainer___hKEjz",helperText:"-esm-form-builder__interactive-builder__helperText___hIqWi",heading:"-esm-form-builder__interactive-builder__heading___YzI9_",name:"-esm-form-builder__interactive-builder__name___DstHx",subheading:"-esm-form-builder__interactive-builder__subheading___KNIIX",styledHeading:"-esm-form-builder__interactive-builder__styledHeading___On3NK",editableFieldsContainer:"-esm-form-builder__interactive-builder__editableFieldsContainer___IXTus",addQuestionButton:"-esm-form-builder__interactive-builder__addQuestionButton___tNA7f",header:"-esm-form-builder__interactive-builder__header___PFzXV",explainer:"-esm-form-builder__interactive-builder__explainer___IK72c",sectionExplainer:"-esm-form-builder__interactive-builder__sectionExplainer___g_g6b",startButton:"-esm-form-builder__interactive-builder__startButton___BrSte",editorContainer:"-esm-form-builder__interactive-builder__editorContainer___OseKc",buttonContainer:"-esm-form-builder__interactive-builder__buttonContainer___JLN17",addSectionButton:"-esm-form-builder__interactive-builder__addSectionButton___BOQnt"};const l=i},76115:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(87537),a=n.n(r),o=n(23645),i=n.n(o)()(a());i.push([e.id,'.-esm-form-builder__question-modal__label___sskPy{margin-bottom:.5rem}.-esm-form-builder__question-modal__loader___Qa5xT{padding:.75rem .5rem}.-esm-form-builder__question-modal__tag___vovd0{margin-right:.5rem}.-esm-form-builder__question-modal__form___iKunL{overflow-y:scroll}.-esm-form-builder__question-modal__conceptList___mA4im{background:#fff;max-height:14rem;overflow-y:auto;border:1px solid #e0e0e0;border-top:none}.-esm-form-builder__question-modal__conceptList___mA4im li:hover{background-color:#e0e0e0}.-esm-form-builder__question-modal__concept___mZEZr{padding:.75rem;border-bottom:1px solid #e0e0e0}.-esm-form-builder__question-modal__concept___mZEZr:last-of-type{border-bottom:none}.-esm-form-builder__question-modal__emptyResults___WqYUv{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252;min-height:1rem}.-esm-form-builder__question-modal__oclLauncherBanner___bvAqp{padding:.5rem 1rem;display:flex;justify-content:space-between;align-items:center;background-color:#8d8d8d}.-esm-form-builder__question-modal__oclLauncherBanner___bvAqp p{color:#fff}.-esm-form-builder__question-modal__oclLink___MSYtU{color:#edf5ff;display:flex;align-items:center}.-esm-form-builder__question-modal__oclLink___MSYtU svg{margin-left:.25rem}.-esm-form-builder__question-modal__table___yZxgG,.-esm-form-builder__question-modal__tableStriped___db53S{width:100%}.-esm-form-builder__question-modal__table___yZxgG tr,.-esm-form-builder__question-modal__tableStriped___db53S tr{background-color:#fff;border:1px solid #e0e0e0}.-esm-form-builder__question-modal__table___yZxgG td,.-esm-form-builder__question-modal__tableStriped___db53S td,.-esm-form-builder__question-modal__table___yZxgG th,.-esm-form-builder__question-modal__tableStriped___db53S th{padding:.25rem;border:1px solid #e0e0e0;max-width:10rem;text-align:left}.-esm-form-builder__question-modal__tableStriped___db53S thead{font-weight:bold}.-esm-form-builder__question-modal__tableStriped___db53S tbody>tr:nth-child(odd){background-color:#f4f4f4}.-esm-form-builder__question-modal__multiSelect___GYmMF .cds--list-box__field--wrapper{align-items:center;display:flex;height:2.5rem;justify-content:space-between;margin-left:.5rem;width:100%}.-esm-form-builder__question-modal__error___insjw{width:100%;max-width:unset;padding:"0rem";margin-bottom:1rem}',"",{version:3,sources:["webpack://./src/components/interactive-builder/question-modal.scss","webpack://./node_modules/@carbon/colors/index.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAGA,kDACE,mBAAA,CAGF,mDACE,oBAAA,CAGF,gDACE,kBAAA,CAGF,iDACE,iBAAA,CAGF,wDACE,eCsGQ,CDrGR,gBAAA,CACA,eAAA,CACA,wBAAA,CACA,eAAA,CAGF,iEACE,wBCeQ,CDZV,oDACE,cAAA,CACA,+BAAA,CAEA,iEACE,kBAAA,CAIJ,yDE0zBI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CFxzBF,aCMQ,CDLR,eAAA,CAGF,8DACE,kBAAA,CACA,YAAA,CACA,6BAAA,CACA,kBAAA,CACA,wBCLQ,CDOR,gEACE,UCoEM,CDhEV,oDACE,aC/CQ,CDgDR,YAAA,CACA,kBAAA,CAEA,wDACE,kBAAA,CAIJ,2GACE,UAAA,CAEA,iHACE,qBCkDM,CDjDN,wBAAA,CAGF,kOACE,cAAA,CACA,wBAAA,CACA,eAAA,CACA,eAAA,CAOF,+DACE,gBAAA,CAGF,iFACE,wBClDM,CDuDR,uFACE,kBAAA,CACA,YAAA,CACA,aAAA,CACA,6BAAA,CACA,iBAAA,CACA,UAAA,CAIJ,kDACE,UAAA,CACA,eAAA,CACA,cAAA,CACA,kBAAA",sourceRoot:""}]),i.locals={label:"-esm-form-builder__question-modal__label___sskPy",loader:"-esm-form-builder__question-modal__loader___Qa5xT",tag:"-esm-form-builder__question-modal__tag___vovd0",form:"-esm-form-builder__question-modal__form___iKunL",conceptList:"-esm-form-builder__question-modal__conceptList___mA4im",concept:"-esm-form-builder__question-modal__concept___mZEZr",emptyResults:"-esm-form-builder__question-modal__emptyResults___WqYUv",oclLauncherBanner:"-esm-form-builder__question-modal__oclLauncherBanner___bvAqp",oclLink:"-esm-form-builder__question-modal__oclLink___MSYtU",table:"-esm-form-builder__question-modal__table___yZxgG",tableStriped:"-esm-form-builder__question-modal__tableStriped___db53S",multiSelect:"-esm-form-builder__question-modal__multiSelect___GYmMF",error:"-esm-form-builder__question-modal__error___insjw"};const l=i},81201:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(87537),a=n.n(r),o=n(23645),i=n.n(o)()(a());i.push([e.id,".-esm-form-builder__value-editor__actionButtons___IHzt_{display:flex;align-items:center;justify-content:flex-end;margin:1rem 0}.-esm-form-builder__value-editor__actionButtons___IHzt_ button{margin-left:1rem}","",{version:3,sources:["webpack://./src/components/interactive-builder/value-editor.scss"],names:[],mappings:"AAAA,wDACE,YAAA,CACA,kBAAA,CACA,wBAAA,CACA,aAAA,CAEA,+DACE,gBAAA",sourceRoot:""}]),i.locals={actionButtons:"-esm-form-builder__value-editor__actionButtons___IHzt_"};const l=i},62852:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(87537),a=n.n(r),o=n(23645),i=n.n(o)()(a());i.push([e.id,".-esm-form-builder__save-form-modal__spinner___MeJjY.cds--inline-loading{min-height:1rem}.-esm-form-builder__save-form-modal__saveFormBody___DeV3z{max-height:75vh;overflow-y:auto}","",{version:3,sources:["webpack://./src/components/modals/save-form-modal.scss"],names:[],mappings:"AACE,yEACE,eAAA,CAIJ,0DACE,eAAA,CACA,eAAA",sourceRoot:""}]),i.locals={spinner:"-esm-form-builder__save-form-modal__spinner___MeJjY",saveFormBody:"-esm-form-builder__save-form-modal__saveFormBody___DeV3z"};const l=i},2511:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(87537),a=n.n(r),o=n(23645),i=n.n(o)()(a());i.push([e.id,".-esm-form-builder__pagination__bodyShort01___EqwXU,.-esm-form-builder__pagination__configurableLink___p0FSW{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px)}.-esm-form-builder__pagination__desktop___hgBiG,.-esm-form-builder__pagination__tablet___qRkW1{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);display:flex;justify-content:space-between;color:#525252;background-color:#fff;padding-left:1rem;align-items:center}.-esm-form-builder__pagination__desktop___hgBiG .cds--pagination{min-height:0rem;height:2rem;width:auto;border:none}.-esm-form-builder__pagination__desktop___hgBiG .cds--pagination .cds--select-input,.-esm-form-builder__pagination__desktop___hgBiG .cds--pagination .cds--btn,.-esm-form-builder__pagination__desktop___hgBiG .cds--pagination .cds--pagination__right{min-height:0rem;height:2rem}.-esm-form-builder__pagination__tablet___qRkW1 .cds--pagination{min-height:0rem;height:3rem;width:auto;border:none}.-esm-form-builder__pagination__tablet___qRkW1 .cds--pagination .cds--select-input,.-esm-form-builder__pagination__tablet___qRkW1 .cds--pagination .cds--btn,.-esm-form-builder__pagination__tablet___qRkW1 .cds--pagination .cds--pagination__right{min-height:0rem;height:3rem}.-esm-form-builder__pagination__configurableLink___p0FSW{text-decoration:none;padding:0 .5rem}.-esm-form-builder__pagination__pagination___AT0no{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);background-color:#fff;color:#525252;display:flex}div.-esm-form-builder__pagination__pagination___AT0no>.cds--pagination__left{display:none}","",{version:3,sources:["webpack://./src/components/pagination/pagination.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./node_modules/@carbon/colors/index.scss"],names:[],mappings:"AAIA,6GC81BI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CD11BJ,+FC01BI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDx1BF,YAAA,CACA,6BAAA,CACA,aEoCQ,CFnCR,qBE6GQ,CF5GR,iBAAA,CACA,kBAAA,CAGF,iEACE,eAAA,CACA,WAAA,CACA,UAAA,CACA,WAAA,CAEA,wPACE,eAAA,CACA,WAAA,CAIJ,gEACE,eAAA,CACA,WAAA,CACA,UAAA,CACA,WAAA,CAEA,qPACE,eAAA,CACA,WAAA,CAIJ,yDACE,oBAAA,CAEA,eAAA,CAGF,mDCkzBI,wDAAA,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CDhzBF,qBEwEQ,CFvER,aEHQ,CFIR,YAAA,CAIA,6EACE,YAAA",sourceRoot:""}]),i.locals={bodyShort01:"-esm-form-builder__pagination__bodyShort01___EqwXU",configurableLink:"-esm-form-builder__pagination__configurableLink___p0FSW",desktop:"-esm-form-builder__pagination__desktop___hgBiG",tablet:"-esm-form-builder__pagination__tablet___qRkW1",pagination:"-esm-form-builder__pagination__pagination___AT0no"};const l=i},14858:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(87537),a=n.n(r),o=n(23645),i=n.n(o)()(a());i.push([e.id,".-esm-form-builder__schema-editor__actionButtons___RskyC{display:flex;align-items:center;justify-content:flex-end;margin:1rem 0}.-esm-form-builder__schema-editor__actionButtons___RskyC button{margin-left:1rem}.-esm-form-builder__schema-editor__errorContainer___qqx2V{font-size:var(--cds-body-compact-02-font-size, 1rem);font-weight:var(--cds-body-compact-02-font-weight, 400);line-height:var(--cds-body-compact-02-line-height, 1.375);letter-spacing:var(--cds-body-compact-02-letter-spacing, 0);background-color:#ffd7d9;color:#a2191f;padding:1.5rem;margin:1rem 0}.-esm-form-builder__schema-editor__heading___wAlzp{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);margin-bottom:1rem}","",{version:3,sources:["webpack://./src/components/schema-editor/schema-editor.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss","webpack://./node_modules/@carbon/colors/index.scss"],names:[],mappings:"AAGA,yDACE,YAAA,CACA,kBAAA,CACA,wBAAA,CACA,aAAA,CAEA,gEACE,gBAAA,CAIJ,0DCo1BI,oDAAA,CAAA,uDAAA,CAAA,yDAAA,CAAA,2DAAA,CDl1BF,wBE6EO,CF5EP,aEiFO,CFhFP,cAAA,CACA,aAAA,CAGF,mDC40BI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CD10BF,kBAAA",sourceRoot:""}]),i.locals={actionButtons:"-esm-form-builder__schema-editor__actionButtons___RskyC",errorContainer:"-esm-form-builder__schema-editor__errorContainer___qqx2V",heading:"-esm-form-builder__schema-editor__heading___wAlzp"};const l=i},94073:(e,t,n)=>{n.r(t),n.d(t,{default:()=>zn});var r=n(81672),a=n.n(r),o=n(79655),i=n(89250),l=n(63397),s=n(13333),c=n(44672),u=n(32254),d=n(17141),m=n(81132),A=n(95591);function _(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,l,"next",e)}function l(e){_(o,r,a,i,l,"throw",e)}i(void 0)}))}}function p(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function b(e){return h.apply(this,arguments)}function h(){return(h=f((function(e){return p(this,(function(t){switch(t.label){case 0:return[4,(0,m.openmrsFetch)("".concat(m.restBaseUrl,"/clobdata/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}})];case 1:return[2,t.sent()]}}))}))).apply(this,arguments)}function g(){return(g=f((function(e){return p(this,(function(t){switch(t.label){case 0:return[4,(0,m.openmrsFetch)("".concat(m.restBaseUrl,"/form/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}})];case 1:return[2,t.sent()]}}))}))).apply(this,arguments)}function C(){return(C=f((function(e,t){return p(this,(function(n){switch(n.label){case 0:return[4,(0,m.openmrsFetch)("".concat(m.restBaseUrl,"/form/").concat(e,"/resource/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}})];case 1:return[2,n.sent()]}}))}))).apply(this,arguments)}function y(e){return v.apply(this,arguments)}function v(){return(v=f((function(e){var t,n;return p(this,(function(r){switch(r.label){case 0:return t=new Blob([JSON.stringify(e)],{type:void 0}),(n=new FormData).append("file",t),[4,window.fetch("".concat(window.openmrsBase,"/").concat(m.restBaseUrl,"/clobdata"),{body:n,method:"POST"}).then((function(e){return e.text()}))];case 1:return[2,r.sent()]}}))}))).apply(this,arguments)}function E(e,t){return w.apply(this,arguments)}function w(){return(w=f((function(e,t){var n;return p(this,(function(r){switch(r.label){case 0:return n={name:"JSON schema",dataType:"AmpathJsonSchema",valueReference:t},[4,(0,m.openmrsFetch)("".concat(m.restBaseUrl,"/form/").concat(e,"/resource"),{method:"POST",headers:{"Content-Type":"application/json"},body:n})];case 1:return[2,r.sent()]}}))}))).apply(this,arguments)}function k(e,t,n,r,a){return S.apply(this,arguments)}function S(){return(S=f((function(e,t,n,r,a){var o,i;return p(this,(function(l){switch(l.label){case 0:return o=new AbortController,i={name:t,version:n,description:r,encounterType:{uuid:a}},[4,(0,m.openmrsFetch)("".concat(m.restBaseUrl,"/form/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:i,signal:o.signal})];case 1:return[2,l.sent()]}}))}))).apply(this,arguments)}function x(e,t,n,r,a){return D.apply(this,arguments)}function D(){return(D=f((function(e,t,n,r,a){var o,i,l;return p(this,(function(s){switch(s.label){case 0:return o=new AbortController,i={name:e,version:t,published:null!=n&&n,description:null!=r?r:""},a&&(i.encounterType=a),l={"Content-Type":"application/json"},[4,(0,m.openmrsFetch)("".concat(m.restBaseUrl,"/form"),{method:"POST",headers:l,body:i,signal:o.signal})];case 1:return[2,s.sent().data]}}))}))).apply(this,arguments)}function B(e){return O.apply(this,arguments)}function O(){return(O=f((function(e){var t;return p(this,(function(n){switch(n.label){case 0:return t={published:!0},[4,(0,m.openmrsFetch)("".concat(m.restBaseUrl,"/form/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:t})];case 1:return[2,n.sent()]}}))}))).apply(this,arguments)}function I(e){return T.apply(this,arguments)}function T(){return(T=f((function(e){var t;return p(this,(function(n){switch(n.label){case 0:return t={published:!1},[4,(0,m.openmrsFetch)("".concat(m.restBaseUrl,"/form/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:t})];case 1:return[2,n.sent()]}}))}))).apply(this,arguments)}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F=n(87410),N=n.n(F),z=n(44766),j=n.n(z),P=n(51991),L=n.n(P),M=n(33702),U=n.n(M),Z=n(12434),R=n.n(Z),G=n(81422),H=n.n(G),Q=n(2511),Y={};Y.styleTagTransform=H(),Y.setAttributes=U(),Y.insert=L().bind(null,"head"),Y.domAPI=j(),Y.insertStyleElement=R(),N()(Q.Z,Y);const V=Q.Z&&Q.Z.locals?Q.Z.locals:void 0;var J=function(e){var t=e.totalItems,n=e.pageSize,o=e.onPageNumberChange,i=e.pageNumber,c=function(e,t,n,a){var o=(0,l.useTranslation)().t,i=(0,r.useMemo)((function(){var n,r=Math.ceil(t/e);return isNaN(r)&&(r=0),(n=Array(r).keys(),function(e){if(Array.isArray(e))return q(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(t){return(t+1)*e}))}),[e,t]),s=(0,r.useMemo)((function(){return e>t?"".concat(t," / ").concat(t):e*n>t?"".concat(e*(n-1)+a," / ").concat(t):"".concat(e*n," / ").concat(t)}),[e,t,n,a]);return{pageSizes:i,itemsDisplayed:"".concat(s," ").concat(o("items"," items"))}}(n,t,i,e.currentItems),u=c.itemsDisplayed,d=c.pageSizes,A="tablet"===(0,m.useLayoutType)();return a().createElement(a().Fragment,null,t>0&&a().createElement("div",{className:A?V.tablet:V.desktop},a().createElement("div",null,u),a().createElement(s.tlE,{className:V.pagination,page:i,pageSize:n,pageSizes:d,totalItems:t,onChange:o,size:A?"lg":"sm"})))},W=n(49770),K=function(e){var t,n,r,a=null==e||null===(n=e.resources)||void 0===n||null===(t=n.find((function(e){return"JSON schema"===e.name})))||void 0===t?void 0:t.valueReference,o=e&&(null==e||null===(r=e.resources)||void 0===r?void 0:r.length)>0&&a,i="".concat(m.restBaseUrl,"/clobdata/").concat(a),l=(0,W.Z)(o?i:null,m.openmrsFetch),s=l.data,c=l.error,u=l.isLoading,d=l.isValidating,A=l.mutate;return{clobdata:null==s?void 0:s.data,clobdataError:c,isLoadingClobdata:u,isValidatingClobdata:d,mutate:A}},X=function(e){var t=e.width,n=void 0===t?"64":t,r=e.height,o=void 0===r?"64":r;return a().createElement("svg",{width:n,height:o,viewBox:"0 0 64 64"},a().createElement("title",null,"Empty data illustration"),a().createElement("g",{fill:"none",fillRule:"evenodd"},a().createElement("path",{d:"M38.133 13.186H21.947c-.768.001-1.39.623-1.39 1.391V50.55l-.186.057-3.97 1.216a.743.743 0 01-.927-.493L3.664 12.751a.742.742 0 01.492-.926l6.118-1.874 17.738-5.43 6.119-1.873a.741.741 0 01.926.492L38.076 13l.057.186z",fill:"#F4F4F4"}),a().createElement("path",{d:"M41.664 13L38.026 1.117A1.576 1.576 0 0036.056.07l-8.601 2.633-17.737 5.43-8.603 2.634a1.578 1.578 0 00-1.046 1.97l12.436 40.616a1.58 1.58 0 001.969 1.046l5.897-1.805.185-.057v-.194l-.185.057-5.952 1.822a1.393 1.393 0 01-1.737-.923L.247 12.682a1.39 1.39 0 01.923-1.738L9.772 8.31 27.51 2.881 36.112.247a1.393 1.393 0 011.737.923L41.47 13l.057.186h.193l-.057-.185z",fill:"#8D8D8D"}),a().createElement("path",{d:"M11.378 11.855a.836.836 0 01-.798-.59L9.385 7.361a.835.835 0 01.554-1.042l16.318-4.996a.836.836 0 011.042.554l1.195 3.902a.836.836 0 01-.554 1.043l-16.318 4.995a.831.831 0 01-.244.037z",fill:"#C6C6C6"}),a().createElement("circle",{fill:"#C6C6C6",cx:17.636,cy:2.314,r:1.855}),a().createElement("circle",{fill:"#FFF",fillRule:"nonzero",cx:17.636,cy:2.314,r:1.175}),a().createElement("path",{d:"M55.893 53.995H24.544a.79.79 0 01-.788-.789V15.644a.79.79 0 01.788-.788h31.349a.79.79 0 01.788.788v37.562a.79.79 0 01-.788.789z",fill:"#F4F4F4"}),a().createElement("path",{d:"M41.47 13H21.948a1.579 1.579 0 00-1.576 1.577V52.4l.185-.057V14.577c.001-.768.623-1.39 1.391-1.39h19.581L41.471 13zm17.02 0H21.947a1.579 1.579 0 00-1.576 1.577v42.478c0 .87.706 1.576 1.576 1.577H58.49a1.579 1.579 0 001.576-1.577V14.577a1.579 1.579 0 00-1.576-1.576zm1.39 44.055c0 .768-.622 1.39-1.39 1.392H21.947c-.768-.001-1.39-.624-1.39-1.392V14.577c0-.768.622-1.39 1.39-1.39H58.49c.768 0 1.39.622 1.39 1.39v42.478z",fill:"#8D8D8D"}),a().createElement("path",{d:"M48.751 17.082H31.686a.836.836 0 01-.835-.835v-4.081c0-.46.374-.834.835-.835H48.75c.461 0 .834.374.835.835v4.08c0 .462-.374.835-.835.836z",fill:"#C6C6C6"}),a().createElement("circle",{fill:"#C6C6C6",cx:40.218,cy:9.755,r:1.855}),a().createElement("circle",{fill:"#FFF",fillRule:"nonzero",cx:40.218,cy:9.755,r:1.13})))},$=n(4298),ee={};ee.styleTagTransform=H(),ee.setAttributes=U(),ee.insert=L().bind(null,"head"),ee.domAPI=j(),ee.insertStyleElement=R(),N()($.Z,ee);const te=$.Z&&$.Z.locals?$.Z.locals:void 0,ne=function(){var e=(0,l.useTranslation)().t,t="tablet"===(0,m.useLayoutType)();return a().createElement(s.mh4,null,a().createElement(s.n9L,{className:te.tile},a().createElement("div",{className:t?te.tabletHeading:te.desktopHeading},a().createElement("h4",null,e("forms","Forms"))),a().createElement(X,null),a().createElement("p",{className:te.content},e("noFormsToDisplay","There are no forms to display.")),a().createElement("p",{className:te.action},a().createElement(s.rUS,{onClick:function(){return(0,m.navigate)({to:"".concat(window.spaBase,"/form-builder/new")})}},e("createNewForm","Create a new form")))))};var re=n(39761),ae={};ae.styleTagTransform=H(),ae.setAttributes=U(),ae.insert=L().bind(null,"head"),ae.domAPI=j(),ae.insertStyleElement=R(),N()(re.Z,ae);const oe=re.Z&&re.Z.locals?re.Z.locals:void 0,ie=function(e){var t=e.error,n=(0,l.useTranslation)().t,r="tablet"===(0,m.useLayoutType)();return a().createElement(s.mh4,null,a().createElement(s.n9L,{className:oe.tile},a().createElement("div",{className:r?oe.tabletHeading:oe.desktopHeading},a().createElement("h4",null,n("forms","Forms"))),a().createElement("p",{className:oe.errorMessage},n("error","Error"),": ",null==t?void 0:t.message),a().createElement("p",{className:oe.errorCopy},n("errorCopy","Sorry, there was a problem displaying this information. You can try to reload this page, or contact the site administrator and quote the error code above."))))};var le=n(77913),se=n(59658);const ce=function(){return a().createElement("svg",{height:"64",width:"64",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2"},a().createElement("path",{d:"M27 31.36H8a.36.36 0 0 1-.36-.36v-1.64H6a.36.36 0 0 1-.36-.36v-1.64H5a.36.36 0 0 1-.36-.36V3A.36.36 0 0 1 5 2.64h4.64V2a.36.36 0 0 1 .36-.36h1.64V1A.36.36 0 0 1 12 .64h4a.36.36 0 0 1 .36.36v.64H18a.36.36 0 0 1 .36.36v.64H23a.36.36 0 0 1 .36.36v1.64H25a.36.36 0 0 1 .36.36v1.64H27a.36.36 0 0 1 .36.36v24a.36.36 0 0 1-.36.36Z",fill:"#d2e5e5"}),a().createElement("path",{d:"M8.36 30.64h18.28V7.36h-1.28V29a.36.36 0 0 1-.36.36H8.36v1.28Z",fill:"#8abab8"}),a().createElement("path",{d:"M5.36 26.64h17.28V3.36h-4.28V4a.36.36 0 0 1-.36.36h-8A.36.36 0 0 1 9.64 4v-.64H5.36v23.28Z",fill:"#8abab8"}),a().createElement("path",{fill:"#fff",d:"M7.5 12.64h13v.72h-13zM7.5 8.64h13v.72h-13zM7.5 20.64h13v.72h-13zM7.5 16.64h13v.72h-13z"}),a().createElement("path",{d:"M10.36 3.64h7.28V2.36H16a.36.36 0 0 1-.36-.36v-.64h-3.28V2a.36.36 0 0 1-.36.36h-1.64v1.28ZM6.36 28.64h18.28V5.36h-1.28V27a.36.36 0 0 1-.36.36H6.36v1.28Z",fill:"#8abab8"}))};var ue=n(62251),de={};de.styleTagTransform=H(),de.setAttributes=U(),de.insert=L().bind(null,"head"),de.domAPI=j(),de.insertStyleElement=R(),N()(ue.Z,de);const me=ue.Z&&ue.Z.locals?ue.Z.locals:void 0,Ae=function(e){var t,n,r,o=e.title,i=(0,l.useTranslation)().t,s=(0,m.useSession)(),c=null==s||null===(t=s.sessionLocation)||void 0===t?void 0:t.display;return a().createElement("div",{className:me.header},a().createElement("div",{className:me["left-justified-items"]},a().createElement(ce,null),a().createElement("div",{className:me["page-labels"]},a().createElement("p",null,i("formBuilder","Form builder")),a().createElement("p",{className:me["page-name"]},o))),a().createElement("div",{className:me["right-justified-items"]},a().createElement("div",{className:me.userContainer},a().createElement("p",null,null==s||null===(r=s.user)||void 0===r||null===(n=r.person)||void 0===n?void 0:n.display),a().createElement(u.JT,{size:16,className:me.userIcon})),a().createElement("div",{className:me["date-and-location"]},a().createElement(le.Ye,{size:16}),a().createElement("span",{className:me.value},c),a().createElement("span",{className:me.middot},"·"),a().createElement(se.f,{size:16}),a().createElement("span",{className:me.value},(0,m.formatDate)(new Date,{mode:"standard"})))))};var _e=n(40270),fe={};fe.styleTagTransform=H(),fe.setAttributes=U(),fe.insert=L().bind(null,"head"),fe.domAPI=j(),fe.insertStyleElement=R(),N()(_e.Z,fe);const pe=_e.Z&&_e.Z.locals?_e.Z.locals:void 0;function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function he(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ge(e,t,n[t])}))}return e}function ye(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?be(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e){var t=e.condition,n=(0,l.useTranslation)().t;return t?a().createElement(s.Vp9,{type:"green",size:"md",title:"Clear Filter","data-testid":"yes-tag"},n("yes","Yes")):a().createElement(s.Vp9,{type:"red",size:"md",title:"Clear Filter","data-testid":"no-tag"},n("no","No"))}function we(e){var t=e.form,n=e.mutate,o=e.responsiveSize,i=e.t,l=K(t).clobdata,d=null==t?void 0:t.resources,A=ve((0,r.useState)(!1),2),_=A[0],f=A[1],p=ve((0,r.useState)(!1),2),b=p[0],h=p[1],C=(0,r.useMemo)((function(){return new Blob([JSON.stringify(l,null,2)],{type:"application/json"})}),[l]),y=(0,r.useCallback)((function(e){var r,a;(function(e){return g.apply(this,arguments)})(e).then((r=function(e){return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(r){switch(r.label){case 0:return 204!==e.status?[3,2]:((0,m.showSnackbar)({title:i("formDeleted","Form deleted"),kind:"success",isLowContrast:!0,subtitle:"".concat(t.name," ")+i("formDeletedSuccessfully","deleted successfully")}),[4,n()]);case 1:r.sent(),f(!1),r.label=2;case 2:return[2]}}))},a=function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function i(e){he(o,n,a,i,l,"next",e)}function l(e){he(o,n,a,i,l,"throw",e)}i(void 0)}))},function(e){return a.apply(this,arguments)})).catch((function(e){return(0,m.showSnackbar)({title:i("errorDeletingForm","Error deleting form"),kind:"error",subtitle:null==e?void 0:e.message})})).finally((function(){return h(!1)}))}),[t.name,n,i]),v=function(){return a().createElement(s.zxk,{renderIcon:c.rs,onClick:function(){return(0,m.navigate)({to:"".concat(window.spaBase,"/form-builder/edit/").concat(t.uuid)})},kind:"ghost",iconDescription:i("import","Import"),hasIconOnly:!0,size:o})},E=function(){return a().createElement(s.zxk,{enterDelayMs:300,renderIcon:c.I8,onClick:function(){return(0,m.navigate)({to:"".concat(window.spaBase,"/form-builder/edit/").concat(t.uuid)})},kind:"ghost",iconDescription:i("editSchema","Edit schema"),hasIconOnly:!0,size:o,tooltipAlignment:"start"})},w=function(){return a().createElement("a",{download:"".concat(null==t?void 0:t.name,".json"),href:window.URL.createObjectURL(C)},a().createElement(s.zxk,{enterDelayMs:300,renderIcon:c.UW,kind:"ghost",iconDescription:i("downloadSchema","Download schema"),hasIconOnly:!0,size:o,tooltipAlignment:"start"}))},k=function(){return a().createElement(s.zxk,{enterDelayMs:300,renderIcon:u.ZN,onClick:function(){return f(!0)},kind:"ghost",iconDescription:i("deleteSchema","Delete schema"),hasIconOnly:!0,size:o,tooltipAlignment:"start"})},S=function(){return a().createElement(s.lpG,{danger:!0,open:_,onClose:function(){return f(!1)},preventCloseOnClickOutside:!0},a().createElement(s.xBx,{title:i("deleteForm","Delete form")}),a().createElement(s.l09,{onSubmit:function(e){return e.preventDefault()}},a().createElement(s.fef,null,a().createElement("p",null,i("deleteFormConfirmation","Are you sure you want to delete this form?")))),a().createElement(s.mzw,null,a().createElement(s.zxk,{kind:"secondary",onClick:function(){return f(!1)}},i("cancel","Cancel")),a().createElement(s.zxk,{disabled:b,kind:"danger",onClick:function(){h(!0),y(t.uuid)}},b?a().createElement(s.lSo,{className:pe.spinner,description:i("deleting","Deleting")+"..."}):a().createElement("span",null,i("delete","Delete")))))};return a().createElement(a().Fragment,null,0!=d.length&&(null==t?void 0:t.resources[0])?a().createElement(a().Fragment,null,a().createElement(E,null),a().createElement(w,null)):a().createElement(v,null),a().createElement(k,null),_&&a().createElement(S,null))}function ke(e){var t=e.forms,n=e.isValidating,o=e.mutate,i=e.t,l=(0,m.useConfig)(),c="tablet"===(0,m.useLayoutType)(),u=c?"lg":"sm",_=ve((0,r.useState)(""),2),f=_[0],p=_[1],b=ve((0,r.useState)(""),2),h=b[0],g=b[1],C=(0,r.useMemo)((function(){return f?"Published"===f?t.filter((function(e){return e.published})):"Unpublished"===f?t.filter((function(e){return!e.published})):"Retired"===f?t.filter((function(e){return e.retired})):t:t}),[f,t]),y=[{header:i("name","Name"),key:"name"},{header:i("version","Version"),key:"version"},{header:i("published","Published"),key:"published"},{header:i("retired","Retired"),key:"retired"},{header:i("schemaActions","Schema actions"),key:"actions"}],v=(0,r.useMemo)((function(){return h&&""!==h.trim()?C.filter((function(e){return e.name.toLowerCase().includes(h.toLowerCase())})):C}),[h,C]),E=(0,m.usePagination)(v,10),w=E.paginated,k=E.goTo,S=E.results,x=E.currentPage,D=null==S?void 0:S.map((function(e){return ye(Ce({},e),{id:null==e?void 0:e.uuid,name:a().createElement(m.ConfigurableLink,{className:pe.link,to:"${openmrsSpaBase}/form-builder/edit/${formUuid}",templateParams:{formUuid:null==e?void 0:e.uuid},onMouseEnter:function(){(0,A.MA)("".concat(m.restBaseUrl,"/form/").concat(null==e?void 0:e.uuid,"?v=full"),m.openmrsFetch)}},e.name),published:a().createElement(Ee,{condition:e.published}),retired:a().createElement(Ee,{condition:e.retired}),actions:a().createElement(we,{form:e,mutate:o,responsiveSize:u,t:i})})})),B=(0,r.useCallback)((function(e){k(1),g(e.target.value)}),[k,g]);return a().createElement(a().Fragment,null,l.showSchemaSaveWarning&&a().createElement(s.K0D,{className:pe.warningMessage,kind:"info",lowContrast:!0,title:i("schemaSaveWarningMessage","The dev3 server is ephemeral at best and can't be relied upon to save your schemas permanently. To avoid losing your work, please save your schemas to your local machine. Alternatively, upload your schema to the distro repo to have it persisted across server resets.")}),a().createElement("div",{className:pe.flexContainer},a().createElement("div",{className:pe.filterContainer},a().createElement(s.Ltx,{className:pe.filterDropdown,id:"publishStatusFilter",initialSelectedItem:"All",label:"",titleText:i("filterBy","Filter by")+":",size:u,type:"inline",items:["All","Published","Unpublished","Retired"],onChange:function(e){var t=e.selectedItem;return p(t)}})),a().createElement("div",{className:pe.backgroundDataFetchingIndicator},a().createElement("span",null,n?a().createElement(s.lSo,null):null))),a().createElement(s.wQF,{rows:D,headers:y,size:c?"lg":"sm",useZebraStyles:!0},(function(e){var t=e.rows,n=e.headers,r=e.getTableProps,o=e.getHeaderProps,l=e.getRowProps;return a().createElement(a().Fragment,null,a().createElement(s.xJi,{className:pe.tableContainer,"data-testid":"forms-table"},a().createElement("div",{className:pe.toolbarWrapper},a().createElement(s.fjU,{className:pe.tableToolbar,size:u},a().createElement(s.Vj0,{className:pe.headerContainer},a().createElement(s.Ys1,{expanded:!0,className:pe.searchbox,onChange:B,placeholder:i("searchThisList","Search this list")}),a().createElement(s.zxk,{kind:"primary",iconDescription:i("createNewForm","Create a new form"),renderIcon:function(){return a().createElement(d.mm,{size:16})},size:u,onClick:function(){return(0,m.navigate)({to:"".concat(window.spaBase,"/form-builder/new")})}},i("createNewForm","Create a new form"))))),a().createElement(s.iA_,ye(Ce({},r()),{className:pe.table}),a().createElement(s.ssF,null,a().createElement(s.SCH,null,n.map((function(e){return a().createElement(s.xDH,o({header:e}),e.header)})))),a().createElement(s.RMI,null,t.map((function(e){return a().createElement(s.SCH,ye(Ce({key:"row.id"},l({row:e})),{"data-testid":"form-row-".concat(e.id)}),e.cells.map((function(e){return a().createElement(s.pj1,{key:e.id},e.value)})))}))))),0===t.length?a().createElement("div",{className:pe.tileContainer},a().createElement(s.n9L,{className:pe.tile},a().createElement("div",{className:pe.tileContent},a().createElement("p",{className:pe.content},i("noMatchingFormsToDisplay","No matching forms to display")),a().createElement("p",{className:pe.helper},i("checkFilters","Check the filters above"))))):null)})),w&&a().createElement(J,{currentItems:S.length,totalItems:v.length,onPageNumberChange:function(e){var t=e.page;k(t)},pageNumber:x,pageSize:10}))}const Se=function(){var e=(0,l.useTranslation)().t,t=function(){var e,t,n="".concat(m.restBaseUrl,"/form?v=custom:(uuid,name,encounterType:(uuid,name),version,published,retired,resources:(uuid,name,dataType,valueReference))"),r=(0,A.ZP)(n,m.openmrsFetch),a=r.data,o=r.error,i=r.isValidating,l=r.mutate;return{forms:null!==(t=null==a||null===(e=a.data)||void 0===e?void 0:e.results)&&void 0!==t?t:[],error:o,isLoading:!a&&!o||!1,isValidating:i,mutate:l}}(),n=t.forms,r=t.error,o=t.isLoading,i=t.isValidating,c=t.mutate;return a().createElement("main",null,a().createElement(Ae,{title:e("home","Home")}),a().createElement("div",{className:pe.container},r?a().createElement(ie,{error:r}):o?a().createElement(s.gqd,{role:"progressbar"}):0===n.length?a().createElement(ne,null):a().createElement(ke,{forms:n,isValidating:i,mutate:c,t:e})))};var xe=function(e){var t="".concat(m.restBaseUrl,"/form/").concat(e,"?v=full"),n=(0,W.Z)(e?t:null,m.openmrsFetch),r=n.data,a=n.error,o=n.isLoading,i=n.isValidating,l=n.mutate;return{form:null==r?void 0:r.data,formError:a,isLoadingForm:o,isValidatingForm:i,mutate:l}},De=n(62852),Be={};Be.styleTagTransform=H(),Be.setAttributes=U(),Be.insert=L().bind(null,"head"),Be.domAPI=j(),Be.insertStyleElement=R(),N()(De.Z,Be);const Oe=De.Z&&De.Z.locals?De.Z.locals:void 0;function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Te(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function qe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Te(o,r,a,i,l,"next",e)}function l(e){Te(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ne(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Fe(e,t,n[t])}))}return e}function je(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ie(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}const Me=function(e){var t,n,o,c,u,d,A,_=e.form,f=e.schema,p=(0,l.useTranslation)().t,h=(o="".concat(m.restBaseUrl,"/encountertype?v=custom:(uuid,name)"),c=(0,W.Z)(o,m.openmrsFetch),u=c.data,d=c.error,A=c.isLoading,{encounterTypes:null!==(n=null==u||null===(t=u.data)||void 0===t?void 0:t.results)&&void 0!==n?n:[],encounterTypesError:d,isEncounterTypesLoading:A}).encounterTypes,g=(0,i.UO)().formUuid,v=xe(g).mutate,w=!g,S=Pe((0,r.useState)(""),2),D=S[0],B=S[1],O=Pe((0,r.useState)(""),2),I=O[0],T=O[1],q=Pe((0,r.useState)(!1),2),F=q[0],N=q[1],z=Pe((0,r.useState)(!1),2),j=z[0],P=z[1],L=Pe((0,r.useState)(""),2),M=L[0],U=L[1],Z=Pe((0,r.useState)(!1),2),R=Z[0],G=Z[1],H=Pe((0,r.useState)(!1),2),Q=H[0],Y=H[1],V=Pe((0,r.useState)(""),2),J=V[0],K=V[1],X=Pe((0,r.useState)(""),2),$=X[0],ee=X[1],te=(0,r.useCallback)((function(){return localStorage.removeItem("formSchema")}),[]);(0,r.useEffect)((function(){f&&(U(f.name),B(f.description),T(f.encounterType),ee(f.version))}),[f]);var ne,re=(0,r.useCallback)((function(e){"newVersion"===e?(K("newVersion"),G(!1),Y(!0)):"new"===e?(K("newVersion"),Y(!0)):"update"===e&&(K("update"),G(!1),Y(!0))}),[]),ae=(ne=qe((function(e){var t,n,r,a,o,i,l,s,c,u,d,A,h,g,w;return Le(this,(function(S){switch(S.label){case 0:if(e.preventDefault(),P(!0),t=e.target,"new"!==J&&"newVersion"!==J)return[3,8];n=t.name.value,r=t.version.value,a=t.encounterType.value,o=t.description.value,S.label=1;case 1:return S.trys.push([1,6,,7]),[4,x(n,r,!1,o,a)];case 2:return i=S.sent(),[4,y(je(ze({},f),{name:n,version:r,description:o,encounterType:a,uuid:i.uuid}))];case 3:return l=S.sent(),[4,E(i.uuid,l.toString())];case 4:return S.sent(),(0,m.showSnackbar)({title:p("formCreated","New form created"),kind:"success",isLowContrast:!0,subtitle:n+" "+p("saveSuccessMessage","was created successfully. It is now visible on the Forms dashboard.")}),te(),Y(!1),[4,v()];case 5:return S.sent(),(0,m.navigate)({to:"".concat(window.spaBase,"/form-builder/edit/").concat(i.uuid)}),P(!1),[3,7];case 6:return Ne(s=S.sent(),Error)&&(0,m.showSnackbar)({title:p("errorCreatingForm","Error creating form"),kind:"error",subtitle:null==s?void 0:s.message}),P(!1),[3,7];case 7:return[3,13];case 8:return S.trys.push([8,12,,13]),u=je(ze({},f),{name:M,version:$,description:D,encounterType:I}),[4,k(_.uuid,M,$,D,I)];case 9:return S.sent(),0===(null==_||null===(c=_.resources)||void 0===c?void 0:c.length)?[3,11]:(g=null!==(h=null==_||null===(A=_.resources)||void 0===A||null===(d=A.find((function(e){return"JSON schema"===e.name})))||void 0===d?void 0:d.valueReference)&&void 0!==h?h:"",[4,b(g).catch((function(e){return console.error("Unable to delete clobdata: ",e)})).then((function(){var e,t,n,r=null!==(n=null==_||null===(t=_.resources)||void 0===t||null===(e=t.find((function(e){return"JSON schema"===e.name})))||void 0===e?void 0:e.uuid)&&void 0!==n?n:"";(function(e,t){return C.apply(this,arguments)})(null==_?void 0:_.uuid,r).then((function(){y(u).then((function(e){E(null==_?void 0:_.uuid,e.toString()).then(qe((function(){return Le(this,(function(e){switch(e.label){case 0:return(0,m.showSnackbar)({title:p("success","Success!"),kind:"success",isLowContrast:!0,subtitle:(null==_?void 0:_.name)+" "+p("saveSuccess","was updated successfully")}),Y(!1),[4,v()];case 1:return e.sent(),P(!1),[2]}}))}))).catch((function(e){console.error("Error associating form with new schema: ",e),(0,m.showSnackbar)({title:p("errorSavingForm","Unable to save form"),kind:"error",subtitle:p("saveError","There was a problem saving your form. Try saving again. To ensure you don’t lose your changes, copy them, reload the page and then paste them back into the editor.")})}))})).catch((function(e){return console.error("Error uploading new schema: ",e)}))})).catch((function(e){return console.error("Unable to create new clobdata resource: ",e)}))}))]);case 10:S.sent(),S.label=11;case 11:return[3,13];case 12:return Ne(w=S.sent(),Error)&&(0,m.showSnackbar)({title:p("errorUpdatingForm","Error updating form"),kind:"error",subtitle:null==w?void 0:w.message}),P(!1),[3,13];case 13:return[2]}}))})),function(e){return ne.apply(this,arguments)});return a().createElement(a().Fragment,null,w?null:a().createElement(s.lpG,{open:R,onClose:function(){return G(!1)},preventCloseOnClickOutside:!0},a().createElement(s.xBx,{title:p("saveConfirmation","Save or Update form")}),a().createElement(s.fef,null,a().createElement("p",null,p("saveAsModal","A version of the form you're working on already exists on the server. Do you want to update the form or to save it as a new version?"))),a().createElement(s.mzw,null,a().createElement(s.zxk,{kind:"tertiary",onClick:function(){return re("update")}},p("updateExistingForm","Update existing version")),a().createElement(s.zxk,{kind:"primary",onClick:function(){return re("newVersion")}},p("saveAsNewForm","Save as a new")),a().createElement(s.zxk,{kind:"secondary",onClick:function(){return G(!1)}},p("close","Close")))),a().createElement(s.lpG,{open:Q,onClose:function(){return Y(!1)},preventCloseOnClickOutside:!0},a().createElement(s.xBx,{title:p("saveFormToServer","Save form to server")}),a().createElement(s.l09,{onSubmit:ae,className:Oe.saveFormBody},a().createElement(s.fef,null,a().createElement("p",null,p("saveExplainerText","Clicking the Save button saves your form schema to the database. To see your form in your frontend, you first need to publish it. Click the Publish button to publish your form.")),a().createElement(s.cwH,{legendText:""},a().createElement(s.Kqy,{gap:5},a().createElement(s.oil,{id:"name",labelText:p("formName","Form Name"),onChange:function(e){return U(e.target.value)},placeholder:p("formNamePlaceholder","e.g. OHRI Express Care Patient Encounter Form"),required:!0,value:M}),"update"===J?a().createElement(s.oil,{id:"uuid",labelText:p("autogeneratedUuid","UUID (auto-generated"),disabled:!0,value:null==_?void 0:_.uuid}):null,a().createElement(s.oil,{id:"version",labelText:p("version","Version"),placeholder:"e.g. 1.0",onChange:function(e){!function(e){if(!e)return N(!1);N(!/^[0-9]/.test(e))}(e.target.value),F||ee(e.target.value)},invalid:F,invalidText:p("invalidVersionWarning","Version can only start with with a number"),required:!0,value:$}),a().createElement(s.PhF,{id:"encounterType",labelText:p("encounterType","Encounter Type"),onChange:function(e){return T(e.target.value)},required:!0,value:I},I?null:a().createElement(s.QlF,{text:p("chooseEncounterType","Choose an encounter type to link your form to"),value:""}),(null==h?void 0:h.length)>0&&h.map((function(e){return a().createElement(s.QlF,{key:e.uuid,value:e.uuid,text:e.name},e.name)}))),a().createElement(s.Kx8,{labelText:p("description","Description"),onChange:function(e){return B(e.target.value)},id:"description",placeholder:p("descriptionPlaceholderText","e.g. A form used to collect encounter data for clients in the Express Care program."),required:!0,value:D})))),a().createElement(s.mzw,null,a().createElement(s.zxk,{kind:"secondary",onClick:function(){return Y(!1)}},p("close","Close")),a().createElement(s.zxk,{disabled:j||F,className:Oe.spinner,type:"submit",kind:"primary"},j?a().createElement(s.lSo,{description:p("saving","Saving")+"..."}):a().createElement("span",null,p("save","Save")))))),a().createElement(s.zxk,{disabled:!f,kind:"primary",onClick:function(){return w?re("new"):G(!0)}},p("saveForm","Save form")))};var Ue=n(89454),Ze={};Ze.styleTagTransform=H(),Ze.setAttributes=U(),Ze.insert=L().bind(null,"head"),Ze.domAPI=j(),Ze.insertStyleElement=R(),N()(Ue.Z,Ze);const Re=Ue.Z&&Ue.Z.locals?Ue.Z.locals:void 0;function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function He(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function Qe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){He(o,r,a,i,l,"next",e)}function l(e){He(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Ye(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function Ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ge(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}const We=function(e){var t=e.schema,n=e.t,o=(0,i.UO)().formUuid,l=xe(o),c=l.form,u=l.mutate,d=Ve((0,r.useState)("idle"),2),A=d[0],_=d[1],f=Ve((0,r.useState)(!1),2),p=f[0],b=f[1];function h(){return(h=Qe((function(){var e;return Je(this,(function(t){switch(t.label){case 0:_("publishing"),t.label=1;case 1:return t.trys.push([1,4,,5]),[4,B(c.uuid)];case 2:return t.sent(),(0,m.showSnackbar)({title:n("formPublished","Form published"),kind:"success",isLowContrast:!0,subtitle:"".concat(c.name," ")+n("formPublishedSuccessfully","form was published successfully")}),_("published"),[4,u()];case 3:return t.sent(),[3,5];case 4:return Ye(e=t.sent(),Error)&&((0,m.showSnackbar)({title:n("errorPublishingForm","Error publishing form"),kind:"error",subtitle:null==e?void 0:e.message}),_("error")),[3,5];case 5:return[2]}}))}))).apply(this,arguments)}function g(){return(g=Qe((function(){var e;return Je(this,(function(t){switch(t.label){case 0:_("unpublishing"),t.label=1;case 1:return t.trys.push([1,4,,5]),[4,I(c.uuid)];case 2:return t.sent(),(0,m.showSnackbar)({title:n("formUnpublished","Form unpublished"),kind:"success",isLowContrast:!0,subtitle:"".concat(c.name," ")+n("formUnpublishedSuccessfully","form was unpublished successfully")}),_("unpublished"),[4,u()];case 3:return t.sent(),[3,5];case 4:return Ye(e=t.sent(),Error)&&((0,m.showSnackbar)({title:n("errorUnpublishingForm","Error unpublishing form"),kind:"error",subtitle:null==e?void 0:e.message}),_("error")),[3,5];case 5:return b(!1),[2]}}))}))).apply(this,arguments)}return a().createElement("div",{className:Re.actionButtons},a().createElement(Me,{form:c,schema:t}),a().createElement(a().Fragment,null,c&&!c.published?a().createElement(s.zxk,{kind:"secondary",onClick:function(){return h.apply(this,arguments)},disabled:"publishing"===A},"publishing"!==A||(null==c?void 0:c.published)?a().createElement("span",null,n("publishForm","Publish form")):a().createElement(s.lSo,{className:Re.spinner,description:n("publishing","Publishing")+"..."})):null,c&&c.published?a().createElement(s.zxk,{kind:"danger",onClick:function(){b(!0)},disabled:"unpublishing"===A},n("unpublishForm","Unpublish form")):null,!!p&&a().createElement(s.lpG,{open:!0,onClose:function(){return b(!1)},preventCloseOnClickOutside:!0},a().createElement(s.xBx,{title:n("unpublishConfirmation","Are you sure you want to unpublish this form?")}),a().createElement(s.fef,null,a().createElement("p",null,n("unpublishExplainerText","Unpublishing a form means you can no longer access it from your frontend. Unpublishing forms does not delete their associated schemas, it only affects whether or not you can access them in your frontend."))),a().createElement(s.mzw,null,a().createElement(s.zxk,{kind:"secondary",onClick:function(){return b(!1)}},n("cancel","Cancel")),a().createElement(s.zxk,{disabled:"unpublishing"===A,kind:"unpublishing"===A?"secondary":"danger",onClick:function(){return g.apply(this,arguments)}},"unpublishing"===A?a().createElement(s.lSo,{className:Re.spinner,description:n("unpublishing","Unpublishing")+"..."}):a().createElement("span",null,n("confirm","Confirm")))))))},Ke=function(e){var t,n,r,o,i,c,u,d=e.form,A=(0,l.useTranslation)().t;return a().createElement(s.x4x,{isCondensed:!0,selection:!1},a().createElement(s.FxI,null,a().createElement(s.s1N,null,a().createElement(s.agF,null,a().createElement("b",null,A("formName","Form Name"))),a().createElement(s.agF,null,d.name)),a().createElement(s.s1N,null,a().createElement(s.agF,null,A("description","Description")),a().createElement(s.agF,null,d.description)),a().createElement(s.s1N,null,a().createElement(s.agF,null,A("formUuid","Form UUID")),a().createElement(s.agF,null,d.uuid)),a().createElement(s.s1N,null,a().createElement(s.agF,null,A("version","Version")),a().createElement(s.agF,null,d.version)),a().createElement(s.s1N,null,a().createElement(s.agF,null,A("encounterType","Encounter Type")),a().createElement(s.agF,null,d.encounterType.uuid)),a().createElement(s.s1N,null,a().createElement(s.agF,null,A("createdBy","Created By")),a().createElement(s.agF,null,"".concat(null!==(u=null==d||null===(n=d.auditInfo)||void 0===n||null===(t=n.creator)||void 0===t?void 0:t.display)&&void 0!==u?u:A("unknownUser","Unknown")," on ").concat((0,m.formatDatetime)((0,m.parseDate)(null==d||null===(r=d.auditInfo)||void 0===r?void 0:r.dateCreated))))),a().createElement(s.s1N,null,a().createElement(s.agF,null,A("lastEditedBy","Last Edited By")),a().createElement(s.agF,null,(null==d||null===(o=d.auditInfo)||void 0===o?void 0:o.dateChanged)?"".concat(null==d||null===(i=d.auditInfo)||void 0===i?void 0:i.changedBy.display," on ").concat((0,m.formatDatetime)((0,m.parseDate)(null==d||null===(c=d.auditInfo)||void 0===c?void 0:c.dateChanged))):A("uneditedFormMsg","This form has never been edited"))),a().createElement(s.s1N,null,a().createElement(s.agF,null,A("published","Published")),a().createElement(s.agF,null,d.published?A("yes","Yes"):A("no","No"))),a().createElement(s.s1N,null,a().createElement(s.agF,null,A("retired","Retired")),a().createElement(s.agF,null,d.retired?A("yes","Yes"):A("no","No")))))};var Xe=n(4511),$e=n(2158),et=n(51659),tt={};tt.styleTagTransform=H(),tt.setAttributes=U(),tt.insert=L().bind(null,"head"),tt.domAPI=j(),tt.insertStyleElement=R(),N()(et.Z,tt);const nt=et.Z&&et.Z.locals?et.Z.locals:void 0;function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function at(e){var t=e.error,n=e.resetErrorBoundary,r=(0,l.useTranslation)().t;return a().createElement(s.n9L,{className:nt.errorStateTile},a().createElement("h4",{className:nt.heading},r("problemLoadingPreview","There was a problem loading the form preview")),a().createElement("p",{className:nt.helperText},a().createElement("pre",null,t.message)),a().createElement(s.zxk,{kind:"primary",onClick:n},r("tryAgain","Try again")))}const ot=function(e){var t,n,o=e.isLoading,i=e.schema,c=(0,l.useTranslation)().t,u=(t=(0,r.useState)({encounterType:"",name:"Test Form",pages:[{label:"Test Page",sections:[{label:"Test Section",isExpanded:"true",questions:[{label:"Test Question",type:"obs",questionOptions:{rendering:"text",concept:"xxxx"},id:"testQuestion"}]}]}],processor:"EncounterFormProcessor",referencedForms:[],uuid:"xxx"}),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rt(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=u[0],m=u[1];return(0,r.useEffect)((function(){i&&m(i)}),[i]),o?a().createElement("div",{className:nt.loadingContainer},a().createElement(s.lSo,{className:nt.loader,description:c("loading","Loading")+"..."})):a().createElement("div",{className:nt.container},!i&&a().createElement(s.n9L,{className:nt.emptyStateTile},a().createElement("h4",{className:nt.heading},c("noSchemaLoaded","No schema loaded")),a().createElement("p",{className:nt.helperText},c("formRendererHelperText","Load a form schema in the Schema Editor to the left to see it rendered here by the Form Engine."))),i===d&&a().createElement(Xe.SV,{FallbackComponent:at},a().createElement($e.w9,{formJson:d,mode:"enter",patientUUID:""})))};var it=n(60887),lt=n(43925);function st(e){var t,n,r="".concat(m.restBaseUrl,"/concept?q=").concat(e,"&v=full"),a=(0,A.ZP)(e?r:null,m.openmrsFetch),o=a.data,i=a.error;return{concepts:null!==(n=null==o||null===(t=o.data)||void 0===t?void 0:t.results)&&void 0!==n?n:[],conceptLookupError:i,isLoadingConcepts:!o&&!i||!1}}var ct=n(76115),ut={};ut.styleTagTransform=H(),ut.setAttributes=U(),ut.insert=L().bind(null,"head"),ut.domAPI=j(),ut.insertStyleElement=R(),N()(ct.Z,ut);const dt=ct.Z&&ct.Z.locals?ct.Z.locals:void 0;function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const ft=function(e){var t=e.schema,n=e.onSchemaChange,o=e.pageIndex,i=e.sectionIndex,c=e.questionIndex,u=e.resetIndices,A=e.showModal,_=e.onModalChange,f=(0,l.useTranslation)().t,p=(0,m.useConfig)(),b=p.fieldTypes,h=p.questionTypes,g=_t((0,r.useState)([]),2),C=g[0],y=g[1],v=_t((0,r.useState)([]),2),E=v[0],w=v[1],k=_t((0,r.useState)(""),2),S=k[0],x=k[1],D=_t((0,r.useState)(null),2),B=D[0],O=D[1],I=_t((0,r.useState)(!1),2),T=I[0],q=I[1],F=_t((0,r.useState)(""),2),N=F[0],z=F[1],j=_t((0,r.useState)(""),2),P=j[0],L=j[1],M=_t((0,r.useState)(""),2),U=M[0],Z=M[1],R=_t((0,r.useState)(""),2),G=R[0],H=R[1],Q=_t((0,r.useState)(null),2),Y=Q[0],V=Q[1],J=_t((0,r.useState)(""),2),W=J[0],K=J[1],X=_t((0,r.useState)(null),2),$=X[0],ee=X[1],te=_t((0,r.useState)([]),2),ne=te[0],re=te[1],ae=st(S),oe=ae.concepts,ie=ae.isLoadingConcepts,le=function(e){var n,r=null==t||null===(n=t.pages)||void 0===n?void 0:n.map((function(e){var t;return null==e||null===(t=e.sections)||void 0===t?void 0:t.map((function(e){var t;return null==e||null===(t=e.questions)||void 0===t?void 0:t.map((function(e){return e.id}))}))}));return(0,lt.Z)(r).includes(e)};return a().createElement(s.lpG,{open:A,onClose:function(){return _(!1)},preventCloseOnClickOutside:!0},a().createElement(s.xBx,{title:f("createNewQuestion","Create a new question")}),a().createElement(s.l09,{className:dt.form,onSubmit:function(e){return e.preventDefault()}},a().createElement(s.fef,{hasScrollingContent:!0},a().createElement(s.cwH,{legendText:""},a().createElement(s.Kqy,{gap:5},a().createElement(s.oil,{id:"questionLabel",labelText:f("questionLabel","Label"),placeholder:f("labelPlaceholder","e.g. Type of Anaesthesia"),value:G,onChange:function(e){return H(e.target.value)},required:!0}),a().createElement(s.oil,{id:"questionId",invalid:le(U),invalidText:f("questionIdExists","This question ID already exists in your schema"),labelText:f("questionId","Question ID (prefer using camel-case for IDs)"),value:U,onChange:function(e){Z(e.target.value)},placeholder:f("questionIdPlaceholder",'Enter a unique ID e.g. "anaesthesiaType" for a question asking about the type of anaesthesia.'),required:!0}),a().createElement(s.SYO,{defaultSelected:"optional",name:"isQuestionRequired",legendText:f("isQuestionRequiredOrOptional","Is this question a required or optional field? Required fields must be answered before the form can be submitted.")},a().createElement(s.EUY,{id:"questionIsNotRequired",defaultChecked:!0,labelText:f("optional","Optional"),onClick:function(){return q(!1)},value:"optional"}),a().createElement(s.EUY,{id:"questionIsRequired",defaultChecked:!1,labelText:f("required","Required"),onClick:function(){return q(!0)},value:"required"})),a().createElement(s.PhF,{value:Y,onChange:function(e){return V(e.target.value)},id:"questionType",invalidText:f("typeRequired","Type is required"),labelText:f("questionType","Question type"),required:!0},!Y&&a().createElement(s.QlF,{text:f("chooseQuestionType","Choose a question type"),value:""}),h.map((function(e,t){return a().createElement(s.QlF,{text:e,value:e,key:t})}))),a().createElement(s.PhF,{value:B,onChange:function(e){return O(e.target.value)},id:"renderingType",invalidText:f("validFieldTypeRequired","A valid field type value is required"),labelText:f("fieldType","Field type"),required:!0},!B&&a().createElement(s.QlF,{text:f("chooseFieldType","Choose a field type"),value:""}),b.map((function(e,t){return a().createElement(s.QlF,{text:e,value:e,key:t})}))),"number"===B?a().createElement(a().Fragment,null,a().createElement(s.oil,{id:"min",labelText:"Min",value:P||"",onChange:function(e){return L(e.target.value)},required:!0}),a().createElement(s.oil,{id:"max",labelText:"Max",value:N||"",onChange:function(e){return z(e.target.value)},required:!0})):"textarea"===B?a().createElement(s.oil,{id:"textAreaRows",labelText:f("rows","Rows"),value:W||"",onChange:function(e){return K(e.target.value)},required:!0}):null,"ui-select-extended"!==B&&a().createElement("div",null,a().createElement(s.lXp,{className:dt.label},f("searchForBackingConcept","Search for a backing concept")),a().createElement(s.olm,{size:"md",id:"conceptLookup",onClear:function(){return ee(null)},onChange:function(e){return x(e.target.value)},placeholder:f("searchConcept","Search using a concept name or UUID"),value:S||($?$.display:""),required:!0}),S?ie?a().createElement(s.lSo,{className:dt.loader,description:f("searching","Searching")+"..."}):(null==oe?void 0:oe.length)&&!ie?a().createElement("ul",{className:dt.conceptList},null==oe?void 0:oe.map((function(e,t){return a().createElement("li",{role:"menuitem",className:dt.concept,key:t,onClick:function(){return function(e){var t,n;x(""),ee(e),y(null==e||null===(t=e.answers)||void 0===t?void 0:t.map((function(e){return{concept:null==e?void 0:e.uuid,label:null==e?void 0:e.display}}))),w(null==e||null===(n=e.mappings)||void 0===n?void 0:n.map((function(e){var t=e.display.split(": ");return{relationship:e.conceptMapType.display,type:t[0],value:t[1]}})))}(e)}},e.display)}))):a().createElement(s.mh4,null,a().createElement(s.n9L,{className:dt.emptyResults},a().createElement("span",null,f("noMatchingConcepts","No concepts were found that match")," ",a().createElement("strong",null,'"',S,'".'))),a().createElement("div",{className:dt.oclLauncherBanner},a().createElement("p",{className:dt.bodyShort01},f("conceptSearchHelpText","Can't find a concept?")),a().createElement("a",{className:dt.oclLink,target:"_blank",rel:"noopener noreferrer",href:"https://app.openconceptlab.org/"},f("searchInOCL","Search in OCL"),a().createElement(d.Gu,{size:16})))):null),(null==E?void 0:E.length)?a().createElement(s.cwH,null,a().createElement(s.lXp,{className:dt.label},f("mappings","Mappings")),a().createElement("table",{className:dt.tableStriped},a().createElement("thead",null,a().createElement("tr",null,a().createElement("th",null,f("relationship","Relationship")),a().createElement("th",null,f("source","Source")),a().createElement("th",null,f("code","Code")))),a().createElement("tbody",null,E.map((function(e,t){return a().createElement("tr",{key:"mapping-".concat(t)},a().createElement("td",null,e.relationship),a().createElement("td",null,e.type),a().createElement("td",null,e.value))}))))):null,(null==C?void 0:C.length)?a().createElement(s.NUq,{className:dt.multiSelect,direction:"top",id:"selectAnswers",itemToString:function(e){return e.text},items:C.map((function(e){return{id:e.concept,text:e.label}})),onChange:function(e){var t=e.selectedItems;return re(t.sort())},size:"md",titleText:f("selectAnswersToDisplay","Select answers to display")}):null,ne.length?a().createElement("div",null,ne.map((function(e){return a().createElement(s.Vp9,{className:dt.tag,key:e.id,type:"blue"},e.text)}))):null)))),a().createElement(s.mzw,null,a().createElement(s.zxk,{onClick:function(){return _(!1)},kind:"secondary"},f("cancel","Cancel")),a().createElement(s.zxk,{disabled:!G||!U||le(U)||!B||"ui-select-extended"!==B&&!$,onClick:function(){(function(){try{var e,r,a,l,s="question".concat(c+1,"Section").concat(i+1,"Page-").concat(o+1);null===(l=t.pages[o])||void 0===l||null===(a=l.sections)||void 0===a||null===(r=a[i])||void 0===r||null===(e=r.questions)||void 0===e||e.push({label:G,type:Y,required:T,id:null!=U?U:s,questionOptions:{rendering:B,concept:null==$?void 0:$.uuid,conceptMappings:E,answers:null==ne?void 0:ne.map((function(e){return{concept:e.id,label:e.text}}))},validators:[]}),n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){At(e,t,n[t])}))}return e}({},t)),u(),H(""),Z(""),q(!1),V(null),O(null),ee(null),w([]),y([]),re([]),(0,m.showSnackbar)({title:f("success","Success!"),kind:"success",isLowContrast:!0,subtitle:f("questionCreated","New question created")})}catch(e){d=e,(null!=(A=Error)&&"undefined"!=typeof Symbol&&A[Symbol.hasInstance]?A[Symbol.hasInstance](d):d instanceof A)&&(0,m.showSnackbar)({title:f("errorCreatingQuestion","Error creating question"),kind:"error",subtitle:null==e?void 0:e.message})}var d,A})(),_(!1)}},a().createElement("span",null,f("save","Save")))))};function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const bt=function(e){var t=e.onModalChange,n=e.onSchemaChange,r=e.resetIndices,o=e.pageIndex,i=e.sectionIndex,c=e.schema,u=e.showModal,d=(0,l.useTranslation)().t;return a().createElement(s.lpG,{open:u,onClose:function(){return t(!1)},preventCloseOnClickOutside:!0},a().createElement(s.xBx,{title:d("deleteSectionConfirmation","Are you sure you want to delete this section?")}),a().createElement(s.fef,null,a().createElement("p",null,d("deleteSectionExplainerText","Deleting this section will delete all the questions associated with it. This action cannot be undone."))),a().createElement(s.mzw,null,a().createElement(s.zxk,{kind:"secondary",onClick:function(){return t(!1)}},d("cancel","Cancel")),a().createElement(s.zxk,{kind:"danger",onClick:function(){(function(e,t){try{c.pages[e].sections.splice(t,1),n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){pt(e,t,n[t])}))}return e}({},c)),r(),(0,m.showSnackbar)({title:d("success","Success!"),kind:"success",isLowContrast:!0,subtitle:d("SectionDeleted","Section deleted")})}catch(e){a=e,(null!=(o=Error)&&"undefined"!=typeof Symbol&&o[Symbol.hasInstance]?o[Symbol.hasInstance](a):a instanceof o)&&(0,m.showSnackbar)({title:d("errorDeletingSection","Error deleting section"),kind:"error",subtitle:null==e?void 0:e.message})}var a,o})(o,i),t(!1)}},a().createElement("span",null,d("deleteSection","Delete section")))))};function ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const gt=function(e){var t=e.onModalChange,n=e.onSchemaChange,r=e.resetIndices,o=e.pageIndex,i=e.schema,c=e.showModal,u=(0,l.useTranslation)().t;return a().createElement(s.lpG,{open:c,onClose:function(){return t(!1)},preventCloseOnClickOutside:!0},a().createElement(s.xBx,{title:u("deletePageConfirmation","Are you sure you want to delete this page?")}),a().createElement(s.fef,null,a().createElement("p",null,u("deletePageExplainerText","Deleting this page will delete all the sections and questions associated with it. This action cannot be undone."))),a().createElement(s.mzw,null,a().createElement(s.zxk,{kind:"secondary",onClick:function(){return t(!1)}},u("cancel","Cancel")),a().createElement(s.zxk,{kind:"danger",onClick:function(){(function(e){try{i.pages.splice(e,1),n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ht(e,t,n[t])}))}return e}({},i)),r(),(0,m.showSnackbar)({title:u("success","Success!"),kind:"success",isLowContrast:!0,subtitle:u("pageDeleted","Page deleted")})}catch(e){t=e,(null!=(a=Error)&&"undefined"!=typeof Symbol&&a[Symbol.hasInstance]?a[Symbol.hasInstance](t):t instanceof a)&&(0,m.showSnackbar)({title:u("errorDeletingPage","Error deleting page"),kind:"error",subtitle:null==e?void 0:e.message})}var t,a})(o),t(!1)}},a().createElement("span",null,u("deletePage","Delete page")))))};function Ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const yt=function(e){var t=e.onModalChange,n=e.onSchemaChange,r=e.resetIndices,o=e.pageIndex,i=e.sectionIndex,c=e.questionIndex,u=e.schema,d=e.showModal,A=(0,l.useTranslation)().t;return a().createElement(s.lpG,{open:d,onClose:function(){return t(!1)},preventCloseOnClickOutside:!0},a().createElement(s.xBx,{title:A("deleteQuestionConfirmation","Are you sure you want to delete this question?")}),a().createElement(s.fef,null,a().createElement("p",null,A("deleteQuestionExplainerText","This action cannot be undone."))),a().createElement(s.mzw,null,a().createElement(s.zxk,{kind:"secondary",onClick:function(){return t(!1)}},A("cancel","Cancel")),a().createElement(s.zxk,{kind:"danger",onClick:function(){(function(e,t,a){try{u.pages[e].sections[t].questions.splice(a,1),n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ct(e,t,n[t])}))}return e}({},u)),r(),(0,m.showSnackbar)({title:A("success","Success!"),kind:"success",isLowContrast:!0,subtitle:A("QuestionDeleted","Question deleted")})}catch(e){o=e,(null!=(i=Error)&&"undefined"!=typeof Symbol&&i[Symbol.hasInstance]?i[Symbol.hasInstance](o):o instanceof i)&&(0,m.showSnackbar)({title:A("errorDeletingQuestion","Error deleting question"),kind:"error",subtitle:null==e?void 0:e.message})}var o,i})(o,i,c),t(!1)}},a().createElement("span",null,A("deleteQuestion","Delete question")))))};var vt=n(8891);function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Et(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const St=function(e){var t,n,o,i,c,u,_,f,p,b,h,g,C,y,v,E,w,k,S,x,D,B,O,I=e.questionToEdit,T=e.schema,q=e.onSchemaChange,F=e.pageIndex,N=e.sectionIndex,z=e.questionIndex,j=e.resetIndices,P=e.showModal,L=e.onModalChange,M=e.onQuestionEdit,U=(0,l.useTranslation)().t,Z=(0,m.useConfig)(),R=Z.fieldTypes,G=Z.questionTypes,H=kt((0,r.useState)(!1),2),Q=H[0],Y=H[1],V=kt((0,r.useState)([]),2),J=V[0],W=V[1],K=kt((0,r.useState)(I.questionOptions.conceptMappings),2),X=K[0],$=K[1],ee=kt((0,r.useState)(""),2),te=ee[0],ne=ee[1],re=kt((0,r.useState)(null),2),ae=re[0],oe=re[1],ie=kt((0,r.useState)(!1),2),le=ie[0],se=ie[1],ce=kt((0,r.useState)(""),2),ue=ce[0],de=ce[1],me=kt((0,r.useState)(""),2),Ae=me[0],_e=me[1],fe=kt((0,r.useState)(""),2),pe=fe[0],be=fe[1],he=kt((0,r.useState)(""),2),ge=he[0],Ce=he[1],ye=kt((0,r.useState)(null),2),ve=ye[0],Ee=ye[1],we=kt((0,r.useState)(""),2),ke=we[0],Se=we[1],xe=kt((0,r.useState)([]),2),De=xe[0],Be=xe[1],Oe=kt((0,r.useState)(null),2),Ie=Oe[0],Te=Oe[1],qe=st(te),Fe=qe.concepts,Ne=qe.isLoadingConcepts,ze=(g=I.questionOptions.concept,E="".concat(m.restBaseUrl,"/concept/").concat(g,"?v=").concat("custom:(name:(display))"),k=(w=(0,A.ZP)(g?E:null,m.openmrsFetch)).data,S=w.error,{conceptName:null!==(v=null==k||null===(y=k.data)||void 0===y||null===(C=y.name)||void 0===C?void 0:C.display)&&void 0!==v?v:null,conceptNameLookupError:S,isLoadingConceptName:!k&&!S||!1}),je=ze.conceptName,Pe=ze.conceptNameLookupError,Le=ze.isLoadingConceptName,Me=Ie&&(null==I||null===(t=I.questionOptions)||void 0===t?void 0:t.concept)!==(null==Ie?void 0:Ie.uuid),Ue=(0,r.useMemo)((function(){return(0,vt.Z)((function(e){return ne(e)}),500)}),[]);return a().createElement(s.lpG,{open:P,onClose:function(){return L(!1)},preventCloseOnClickOutside:!0},a().createElement(s.xBx,{title:U("editQuestion","Edit question")}),a().createElement(s.l09,{className:dt.form,onSubmit:function(e){return e.preventDefault()}},a().createElement(s.fef,{hasScrollingContent:!0},a().createElement(s.Kqy,{gap:5},a().createElement(s.oil,{defaultValue:I.label,id:I.id,labelText:U("questionLabel","Label"),onChange:function(e){return Ce(e.target.value)},required:!0}),a().createElement(s.oil,{defaultValue:I.id,id:"questionId",invalid:function(e){var t;if((null==I?void 0:I.id)===e)return!1;var n=null==T||null===(t=T.pages)||void 0===t?void 0:t.map((function(e){var t;return null==e||null===(t=e.sections)||void 0===t?void 0:t.map((function(e){var t;return null==e||null===(t=e.questions)||void 0===t?void 0:t.map((function(e){return e.id}))}))}));return(0,lt.Z)(n).includes(e)}(pe),invalidText:U("questionIdExists","This question ID already exists in your schema"),labelText:U("questionId","Question ID (prefer using camel-case for IDs)"),onChange:function(e){return be(e.target.value)},placeholder:U("questionIdPlaceholder",'Enter a unique ID e.g. "anaesthesiaType" for a question asking about the type of anaesthesia.'),required:!0}),a().createElement(s.SYO,{defaultSelected:/true/.test(null==I||null===(n=I.required)||void 0===n?void 0:n.toString())?"required":"optional",name:"isQuestionRequired",legendText:U("isQuestionRequiredOrOptional","Is this question a required or optional field? Required fields must be answered before the form can be submitted.")},a().createElement(s.EUY,{id:"questionIsNotRequired",defaultChecked:!0,labelText:U("optional","Optional"),onClick:function(){return se(!1)},value:"optional"}),a().createElement(s.EUY,{id:"questionIsRequired",defaultChecked:!1,labelText:U("required","Required"),onClick:function(){return se(!0)},value:"required"})),a().createElement(s.PhF,{defaultValue:I.type,onChange:function(e){return Ee(e.target.value)},id:"questionType",invalidText:U("typeRequired","Type is required"),labelText:U("questionType","Question type"),required:!0},!ve&&a().createElement(s.QlF,{text:U("chooseQuestionType","Choose a question type"),value:""}),G.map((function(e,t){return a().createElement(s.QlF,{text:e,value:e,key:t})}))),a().createElement(s.PhF,{defaultValue:I.questionOptions.rendering,onChange:function(e){return oe(e.target.value)},id:"renderingType",invalidText:U("validFieldTypeRequired","A valid field type value is required"),labelText:U("fieldType","Field type"),required:!0},!ae&&a().createElement(s.QlF,{text:U("chooseFieldType","Choose a field type"),value:""}),R.map((function(e,t){return a().createElement(s.QlF,{text:e,value:e,key:t})}))),"number"===ae?a().createElement(a().Fragment,null,a().createElement(s.oil,{id:"min",labelText:"Min",value:Ae||"",onChange:function(e){return _e(e.target.value)},required:!0}),a().createElement(s.oil,{id:"max",labelText:"Max",value:ue||"",onChange:function(e){return de(e.target.value)},required:!0})):"textarea"===ae?a().createElement(s.oil,{id:"textAreaRows",labelText:U("rows","Rows"),value:ke||"",onChange:function(e){return Se(e.target.value)},required:!0}):null,"ui-select-extended"!==ae&&a().createElement("div",null,a().createElement(s.lXp,{className:dt.label},U("searchForBackingConcept","Search for a backing concept")),Pe?a().createElement(s.K0D,{kind:"error",lowContrast:!0,className:dt.error,title:U("errorFetchingConceptName","Couldn't resolve concept name"),subtitle:U("conceptDoesNotExist","The linked concept does not exist in your dictionary.")}):null,Le?a().createElement(s.lSo,{className:dt.loader,description:U("loading","Loading")+"..."}):a().createElement(a().Fragment,null,a().createElement(s.olm,{defaultValue:je,id:"conceptLookup",onClear:function(){return Te(null)},onChange:function(e){var t,n;(n=null===(t=e.target.value)||void 0===t?void 0:t.trim())&&Ue(n)},placeholder:U("searchConcept","Search using a concept name or UUID"),required:!0,size:"md",value:null==Ie?void 0:Ie.display}),te?Ne?a().createElement(s.lSo,{className:dt.loader,description:U("searching","Searching")+"..."}):(null==Fe?void 0:Fe.length)&&!Ne?a().createElement("ul",{className:dt.conceptList},null==Fe?void 0:Fe.map((function(e,t){return a().createElement("li",{role:"menuitem",className:dt.concept,key:t,onClick:function(){return function(e){var t,n,r;ne(""),Be([]),Te(e),$(null==e||null===(t=e.mappings)||void 0===t?void 0:t.map((function(e){var t=e.display.split(": ");return{relationship:e.conceptMapType.display,type:t[0],value:t[1]}}))),W(null!==(r=null==e||null===(n=e.answers)||void 0===n?void 0:n.map((function(e){return{concept:null==e?void 0:e.uuid,label:null==e?void 0:e.display}})))&&void 0!==r?r:[])}(e)}},e.display)}))):a().createElement(s.mh4,null,a().createElement(s.n9L,{className:dt.emptyResults},a().createElement("span",null,U("noMatchingConcepts","No concepts were found that match")," ",a().createElement("strong",null,'"',te,'".'))),a().createElement("div",{className:dt.oclLauncherBanner},a().createElement("p",{className:dt.bodyShort01},U("conceptSearchHelpText","Can't find a concept?")),a().createElement("a",{className:dt.oclLink,target:"_blank",rel:"noopener noreferrer",href:"https://app.openconceptlab.org/"},U("searchInOCL","Search in OCL"),a().createElement(d.Gu,{size:16})))):null)),(null==X?void 0:X.length)?a().createElement(s.cwH,null,a().createElement(s.lXp,{className:dt.label},U("mappings","Mappings")),a().createElement("table",{className:dt.tableStriped},a().createElement("thead",null,a().createElement("tr",null,a().createElement("th",null,U("relationship","Relationship")),a().createElement("th",null,U("source","Source")),a().createElement("th",null,U("code","Code")))),a().createElement("tbody",null,X.map((function(e,t){return a().createElement("tr",{key:"mapping-".concat(t)},a().createElement("td",null,null!==(x=e.relationship)&&void 0!==x?x:"--"),a().createElement("td",null,null!==(D=e.type)&&void 0!==D?D:"--"),a().createElement("td",null,null!==(B=e.value)&&void 0!==B?B:"--"))}))))):null,!Me&&(null==I||null===(o=I.questionOptions.answers)||void 0===o?void 0:o.length)?a().createElement(s.NUq,{className:dt.multiSelect,direction:"top",id:"selectAnswers",itemToString:function(e){return e.text},initialSelectedItems:null==I||null===(c=I.questionOptions)||void 0===c||null===(i=c.answers)||void 0===i?void 0:i.map((function(e){return{id:e.concept,text:e.label}})),items:null==I||null===(_=I.questionOptions)||void 0===_||null===(u=_.answers)||void 0===u?void 0:u.map((function(e){return{id:e.concept,text:null!==(O=e.label)&&void 0!==O?O:""}})),onChange:function(e){var t=e.selectedItems;Y(!0),Be(t.sort())},size:"md",titleText:U("selectAnswersToDisplay","Select answers to display")}):null,Me||!(null==I||null===(p=I.questionOptions)||void 0===p||null===(f=p.answers)||void 0===f?void 0:f.length)||Q?null:a().createElement("div",null,null==I||null===(h=I.questionOptions)||void 0===h||null===(b=h.answers)||void 0===b?void 0:b.map((function(e){return a().createElement(s.Vp9,{className:dt.tag,key:null==e?void 0:e.concept,type:"blue"},null==e?void 0:e.label)}))),Me&&J.length?a().createElement(s.NUq,{className:dt.multiSelect,direction:"top",id:"selectAnswers",itemToString:function(e){return e.text},items:J.map((function(e){return{id:e.concept,text:e.label}})),onChange:function(e){var t=e.selectedItems;return Be(t.sort())},size:"md",titleText:U("selectAnswersToDisplay","Select answers to display")}):null,(null!=Me?Me:Q)&&a().createElement("div",null,De.map((function(e){return a().createElement(s.Vp9,{className:dt.tag,key:e.id,type:"blue"},e.text)}))))),a().createElement(s.mzw,null,a().createElement(s.zxk,{onClick:function(){return L(!1)},kind:"secondary"},U("cancel","Cancel")),a().createElement(s.zxk,{onClick:function(){!function(e){var t,n,r;r=!Me&&(null==De?void 0:De.length)?De.map((function(e){return{concept:e.id,label:e.text}})):Me&&0===J.length?[]:Me&&(null==J?void 0:J.length)>0&&(null==De?void 0:De.length)&&(null==De?void 0:De.length)?De.map((function(e){return{concept:e.id,label:e.text}})):I.questionOptions.answers;try{var a,o={label:ge||I.label,type:ve||I.type,required:le||/true/.test(null==I||null===(a=I.required)||void 0===a?void 0:a.toString()),id:pe||I.id,questionOptions:{rendering:ae||I.questionOptions.rendering,concept:(null==Ie?void 0:Ie.uuid)?Ie.uuid:I.questionOptions.concept,conceptMappings:(null==X?void 0:X.length)?X:I.questionOptions.conceptMappings,answers:r}};T.pages[F].sections[N].questions[e]=o,q(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){wt(e,t,n[t])}))}return e}({},T)),j(),Ce(""),be(""),se(!1),Ee(null),oe(null),Te(null),$([]),Be([]),M(null),(0,m.showSnackbar)({title:U("success","Success!"),kind:"success",isLowContrast:!0,subtitle:U("questionUpdated","Question updated")}),L(!1)}catch(e){t=e,(null!=(n=Error)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](t):t instanceof n)&&(0,m.showSnackbar)({title:U("errorUpdatingQuestion","Error updating question"),kind:"error",subtitle:null==e?void 0:e.message})}}(z)}},a().createElement("span",null,U("save","Save"))))))};var xt=n(69160),Dt=n(95977),Bt=n(81201),Ot={};Ot.styleTagTransform=H(),Ot.setAttributes=U(),Ot.insert=L().bind(null,"head"),Ot.domAPI=j(),Ot.insertStyleElement=R(),N()(Bt.Z,Ot);const It=Bt.Z&&Bt.Z.locals?Bt.Z.locals:void 0;function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){qt(e,t,n[t])}))}return e}function Nt(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const zt=function(e){var t,n,o=e.id,i=e.handleCancel,c=e.handleSave,u=e.value,d=(0,l.useTranslation)().t,m=(t=(0,r.useState)(u),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),A=m[0],_=m[1];return a().createElement(a().Fragment,null,a().createElement(s.oil,{id:o,labelText:"",value:A,onChange:function(e){return _(e.target.value)}}),a().createElement("div",{className:It.actionButtons},a().createElement(s.zxk,{size:"md",renderIcon:function(e){return a().createElement(xt.vc,Nt(Ft({},e),{size:16}))},kind:"primary",onClick:function(){return c(A)}},d("saveButtonText","Save")),a().createElement(s.zxk,{size:"md",renderIcon:function(e){return a().createElement(Dt.x8,Nt(Ft({},e),{size:16}))},kind:"secondary",onClick:i},d("cancelButtonText","Cancel"))))};var jt=n(83531),Pt={};Pt.styleTagTransform=H(),Pt.setAttributes=U(),Pt.insert=L().bind(null,"head"),Pt.domAPI=j(),Pt.insertStyleElement=R(),N()(jt.Z,Pt);const Lt=jt.Z&&jt.Z.locals?jt.Z.locals:void 0;function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Zt=function(e){var t,n,o=e.elementType,i=e.id,u=e.value,d=e.onSave,m=(0,l.useTranslation)().t,A=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mt(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_=A[0],f=A[1],p=function(){f(!1)};return _?a().createElement(zt,{handleCancel:p,handleSave:function(e){d(e),p()},id:i,value:u}):a().createElement(a().Fragment,null,a().createElement("h1",{className:Lt["".concat(o)+"Label"]},u),a().createElement(s.zxk,{kind:"ghost",size:"sm",enterDelayMs:300,iconDescription:m("editButton","Edit {{elementType}}",{elementType:o}),onClick:function(){return f(!0)},renderIcon:function(e){return a().createElement(c.I8,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ut(e,t,n[t])}))}return e}({size:16},e))},hasIconOnly:!0}))};function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const Qt=function(e){var t=e.schema,n=e.onSchemaChange,o=e.showModal,i=e.onModalChange,c=(0,l.useTranslation)().t,u=Ht((0,r.useState)(""),2),d=u[0],A=u[1],_=Ht((0,r.useState)(""),2),f=_[0],p=_[1];return a().createElement(s.lpG,{open:o,onClose:function(){return i(!1)},preventCloseOnClickOutside:!0},a().createElement(s.xBx,{title:c("createNewForm","Create a new form")}),a().createElement(s.l09,{onSubmit:function(e){return e.preventDefault()}},a().createElement(s.fef,null,a().createElement(s.Kqy,{gap:5},a().createElement(s.cwH,{legendText:""},a().createElement(s.oil,{id:"formName",labelText:c("formName","Form Name"),placeholder:c("namePlaceholder","What the form is called in the system"),value:d,onChange:function(e){return A(e.target.value)}})),a().createElement(s.cwH,{legendText:""},a().createElement(s.oil,{id:"formDescription",labelText:c("formDescription","Form description"),placeholder:c("formDescriptionPlaceholder","A short description of the form e.g. A form for collecting COVID-19 symptoms"),value:f,onChange:function(e){return p(e.target.value)}}))))),a().createElement(s.mzw,null,a().createElement(s.zxk,{kind:"secondary",onClick:function(){return i(!1)}},c("cancel","Cancel")),a().createElement(s.zxk,{disabled:!d,onClick:function(){d&&(function(e){try{var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Gt(e,t,n[t])}))}return e}({},t,e);n(r),(0,m.showSnackbar)({title:c("success","Success!"),kind:"success",isLowContrast:!0,subtitle:c("formCreated","New form created")})}catch(e){a=e,(null!=(o=Error)&&"undefined"!=typeof Symbol&&o[Symbol.hasInstance]?o[Symbol.hasInstance](a):a instanceof o)&&(0,m.showSnackbar)({title:c("errorCreatingForm","Error creating form"),kind:"error",subtitle:null==e?void 0:e.message})}var a,o}({name:d,description:f}),i(!1))}},a().createElement("span",null,c("createForm","Create Form")))))};function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Jt=function(e){var t,n,o=e.schema,i=e.onSchemaChange,c=e.showModal,u=e.onModalChange,d=(0,l.useTranslation)().t,A=(t=(0,r.useState)(""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yt(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_=A[0],f=A[1];return a().createElement(s.lpG,{open:c,onClose:function(){return u(!1)},preventCloseOnClickOutside:!0},a().createElement(s.xBx,{title:d("createNewPage","Create a new page")}),a().createElement(s.l09,{onSubmit:function(e){return e.preventDefault()}},a().createElement(s.fef,null,a().createElement(s.cwH,{legendText:""},a().createElement(s.oil,{id:"pageTitle",labelText:d("enterPageTitle","Enter a title for your new page"),value:_,onChange:function(e){return f(e.target.value)}})))),a().createElement(s.mzw,null,a().createElement(s.zxk,{onClick:function(){return u(!1)},kind:"secondary"},d("cancel","Cancel")),a().createElement(s.zxk,{disabled:!_,onClick:function(){(function(){try{_&&(o.pages.push({label:_,sections:[]}),i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Vt(e,t,n[t])}))}return e}({},o)),f("")),(0,m.showSnackbar)({title:d("success","Success!"),kind:"success",isLowContrast:!0,subtitle:d("pageCreated","New page created")})}catch(n){e=n,(null!=(t=Error)&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t)&&(0,m.showSnackbar)({title:d("errorCreatingPage","Error creating page"),kind:"error",subtitle:null==n?void 0:n.message})}var e,t})(),u(!1)}},a().createElement("span",null,d("save","Save")))))};function Wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Xt=function(e){var t,n,o=e.schema,i=e.onSchemaChange,c=e.pageIndex,u=e.resetIndices,d=e.showModal,A=e.onModalChange,_=(0,l.useTranslation)().t,f=(t=(0,r.useState)(""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wt(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=f[0],b=f[1];return a().createElement(s.lpG,{open:d,onClose:function(){return A(!1)},preventCloseOnClickOutside:!0},a().createElement(s.xBx,{title:_("createNewSection","Create a new section")}),a().createElement(s.l09,{onSubmit:function(e){return e.preventDefault()}},a().createElement(s.fef,null,a().createElement(s.cwH,{legendText:""},a().createElement(s.oil,{id:"sectionTitle",labelText:_("enterSectionTitle","Enter a section title"),value:p,onChange:function(e){return b(e.target.value)}})))),a().createElement(s.mzw,null,a().createElement(s.zxk,{onClick:function(){return A(!1)},kind:"secondary"},_("cancel","Cancel")),a().createElement(s.zxk,{disabled:!p,onClick:function(){(function(){try{var e,t;null===(t=o.pages[c])||void 0===t||null===(e=t.sections)||void 0===e||e.push({label:p,isExpanded:"true",questions:[]}),i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Kt(e,t,n[t])}))}return e}({},o)),b(""),u(),(0,m.showSnackbar)({title:_("success","Success!"),kind:"success",isLowContrast:!0,subtitle:_("sectionCreated","New section created")})}catch(e){n=e,(null!=(r=Error)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r)&&(0,m.showSnackbar)({title:_("errorCreatingSection","Error creating section"),kind:"error",subtitle:null==e?void 0:e.message})}var n,r})(),A(!1)}},a().createElement("span",null,_("save","Save")))))};var $t=n(24285),en=n(16003),tn={};tn.styleTagTransform=H(),tn.setAttributes=U(),tn.insert=L().bind(null,"head"),tn.domAPI=j(),tn.insertStyleElement=R(),N()(en.Z,tn);const nn=en.Z&&en.Z.locals?en.Z.locals:void 0;function rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){rn(e,t,n[t])}))}return e}var on=function(e){var t=e.question,n=e.pageIndex,r=e.sectionIndex,o=e.questionIndex,i=e.handleDuplicateQuestion,d=e.handleDeleteButtonClick,m=e.handleEditButtonClick,A=e.questionCount,_=(0,l.useTranslation)().t,f="question-".concat(n,"-").concat(r,"-").concat(o),p=(0,it.O1)({id:f,disabled:A<=1}),b=p.attributes,h=p.listeners,g=p.transform,C=p.isDragging,y=p.setNodeRef,v={transform:$t.ux.Translate.toString(g)},E=C?nn.isDragged:nn.normal;return a().createElement("div",{className:E,style:v},a().createElement("div",{className:nn.iconAndName},a().createElement("div",an({ref:y},b,h),a().createElement(s.zxk,{className:nn.dragIcon,enterDelayMs:300,hasIconOnly:!0,iconDescription:_("reorderQuestion","Reorder question"),kind:"ghost",renderIcon:function(e){return a().createElement(c._l,an({size:16},e))},size:"md"})),a().createElement("p",{className:nn.questionLabel},t.label)),a().createElement("div",{className:nn.buttonsContainer},a().createElement(s.qi1,{align:"top",className:"cds--btn--sm",feedback:_("duplicated","Duplicated")+"!",iconDescription:_("duplicateQuestion","Duplicate question"),kind:"ghost",onClick:function(){return!C&&i(t,n,r)}}),a().createElement(s.zxk,{enterDelayMs:300,hasIconOnly:!0,iconDescription:_("editQuestion","Edit question"),kind:"ghost",onClick:function(){C||m(t)},renderIcon:function(e){return a().createElement(c.I8,an({size:16},e))},size:"md"}),a().createElement(s.zxk,{enterDelayMs:300,hasIconOnly:!0,iconDescription:_("deleteQuestion","Delete question"),kind:"ghost",onClick:d,renderIcon:function(e){return a().createElement(u.ZN,an({size:16},e))},size:"md"})))};function ln(e){var t=e.id,n=e.children,r=(0,it.Zj)({id:t}),o=r.isOver,i=r.setNodeRef,l={border:"1px solid ".concat(o?"#005d5d":"transparent")};return a().createElement("div",{ref:i,style:l},n)}var sn=n(28787),cn={};cn.styleTagTransform=H(),cn.setAttributes=U(),cn.insert=L().bind(null,"head"),cn.domAPI=j(),cn.insertStyleElement=R(),N()(sn.Z,cn);const un=sn.Z&&sn.Z.locals?sn.Z.locals:void 0;function dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function An(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){mn(e,t,n[t])}))}return e}function fn(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||bn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bn(e,t){if(e){if("string"==typeof e)return dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dn(e,t):void 0}}const hn=function(e){var t,n=e.isLoading,o=e.onSchemaChange,c=e.schema,A=(0,it.VT)(it.MA,{activationConstraint:{distance:10}}),_=(0,it.VT)(it.Lg),f=(0,it.Dy)(A,_),p=(0,l.useTranslation)().t,b=(0,i.UO)().formUuid,h=Boolean(b),g=pn((0,r.useState)(0),2),C=g[0],y=g[1],v=pn((0,r.useState)(0),2),E=v[0],w=v[1],k=pn((0,r.useState)(),2),S=k[0],x=k[1],D=pn((0,r.useState)(0),2),B=D[0],O=D[1],I=pn((0,r.useState)(!1),2),T=I[0],q=I[1],F=pn((0,r.useState)(!1),2),N=F[0],z=F[1],j=pn((0,r.useState)(!1),2),P=j[0],L=j[1],M=pn((0,r.useState)(!1),2),U=M[0],Z=M[1],R=pn((0,r.useState)(!1),2),G=R[0],H=R[1],Q=pn((0,r.useState)(!1),2),Y=Q[0],V=Q[1],J=pn((0,r.useState)(!1),2),W=J[0],K=J[1],X=pn((0,r.useState)(!1),2),$=X[0],ee=X[1],te=(0,r.useCallback)((function(){c||o(_n({},{name:"",pages:[],processor:"EncounterFormProcessor",encounterType:"",referencedForms:[],uuid:""}))}),[o,c]),ne=function(){y(0),O(0),w(0)},re=(0,r.useCallback)((function(e){try{e&&(c.name=e),o(_n({},c)),(0,m.showSnackbar)({title:p("success","Success!"),kind:"success",isLowContrast:!0,subtitle:p("formRenamed","Form renamed")})}catch(e){(0,m.showSnackbar)({title:p("errorRenamingForm","Error renaming form"),kind:"error",subtitle:null==e?void 0:e.message})}}),[o,c,p]),ae=(0,r.useCallback)((function(e,t){try{e&&(c.pages[t].label=e),o(_n({},c)),(0,m.showSnackbar)({title:p("success","Success!"),kind:"success",isLowContrast:!0,subtitle:p("pageRenamed","Page renamed")})}catch(e){An(e,Error)&&(0,m.showSnackbar)({title:p("errorRenamingPage","Error renaming page"),kind:"error",subtitle:null==e?void 0:e.message})}}),[o,c,p]),oe=(0,r.useCallback)((function(e,t,n){try{e&&(c.pages[t].sections[n].label=e),o(_n({},c)),ne(),(0,m.showSnackbar)({title:p("success","Success!"),kind:"success",isLowContrast:!0,subtitle:p("sectionRenamed","Section renamed")})}catch(e){An(e,Error)&&(0,m.showSnackbar)({title:p("errorRenamingSection","Error renaming section"),kind:"error",subtitle:null==e?void 0:e.message})}}),[o,c,p]),ie=(0,r.useCallback)((function(e,t,n){try{var r=JSON.parse(JSON.stringify(e));r.id=r.id+"Duplicate",c.pages[t].sections[n].questions.push(r),o(_n({},c)),ne(),(0,m.showSnackbar)({title:p("success","Success!"),kind:"success",isLowContrast:!0,subtitle:p("questionDuplicated","Question duplicated. Please change the duplicated question's ID to a unique, camelcased value")})}catch(e){An(e,Error)&&(0,m.showSnackbar)({title:p("errorDuplicatingQuestion","Error duplicating question"),kind:"error",subtitle:null==e?void 0:e.message})}}),[o,c,p]),le=function(e){K(!0),y(C),O(B),w(E),x(e)},se=function(){y(C),O(B),w(E),H(!0)};return a().createElement("div",{className:un.container},n?a().createElement(s.lSo,{description:p("loadingSchema","Loading schema")+"..."}):null,$?a().createElement(Qt,{schema:c,onSchemaChange:o,showModal:$,onModalChange:ee}):null,T?a().createElement(Jt,{schema:c,onSchemaChange:o,showModal:T,onModalChange:q}):null,P?a().createElement(Xt,{schema:c,onSchemaChange:o,pageIndex:C,resetIndices:ne,showModal:P,onModalChange:L}):null,N?a().createElement(ft,{onModalChange:z,onQuestionEdit:x,onSchemaChange:o,pageIndex:C,sectionIndex:B,questionIndex:E,resetIndices:ne,schema:c,showModal:N}):null,W?a().createElement(St,{onModalChange:K,onQuestionEdit:x,onSchemaChange:o,pageIndex:C,questionIndex:E,questionToEdit:S,resetIndices:ne,schema:c,sectionIndex:B,showModal:W}):null,U?a().createElement(gt,{onModalChange:Z,onSchemaChange:o,resetIndices:ne,pageIndex:C,schema:c,showModal:U}):null,Y?a().createElement(bt,{onModalChange:V,onSchemaChange:o,resetIndices:ne,pageIndex:C,sectionIndex:B,schema:c,showModal:Y}):null,G?a().createElement(yt,{onModalChange:H,onSchemaChange:o,resetIndices:ne,pageIndex:C,sectionIndex:B,questionIndex:E,schema:c,showModal:G}):null,(null==c?void 0:c.name)&&a().createElement(a().Fragment,null,a().createElement("div",{className:un.header},a().createElement("div",{className:un.explainer},a().createElement("p",null,p("welcomeHeading","Welcome to the Interactive Schema builder")),a().createElement("p",null,p("welcomeExplainer","Add pages, sections and questions to your form. The Preview tab automatically updates as you build your form. For a detailed explanation of what constitutes an OpenMRS form schema, please read through the ")," ",a().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://ohri-docs.globalhealthapp.net/"},p("formBuilderDocs","form builder documentation"),"."))),a().createElement(s.zxk,{kind:"ghost",renderIcon:d.mm,onClick:function(){q(!0)},iconDescription:p("addPage","Add Page")},p("addPage","Add Page"))),a().createElement("div",{className:un.editorContainer},a().createElement(Zt,{elementType:"schema",id:"formNameInput",value:null==c?void 0:c.name,onSave:function(e){return re(e)}}))),!h&&!(null==c?void 0:c.name)&&a().createElement("div",{className:un.header},a().createElement("p",{className:un.explainer},p("interactiveBuilderHelperText","The Interactive Builder lets you build your form schema without writing JSON code. The Preview tab automatically updates as you build your form. When done, click Save Form to save your form.")),a().createElement(s.zxk,{onClick:function(){te(),ee(!0)},className:un.startButton,kind:"ghost"},p("startBuilding","Start building"))),a().createElement(it.LB,{onDragEnd:function(e){return function(e){var t=e.active,n=e.delta;if(t){var r=t.id.toString().split("-"),a=parseInt(r[1]),i=parseInt(r[2]),l=parseInt(r[3]),s=c.pages[a].sections[i].questions,u=s[l];s.splice(l,1),s.splice(l+n.y,0,u);var d=fn(_n({},c),{pages:c.pages.map((function(e,t){return t===a?fn(_n({},e),{sections:e.sections.map((function(e,t){return t===i?fn(_n({},e),{questions:(n=s,function(e){if(Array.isArray(e))return dn(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||bn(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}):e;var n}))}):e}))});o(d)}}(e)},sensors:f},(null==c||null===(t=c.pages)||void 0===t?void 0:t.length)?c.pages.map((function(e,t){var n,r,o;return a().createElement("div",{className:un.editableFieldsContainer},a().createElement("div",{style:{display:"flex",alignItems:"center"}},a().createElement("div",{className:un.editorContainer},a().createElement(Zt,{elementType:"page",id:"pageNameInput",value:c.pages[t].label,onSave:function(e){return ae(e,t)}})),a().createElement(s.zxk,{hasIconOnly:!0,enterDelayMs:300,iconDescription:p("deletePage","Delete page"),kind:"ghost",onClick:function(){y(t),Z(!0)},renderIcon:function(e){return a().createElement(u.ZN,_n({size:16},e))},size:"sm"})),a().createElement("div",null,(null==e||null===(n=e.sections)||void 0===n?void 0:n.length)?a().createElement("p",{className:un.sectionExplainer},p("expandSectionExplainer","Below are the sections linked to this page. Expand each section to add questions to it.")):null,(null==e||null===(r=e.sections)||void 0===r?void 0:r.length)?null===(o=e.sections)||void 0===o?void 0:o.map((function(e,n){var r;return a().createElement(s.UQy,null,a().createElement(s.Qdk,{title:e.label},a().createElement(a().Fragment,null,a().createElement("div",{style:{display:"flex",alignItems:"center"}},a().createElement("div",{className:un.editorContainer},a().createElement(Zt,{elementType:"section",id:"sectionNameInput",value:e.label,onSave:function(e){return oe(e,t,n)}})),a().createElement(s.zxk,{hasIconOnly:!0,enterDelayMs:300,iconDescription:p("deleteSection","Delete section"),kind:"ghost",onClick:function(){y(t),O(n),V(!0)},renderIcon:function(e){return a().createElement(u.ZN,_n({size:16},e))},size:"sm"})),a().createElement("div",null,(null===(r=e.questions)||void 0===r?void 0:r.length)?e.questions.map((function(r,o){return a().createElement(ln,{id:"droppable-question-".concat(t,"-").concat(n,"-").concat(o)},a().createElement(on,{key:r.id,question:r,pageIndex:t,sectionIndex:n,questionIndex:o,handleDuplicateQuestion:ie,handleEditButtonClick:le,handleDeleteButtonClick:se,questionCount:e.questions.length}))})):a().createElement("p",{className:un.explainer},p("sectionExplainer","A section will typically contain one or more questions. Click the button below to add a question to this section.")),a().createElement(s.zxk,{className:un.addQuestionButton,kind:"ghost",renderIcon:d.mm,onClick:function(){z(!0),w(E),y(t),O(n)},iconDescription:p("addQuestion","Add Question")},p("addQuestion","Add Question"))))))})):a().createElement("p",{className:un.explainer},p("pageExplainer","Pages typically have one or more sections. Click the button below to add a section to your page."))),a().createElement(s.zxk,{className:un.addSectionButton,kind:"ghost",renderIcon:d.mm,onClick:function(){L(!0),y(t)},iconDescription:p("addSection","Add Section")},p("addSection","Add Section")))})):null))};var gn=n(74981),Cn=(n(66245),n(82679),n(14858)),yn={};yn.styleTagTransform=H(),yn.setAttributes=U(),yn.insert=L().bind(null,"head"),yn.domAPI=j(),yn.insertStyleElement=R(),N()(Cn.Z,yn);const vn=Cn.Z&&Cn.Z.locals?Cn.Z.locals:void 0,En=function(e){var t=e.invalidJsonErrorMessage,n=e.onSchemaChange,r=e.stringifiedSchema,o=(0,l.useTranslation)().t;return a().createElement(a().Fragment,null,t?a().createElement("div",{className:vn.errorContainer},a().createElement("p",{className:vn.heading},o("schemaError","There's an error in your schema.")),a().createElement("p",null,t)):null,a().createElement(gn.ZP,{style:{height:"100vh",width:"100%"},mode:"json",theme:"textmate",name:"schemaEditor",onChange:n,fontSize:15,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!0,value:r,setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,displayIndentGuides:!0,enableSnippets:!1,showLineNumbers:!0,tabSize:2}}))};var wn=n(34553),kn={};kn.styleTagTransform=H(),kn.setAttributes=U(),kn.insert=L().bind(null,"head"),kn.domAPI=j(),kn.insertStyleElement=R(),N()(wn.Z,kn);const Sn=wn.Z&&wn.Z.locals?wn.Z.locals:void 0;function xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dn(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function Bn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Dn(o,r,a,i,l,"next",e)}function l(e){Dn(o,r,a,i,l,"throw",e)}i(void 0)}))}}function On(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){On(e,t,n[t])}))}return e}function Tn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var qn=function(e){var t=e.error,n=e.title;return a().createElement(s.K0D,{className:Sn.errorNotification,kind:"error",lowContrast:!0,subtitle:null==t?void 0:t.message,title:n})};function Fn(){var e=(0,l.useTranslation)().t;return a().createElement("div",{className:Sn.backButton},a().createElement(m.ConfigurableLink,{to:window.getOpenmrsSpaBase()+"form-builder"},a().createElement(s.zxk,{kind:"ghost",renderIcon:function(e){return a().createElement(d.Xd,In({size:24},e))},iconDescription:"Return to dashboard"},a().createElement("span",null,e("backToDashboard","Back to dashboard")))))}const Nn=function(){var e=(0,l.useTranslation)().t,t=(0,i.UO)().formUuid,n=!t,o=Tn((0,r.useState)(),2),u=o[0],d=o[1],m=Tn((0,r.useState)(!1),2),A=m[0],_=m[1],f=xe(t),p=f.form,b=f.formError,h=f.isLoadingForm,g=K(p),C=g.clobdata,y=g.clobdataError,v=g.isLoadingClobdata,E=Tn((0,r.useState)("idle"),2),w=E[0],k=E[1],S=Tn((0,r.useState)(u?JSON.stringify(u,null,2):""),2),x=S[0],D=S[1],B=Boolean(t)&&(v||h);(0,r.useEffect)((function(){t&&(p&&Object.keys(p).length>0&&k("formLoaded"),"formLoaded"!==w||v||void 0!==C||_(!0),C&&Object.keys(C).length>0&&(k("schemaLoaded"),d(C),localStorage.setItem("formJSON",JSON.stringify(C))))}),[C,p,t,v,B,w]),(0,r.useEffect)((function(){D(JSON.stringify(u,null,2))}),[u]);var O=(0,r.useCallback)((function(){_(!1);try{var e=localStorage.getItem("formJSON");e&&d(JSON.parse(e))}catch(e){console.error("Error fetching draft schema from localStorage: ",null==e?void 0:e.message)}}),[]),I=(0,r.useCallback)((function(e){D(e)}),[]),T=(0,r.useCallback)((function(e){d(e),localStorage.setItem("formJSON",JSON.stringify(e))}),[]),q=(0,r.useCallback)((function(){var e={encounterType:"",name:"Sample Form",processor:"EncounterFormProcessor",referencedForms:[],uuid:"",version:"1.0",pages:[{label:"First Page",sections:[{label:"A Section",isExpanded:"true",questions:[{id:"sampleQuestion",label:"A Question of type obs that renders a text input",type:"obs",questionOptions:{rendering:"text",concept:"a-system-defined-concept-uuid"}}]},{label:"Another Section",isExpanded:"true",questions:[{id:"anotherSampleQuestion",label:"Another Question of type obs whose answers get rendered as radio inputs",type:"obs",questionOptions:{rendering:"radio",concept:"system-defined-concept-uuid",answers:[{concept:"another-system-defined-concept-uuid",label:"Choice 1",conceptMappings:[]},{concept:"yet-another-system-defined-concept-uuid",label:"Choice 2",conceptMappings:[]},{concept:"yet-one-more-system-defined-concept-uuid",label:"Choice 3",conceptMappings:[]}]}}]}]}]};D(JSON.stringify(e,null,2)),T(In({},e))}),[T]),F=Tn((0,r.useState)(""),2),N=F[0],z=F[1],j=(0,r.useCallback)((function(){z("")}),[]),P=(0,r.useCallback)((function(){j();try{var e=JSON.parse(x);T(e),D(JSON.stringify(e,null,2))}catch(e){t=e,(null!=(n=Error)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](t):t instanceof n)&&z(e.message)}var t,n}),[x,T,j]),L=function(){return a().createElement(s.lpG,{open:A,onClose:function(){return _(!1)},preventCloseOnClickOutside:!0},a().createElement(s.xBx,{title:e("schemaNotFound","Schema not found")}),a().createElement(s.l09,{onSubmit:function(e){return e.preventDefault()}},a().createElement(s.fef,null,a().createElement("p",null,e("schemaNotFoundText","The schema originally associated with this form could not be found. A draft schema was found saved in your browser's local storage. Would you like to load it instead?")))),a().createElement(s.mzw,null,a().createElement(s.zxk,{onClick:function(){return _(!1)},kind:"secondary"},e("cancel","Cancel")),a().createElement(s.zxk,{onClick:O},a().createElement("span",null,e("loadDraft","Load draft")))))},M=(0,r.useMemo)((function(){return new Blob([JSON.stringify(u,null,2)],{type:"application/json"})}),[u]),U=(0,r.useCallback)(Bn((function(){return function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}(this,(function(e){switch(e.label){case 0:return[4,navigator.clipboard.writeText(x)];case 1:return e.sent(),[2]}}))})),[x]);return a().createElement(a().Fragment,null,a().createElement(Ae,{title:e("schemaEditor","Schema editor")}),a().createElement(Fn,null),a().createElement("div",{className:Sn.container},A&&a().createElement(L,null),a().createElement(s.rjZ,{className:Sn.grid},a().createElement(s.sgG,{lg:8,md:8,className:Sn.column},a().createElement("div",{className:Sn.actionButtons},B?a().createElement(s.lSo,{description:e("loadingSchema","Loading schema")+"..."}):a().createElement("h1",{className:Sn.formName},null==p?void 0:p.name),a().createElement("div",null,n&&!u?a().createElement(s.zxk,{kind:"ghost",onClick:q},e("inputDummySchema","Input dummy schema")):null,a().createElement(s.zxk,{kind:"ghost",onClick:P},a().createElement("span",null,e("renderChanges","Render changes"))))),a().createElement("div",null,a().createElement("div",{className:Sn.heading},a().createElement("span",{className:Sn.tabHeading},e("schemaEditor","Schema editor")),u?a().createElement(a().Fragment,null,a().createElement(s.qi1,{align:"top",className:"cds--btn--md",enterDelayMs:300,iconDescription:e("copySchema","Copy schema"),kind:"ghost",onClick:U}),a().createElement("a",{download:"".concat(null==p?void 0:p.name,".json"),href:window.URL.createObjectURL(M)},a().createElement(s.zxk,{enterDelayMs:300,renderIcon:c.UW,kind:"ghost",iconDescription:e("downloadSchema","Download schema"),hasIconOnly:!0,size:"md",tooltipAlignment:"start"}))):null),b?a().createElement(qn,{error:b,title:e("formError","Error loading form metadata")}):null,y?a().createElement(qn,{error:y,title:e("schemaLoadError","Error loading schema")}):null,a().createElement("div",{className:Sn.editorContainer},a().createElement(En,{invalidJsonErrorMessage:N,isLoading:B,onSchemaChange:I,stringifiedSchema:x})))),a().createElement(s.sgG,{lg:8,md:8,className:Sn.column},a().createElement(We,{schema:u,t:e}),a().createElement(s.mQc,null,a().createElement(s.tdY,{"aria-label":"Form previews"},a().createElement(s.OK9,null,e("preview","Preview")),a().createElement(s.OK9,null,e("interactiveBuilder","Interactive Builder")),p&&a().createElement(s.OK9,null,e("auditDetails","Audit Details"))),a().createElement(s.nPR,null,a().createElement(s.x45,null,a().createElement(ot,{schema:u,isLoading:B})),a().createElement(s.x45,null,a().createElement(hn,{schema:u,onSchemaChange:T,isLoading:B})),a().createElement(s.x45,null,p&&a().createElement(Ke,{form:p,key:p.uuid}))))))))},zn=function(){return a().createElement(o.VK,{basename:"".concat(window.spaBase,"/form-builder")},a().createElement(i.Z5,null,a().createElement(i.AW,{path:"/",element:a().createElement(Se,null)}),a().createElement(i.AW,{path:"/new",element:a().createElement(Nn,null)}),a().createElement(i.AW,{path:"/edit/:formUuid",element:a().createElement(Nn,null)})))}}}]);