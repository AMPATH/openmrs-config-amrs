{"version":3,"file":"489.js","mappings":"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","sources":["webpack://@openmrs/esm-patient-allergies-app/./src/allergies/allergies-form/allergy-form.scss","webpack://@openmrs/esm-patient-allergies-app/./src/allergies/allergies-form/allergy-form.scss?8561","webpack://@openmrs/esm-patient-allergies-app/./src/allergies/allergies-form/allergy-form.component.tsx","webpack://@openmrs/esm-patient-allergies-app/./src/allergies/allergies-form/allergy-form.resource.ts"],"names":["___CSS_LOADER_EXPORT___","push","module","id","locals","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","undefined","allergyFormSchema","z","object","allergen","uuid","string","display","type","required","nonCodedAllergen","optional","allergicReactions","array","nonCodedAllergicReaction","severityOfWorstReaction","comment","AllergicReactionsField","methods","control","setValue","handleAllergicReactionChange","useCallback","onChange","checked","index","shouldValidate","controlledFields","map","reaction","Controller","key","name","defaultValue","render","field","onBlur","value","Checkbox","className","styles","checkbox","labelText","event","Boolean","React","props","allergyReactionUuid","useSWRImmutable","data","closeWorkspace","patientUuid","promptBeforeClosing","closeWorkspaceWithSavedChanges","useTranslation","t","useConfig","concepts","isTablet","useLayoutType","severityLevels","patientState","useMemo","mildReactionUuid","severeReactionUuid","moderateReactionUuid","otherConceptUuid","useAllergicReactions","restBaseUrl","openmrsFetch","isLoading","allergicReactionsData","setMembers","allergicReaction","drugAllergenUuid","environmentalAllergenUuid","foodAllergenUuid","allergens","extract","allergenData","forEach","drugAllergenData","AllergenType","DRUG","environmentalAllergenData","ENVIRONMENT","foodAllergenData","FOOD","splice","sort","a","b","localeCompare","useAllergens","useState","isDisabled","setIsDisabled","useAllergies","mutate","useForm","mode","resolver","zodResolver","defaultValues","handleSubmit","watch","formState","isDirty","useEffect","selectedAllergen","selectedAllergicReactions","selectedSeverityOfWorstReaction","selectednonCodedAllergen","selectedNonCodedAllergicReaction","reactionsValidation","some","item","onSubmit","filter","payload","allergenType","codedAllergen","severity","reactions","reactionNonCoded","abortController","AbortController","headers","method","body","signal","saveAllergy","then","response","status","showSnackbar","isLowContrast","kind","title","subtitle","err","message","finally","abort","Form","Row","header","ExtensionSlot","content","state","div","form","Stack","gap","formContent","InlineNotification","style","minWidth","lowContrast","hideCloseButton","ResponsiveWrapper","FormGroup","legendText","data-testid","ComboBox","items","OTHER","itemToString","placeholder","selectedItem","TextInput","checkboxContainer","InlineLoading","description","includes","input","RadioButtonGroup","toString","valueSelected","RadioButton","toLowerCase","TextArea","invalidText","rows","ButtonSet","classNames","tabletButtons","desktopButtons","actionButtons","Button","button","onClick","disabled"],"sourceRoot":""}