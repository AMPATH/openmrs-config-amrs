"use strict";(globalThis.webpackChunk_openmrs_esm_laboratory_app=globalThis.webpackChunk_openmrs_esm_laboratory_app||[]).push([[512],{7028:(e,t,r)=>{r.d(t,{c:()=>i});var n=r(6004),a=r.n(n),o=r(1056),l=r.n(o)()(a());l.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory__review-list__link___nSO3j{text-decoration:none}.-esm-laboratory__review-list__tableToolbar___kLmH9{position:static}.-esm-laboratory__review-list__tableContainer___dZ5mD{background-color:#f4f4f4;margin:0 1rem;padding:0}.-esm-laboratory__review-list__tableContainer___dZ5mD a{text-decoration:none}.-esm-laboratory__review-list__tableContainer___dZ5mD th{color:#525252}.-esm-laboratory__review-list__tableContainer___dZ5mD .cds--data-table{background-color:#e0e0e0}.-esm-laboratory__review-list__tableContainer___dZ5mD .-esm-laboratory__review-list__toolbarContent___TOv1h{height:2rem;margin-bottom:.25rem}.-esm-laboratory__review-list__activePatientsTable___CuHXN tr:last-of-type td{border-bottom:none}.-esm-laboratory__review-list__container___dMBNR{background-color:#f4f4f4}.-esm-laboratory__review-list__tileContainer___GnCVc{background-color:#fff;border-top:1px solid #e0e0e0;padding:5rem 0}.-esm-laboratory__review-list__tile___hwxYH{margin:auto;width:fit-content}.-esm-laboratory__review-list__tileContent___l78P3{display:flex;flex-direction:column;align-items:center}.-esm-laboratory__review-list__content___Ck6JE{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252;margin-bottom:.5rem}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/review-list/review-list.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,4CACE,oBAAA,CAGF,oDACE,eAAA,CAIF,sDACE,wBDdM,CCeN,aAAA,CACA,SAAA,CAEA,wDACE,oBAAA,CAGF,yDACE,aDlBM,CCqBR,uEACE,wBDzBI,CC4BN,4GACE,WCUS,CDTT,oBChBS,CDqBX,8EACE,kBAAA,CAIJ,iDACE,wBD3CM,CC8CR,qDACE,qBD9CM,CC+CN,4BAAA,CACA,cAAA,CAGF,4CACE,WAAA,CACA,iBAAA,CAGF,mDACE,YAAA,CACA,qBAAA,CACA,kBAAA,CAGF,+CEmyBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CFjyBF,aD5DQ,CC6DR,mBAAA",sourceRoot:""}]),l.locals={link:"-esm-laboratory__review-list__link___nSO3j",tableToolbar:"-esm-laboratory__review-list__tableToolbar___kLmH9",tableContainer:"-esm-laboratory__review-list__tableContainer___dZ5mD",toolbarContent:"-esm-laboratory__review-list__toolbarContent___TOv1h",activePatientsTable:"-esm-laboratory__review-list__activePatientsTable___CuHXN",container:"-esm-laboratory__review-list__container___dMBNR",tileContainer:"-esm-laboratory__review-list__tileContainer___GnCVc",tile:"-esm-laboratory__review-list__tile___hwxYH",tileContent:"-esm-laboratory__review-list__tileContent___l78P3",content:"-esm-laboratory__review-list__content___Ck6JE"};const i=l},856:(e,t,r)=>{r.d(t,{c:()=>y});var n=r(3604),a=r.n(n),o=r(7200),l=r.n(o),i=r(8272),s=r.n(i),c=r(712),u=r.n(c),_=r(6768),d=r.n(_),m=r(2116),p=r.n(m),A=r(7028),b={};b.styleTagTransform=p(),b.setAttributes=u(),b.insert=s().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=d(),a()(A.c,b);const y=A.c&&A.c.locals?A.c.locals:void 0},8512:(e,t,r)=>{r.r(t),r.d(t,{default:()=>C});var n=r(7244),a=r.n(n),o=r(4652),l=r(3232),i=r(8704),s=r(3444),c=r(856),u=r(8988),_=r(6456);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){m(e,t,r[t])}))}return e}function A(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=function(e){var t=e.encounterUuid,r=(0,o.useTranslation)().t,l=(0,n.useCallback)((function(){var e=(0,i.showModal)("review-item-dialog",{encounterUuid:t,closeModal:function(){return e()}})}),[t]);return a().createElement(s.qaq,{kind:"ghost",onClick:l,iconDescription:r("approveTest","Approve Results"),renderIcon:function(e){return a().createElement(u.OM,p({size:16},e))}},r("approveTest","Approve Results"))};const v=function(e){var t=e.fulfillerStatus,r=(0,o.useTranslation)().t,u=b((0,n.useState)(""),2),d=u[0],m=u[1],v=(0,l.a)(d,t),C=v.workListEntries,g=v.isLoading,f=[10,20,30,40,50],E=b((0,n.useState)(1),2),h=(E[0],E[1],b((0,n.useState)(10),2)),w=h[0],D=h[1],k=b((0,n.useState)(0),2),O=(k[0],k[1],(0,i.usePagination)(C,w)),S=O.goTo,T=O.results,N=O.currentPage,P=[{id:0,header:r("date","Date"),key:"date"},{id:1,header:r("orderNumber","Order Number"),key:"orderNumber"},{id:2,header:r("patient","Patient"),key:"patient"},{id:3,header:r("accessionNumber","Accession Number"),key:"accessionNumber"},{id:4,header:r("test","Test"),key:"test"},{id:5,header:r("action","Action"),key:"action"},{id:6,header:r("status","Status"),key:"status"},{id:8,header:r("orderer","Orderer"),key:"orderer"},{id:9,header:r("urgency","Urgency"),key:"urgency"}],B=(0,n.useMemo)((function(){return null==T?void 0:T.map((function(e,t){return A(p({},e),{id:e.uuid,date:{content:a().createElement(a().Fragment,null,a().createElement("span",null,(0,i.formatDate)((0,i.parseDate)(e.dateActivated))))},patient:{content:a().createElement(a().Fragment,null,a().createElement("span",null,e.patient.display.split("-")[1]))},orderNumber:{content:a().createElement("span",null,e.orderNumber)},accessionNumber:{content:a().createElement("span",null,e.accessionNumber)},test:{content:a().createElement("span",null,e.concept.display)},action:{content:a().createElement("span",null,e.action)},status:{content:a().createElement(a().Fragment,null,a().createElement(s.EDW,null,a().createElement("span",{className:c.c.statusContainer,style:{color:"".concat((0,_.gN)(e.fulfillerStatus))}},a().createElement("span",null,e.fulfillerStatus))))},orderer:{content:a().createElement("span",null,e.orderer.display)},orderType:{content:a().createElement("span",null,e.orderType.display)},urgency:{content:a().createElement("span",null,e.urgency)}})}))}),[T]);return g?a().createElement(s.m2V,{role:"progressbar"}):(null==T?void 0:T.length)>=0?a().createElement(s.iSL,{rows:B,headers:P,useZebraStyles:!0},(function(e){var t=e.rows,n=e.headers,o=e.getHeaderProps,l=e.getTableProps,i=e.getRowProps,u=e.onInputChange;return a().createElement(s._tR,{className:c.c.tableContainer},a().createElement(s.MBp,{style:{position:"static"}},a().createElement(s.aGn,null,a().createElement(s.ar0,{style:{margin:"5px"}},a().createElement(s.I4g,{dateFormat:"Y-m-d",datePickerType:"single"},a().createElement(s.Mjs,{labelText:"",id:"activatedOnOrAfterDate",placeholder:"YYYY-MM-DD",onChange:function(e){m(e.target.value)},type:"date",value:d}))),a().createElement(s.ar0,null,a().createElement(s.OWJ,{onChange:u,placeholder:r("searchThisList","Search this list"),size:"sm"})))),a().createElement(s.oJK,A(p({},l()),{className:c.c.activePatientsTable}),a().createElement(s.iy5,null,a().createElement(s.CGA,null,n.map((function(e){var t,r;return a().createElement(s.IEe,o({header:e}),null!==(r=null===(t=e.header)||void 0===t?void 0:t.content)&&void 0!==r?r:e.header)})))),a().createElement(s.qqV,null,t.map((function(e,t){return a().createElement(a().Fragment,{key:e.id},a().createElement(s.CGA,A(p({},i({row:e})),{key:e.id}),e.cells.map((function(e){var t,r;return a().createElement(s.y6P,{key:e.id},null!==(r=null===(t=e.value)||void 0===t?void 0:t.content)&&void 0!==r?r:e.value)})),a().createElement(s.y6P,{className:"cds--table-column-menu"},a().createElement(y,{encounterUuid:T[t].encounter.uuid}))))})))),0===t.length?a().createElement("div",{className:c.c.tileContainer},a().createElement(s.g$J,{className:c.c.tile},a().createElement("div",{className:c.c.tileContent},a().createElement("p",{className:c.c.content},r("noReviewListToDisplay","No review list to display"))))):null,a().createElement(s.eML,{forwardText:"Next page",backwardText:"Previous page",page:N,pageSize:w,pageSizes:f,totalItems:null==C?void 0:C.length,className:c.c.pagination,onChange:function(e){var t=e.pageSize,r=e.page;t!==w&&D(t),r!==N&&S(r)}}))})):void 0},C=function(){return a().createElement("div",null,a().createElement(v,{fulfillerStatus:"IN_PROGRESS"}))}},6456:(e,t,r)=>{r.d(t,{gN:()=>o,sv:()=>l});var n=r(8704),a=r(2544),o=function(e){return"COMPLETED"===e?"green":"IN_PROGRESS"===e?"orange":"red"};function l(e){var t="/ws/rest/v1/patient/".concat(e,"?v=full"),r=(0,a.cp)(t,n.openmrsFetch),o=r.data,l=r.error,i=r.isLoading;return{patient:null==o?void 0:o.data,isLoading:i,isError:l}}},3232:(e,t,r)=>{r.d(t,{a:()=>o});var n=r(8704),a=r(2544);function o(e,t){var r="/ws/rest/v1/order?orderTypes=52a447d3-a64a-11e3-9aeb-50e549534c5e&activatedOnOrAfterDate=".concat(e,"&isStopped=false&fulfillerStatus=").concat(t,"&v=full\n"),o=(0,a.cp)(r,n.openmrsFetch),l=o.data,i=o.error,s=o.isLoading;return{workListEntries:(null==l?void 0:l.data)?l.data.results:[],isLoading:s,isError:i}}}}]);