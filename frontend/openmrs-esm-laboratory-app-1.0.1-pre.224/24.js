"use strict";(globalThis.webpackChunk_openmrs_esm_laboratory_app=globalThis.webpackChunk_openmrs_esm_laboratory_app||[]).push([[24],{7028:(e,t,r)=>{r.d(t,{c:()=>i});var n=r(6004),o=r.n(n),l=r(1056),a=r.n(l)()(o());a.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-laboratory__review-list__link___nSO3j{text-decoration:none}.-esm-laboratory__review-list__tableToolbar___kLmH9{position:static}.-esm-laboratory__review-list__tableContainer___dZ5mD{background-color:#f4f4f4;margin:0 1rem;padding:0}.-esm-laboratory__review-list__tableContainer___dZ5mD a{text-decoration:none}.-esm-laboratory__review-list__tableContainer___dZ5mD th{color:#525252}.-esm-laboratory__review-list__tableContainer___dZ5mD .cds--data-table{background-color:#e0e0e0}.-esm-laboratory__review-list__tableContainer___dZ5mD .-esm-laboratory__review-list__toolbarContent___TOv1h{height:2rem;margin-bottom:.25rem}.-esm-laboratory__review-list__activePatientsTable___CuHXN tr:last-of-type td{border-bottom:none}.-esm-laboratory__review-list__container___dMBNR{background-color:#f4f4f4}.-esm-laboratory__review-list__tileContainer___GnCVc{background-color:#fff;border-top:1px solid #e0e0e0;padding:5rem 0}.-esm-laboratory__review-list__tile___hwxYH{margin:auto;width:fit-content}.-esm-laboratory__review-list__tileContent___l78P3{display:flex;flex-direction:column;align-items:center}.-esm-laboratory__review-list__content___Ck6JE{font-size:var(--cds-heading-compact-02-font-size, 1rem);font-weight:var(--cds-heading-compact-02-font-weight, 600);line-height:var(--cds-heading-compact-02-line-height, 1.375);letter-spacing:var(--cds-heading-compact-02-letter-spacing, 0);color:#525252;margin-bottom:.5rem}","",{version:3,sources:["webpack://./node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/review-list/review-list.scss","webpack://./node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CCnDF,4CACE,oBAAA,CAGF,oDACE,eAAA,CAIF,sDACE,wBDdM,CCeN,aAAA,CACA,SAAA,CAEA,wDACE,oBAAA,CAGF,yDACE,aDlBM,CCqBR,uEACE,wBDzBI,CC4BN,4GACE,WCUS,CDTT,oBChBS,CDqBX,8EACE,kBAAA,CAIJ,iDACE,wBD3CM,CC8CR,qDACE,qBD9CM,CC+CN,4BAAA,CACA,cAAA,CAGF,4CACE,WAAA,CACA,iBAAA,CAGF,mDACE,YAAA,CACA,qBAAA,CACA,kBAAA,CAGF,+CEmyBI,uDAAA,CAAA,0DAAA,CAAA,4DAAA,CAAA,8DAAA,CFjyBF,aD5DQ,CC6DR,mBAAA",sourceRoot:""}]),a.locals={link:"-esm-laboratory__review-list__link___nSO3j",tableToolbar:"-esm-laboratory__review-list__tableToolbar___kLmH9",tableContainer:"-esm-laboratory__review-list__tableContainer___dZ5mD",toolbarContent:"-esm-laboratory__review-list__toolbarContent___TOv1h",activePatientsTable:"-esm-laboratory__review-list__activePatientsTable___CuHXN",container:"-esm-laboratory__review-list__container___dMBNR",tileContainer:"-esm-laboratory__review-list__tileContainer___GnCVc",tile:"-esm-laboratory__review-list__tile___hwxYH",tileContent:"-esm-laboratory__review-list__tileContent___l78P3",content:"-esm-laboratory__review-list__content___Ck6JE"};const i=a},856:(e,t,r)=>{r.d(t,{c:()=>f});var n=r(3604),o=r.n(n),l=r(7200),a=r.n(l),i=r(8272),c=r.n(i),s=r(712),u=r.n(s),d=r(6768),_=r.n(d),p=r(2116),m=r.n(p),b=r(7028),v={};v.styleTagTransform=m(),v.setAttributes=u(),v.insert=c().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=_(),o()(b.c,v);const f=b.c&&b.c.locals?b.c.locals:void 0},1432:(e,t,r)=>{r.d(t,{Ip:()=>l});var n=r(8704),o=r(2544);function l(e){var t="/ws/rest/v1/concept/".concat(e,"?v=full"),r=(0,o.cp)(t,n.openmrsFetch),l=r.data,a=r.error,i=r.isLoading;return{concept:null==l?void 0:l.data,isLoading:i,isError:a}}},6024:(e,t,r)=>{r.r(t),r.d(t,{default:()=>v});var n=r(7244),o=r.n(n),l=r(3444),a=r(4652),i=r(8704),c=r(2544),s=r(856),u=r(1432);function d(e,t,r,n,o,l,a){try{var i=e[l](a),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,o)}function _(){var e;return e=function(e){var t;return function(e,t){var r,n,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&l[0]?n.return:l[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,l[1])).done)return o;switch(n=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,n=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(e){l=[6,e],n=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}}(this,(function(r){return t=new AbortController,[2,(0,i.openmrsFetch)("/ws/rest/v1/approveorder",{method:"POST",headers:{"Content-Type":"application/json"},signal:t.signal,body:e})]}))},_=function(){var t=this,r=arguments;return new Promise((function(n,o){var l=e.apply(t,r);function a(e){d(l,n,o,a,i,"next",e)}function i(e){d(l,n,o,a,i,"throw",e)}a(void 0)}))},_.apply(this,arguments)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t,r,n,o,l,a){try{var i=e[l](a),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,o)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const v=function(e){var t,r,d,v,f=e.encounterUuid,A=e.closeModal,y=(0,a.useTranslation)().t,h=function(e){var t="/ws/rest/v1/encounter/".concat(e,"?v=full"),r=(0,c.cp)(t,i.openmrsFetch),n=r.data,o=r.error,l=r.isLoading;return{encounter:null==n?void 0:n.data,isLoading:l,isError:o}}(f),C=h.encounter,w=h.isLoading,E=(0,n.useMemo)((function(){return null==C?void 0:C.orders.filter((function(e){return"Test Order"===(null==e?void 0:e.orderType.display)}))}),[null==C?void 0:C.orders]),g=(0,n.useMemo)((function(){var e=[];return null==E||E.forEach((function(t){e[t.display]=t})),e}),[E]),k=(d=(0,n.useState)({}),v=2,function(e){if(Array.isArray(e))return e}(d)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l=[],a=!0,i=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(i)throw o}}return l}}(d,v)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(d,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),O=k[0],D=k[1],j=function(e,t,r){D((function(n){return o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){b(e,t,r[t])}))}return e}({},n),l=null!=(l=b({},e,{groupMembers:t,uuid:r}))?l:{},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(l)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(l)).forEach((function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(l,e))})),o;var o,l}))},B=(t=function(e){var t;return function(e,t){var r,n,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&l[0]?n.return:l[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,l[1])).done)return o;switch(n=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,n=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(e){l=[6,e],n=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}}(this,(function(r){return e.preventDefault(),t=[],Object.keys(O).map((function(e,r){t.push(g[e].uuid)})),function(e){return _.apply(this,arguments)}({orders:t.join(",")}).then((function(){(0,i.showSnackbar)({isLowContrast:!0,title:y("approveOrder","Approve Order"),kind:"success",subtitle:y("successfullyApproved","You have successfully approved Order ")}),A()}),(function(e){(0,i.showNotification)({title:y("errorApproving order', 'Error Approving a order"),kind:"error",critical:!0,description:null==e?void 0:e.message})})),[2]}))},r=function(){var e=this,r=arguments;return new Promise((function(n,o){var l=t.apply(e,r);function a(e){m(l,n,o,a,i,"next",e)}function i(e){m(l,n,o,a,i,"throw",e)}a(void 0)}))},function(e){return r.apply(this,arguments)}),T=function(e){var t,r=e.conceptUuid,n=(0,u.Ip)(r),a=n.concept,i=n.isLoading,c=n.isError;return i?o().createElement(l.kp8,{status:"active"}):c?o().createElement("span",null,"Error"):o().createElement("span",{className:s.c.valueWidget},null!==(t=null==a?void 0:a.units)&&void 0!==t?t:"N/A")},P=function(e){var t=e.conceptUuid,r=(0,u.Ip)(t),n=r.concept,a=r.isLoading,i=r.isError;if(a)return o().createElement(l.kp8,{status:"active"});if(i)return o().createElement("span",null,"Error");var c=(null==n?void 0:n.lowNormal)||"--",s=(null==n?void 0:n.hiNormal)||"--";return o().createElement(o().Fragment,null,void 0===(null==n?void 0:n.hiNormal)||void 0===(null==n?void 0:n.lowNormal)?"N/A":o().createElement("div",null,o().createElement("span",null,c)," : ",o().createElement("span",null,s)))},S=function(e){var t=e.groupMembers;return o().createElement(o().Fragment,null,null==t?void 0:t.map((function(e,t){return o().createElement("tr",{key:t},o().createElement("td",null,null==e?void 0:e.concept.display),o().createElement("td",null,"object"==typeof e.value?e.value.display:e.value),o().createElement("td",null,o().createElement(P,{conceptUuid:e.concept.uuid})),o().createElement("td",null,o().createElement(T,{conceptUuid:e.concept.uuid})))})))};return o().createElement("div",null,o().createElement(l.QFz,null,o().createElement(l.kPY,{closeModal:A,title:y("approveResult","Approve Result")}),o().createElement(l.aUI,null,w&&o().createElement(l.kp8,{className:s.c.bannerLoading,iconDescription:"Loading",description:"Loading banner",status:"active"}),o().createElement("section",{className:s.c.section},o().createElement("table",null,o().createElement("tbody",null,Object.keys(g).length>0?Object.keys(g).map((function(e,t){var r,n,a,i,c=g[e],u=c.uuid,d=c.groupMembers,_=u&&(null==d?void 0:d.length)>0;return o().createElement("tr",{key:e,style:{margin:"10px"}},o().createElement(l.ywS,{key:t,className:s.c.checkbox,onChange:function(){return j(e,d,u)},labelText:e,id:"test-".concat(e),checked:O[e]||!1}),o().createElement("table",{style:{margin:"10px"}},o().createElement("thead",null,o().createElement("tr",null,o().createElement("th",null,"Tests"),o().createElement("th",null,"Result"),o().createElement("th",null,"Reference Range"),o().createElement("th",null,"Units"))),o().createElement("tbody",null,_&&o().createElement(S,{groupMembers:d}),!_&&o().createElement("tr",null,o().createElement("td",null,o().createElement("span",null,null===(n=g[e])||void 0===n||null===(r=n.order)||void 0===r?void 0:r.display)),o().createElement("td",null,o().createElement("span",null,null===(i=g[e])||void 0===i||null===(a=i.value)||void 0===a?void 0:a.display)),o().createElement("td",null,o().createElement("span",null,"N/A")),o().createElement("td",null,o().createElement("span",null,"N/A"))))))})):"No tests were added")))),o().createElement(l._AC,null,o().createElement(l.qaq,{kind:"secondary",onClick:A},y("cancel","Cancel")),o().createElement(l.qaq,{type:"submit",onClick:B},y("approveResult","Approve Result")))))}}}]);