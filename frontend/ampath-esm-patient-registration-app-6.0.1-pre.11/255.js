/*! For license information please see 255.js.LICENSE.txt */
"use strict";(globalThis.webpackChunk_ampath_esm_patient_registration_app=globalThis.webpackChunk_ampath_esm_patient_registration_app||[]).push([[255],{452:(e,t,n)=>{var r=n(268),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useState,s=r.useEffect,u=r.useLayoutEffect,o=r.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return u((function(){i.value=n,i.getSnapshot=t,d(i)&&c({inst:i})}),[e,n,t]),s((function(){return d(i)&&c({inst:i}),e((function(){d(i)&&c({inst:i})}))}),[e]),o(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},3100:(e,t,n)=>{e.exports=n(452)},3255:(e,t,n)=>{n.d(t,{ZP:()=>u});var r=n(268),i=n(3100),a=n(3325);const s={dedupe:!0};a.OBJECT.defineProperty(a.SWRConfig,"defaultValue",{value:a.defaultConfig});var u=(0,a.withArgs)(((e,t,n)=>{const{cache:u,compare:o,suspense:d,fallbackData:c,revalidateOnMount:l,refreshInterval:f,refreshWhenHidden:E,refreshWhenOffline:g,keepPreviousData:p}=n,[h,v,S]=a.SWRGlobalState.get(u),[b,m]=(0,a.serialize)(e),U=(0,r.useRef)(!1),_=(0,r.useRef)(!1),R=(0,r.useRef)(b),C=(0,r.useRef)(t),T=(0,r.useRef)(n),y=()=>T.current,V=()=>y().isVisible()&&y().isOnline(),[w,k,I]=(0,a.createCacheHelper)(u,b),L=(0,r.useRef)({}).current,O=(0,a.isUndefined)(c)?n.fallback[b]:c,D=(e,t)=>{let n=!0;for(const r in L){const i=r;o(t[i],e[i])||"data"===i&&(0,a.isUndefined)(e[i])&&o(t[i],j)||(n=!1)}return n},N=(0,r.useMemo)((()=>{const e=!!b&&!!t&&((0,a.isUndefined)(l)?!y().isPaused()&&!d:l),n=()=>{const t=w(),n=(0,a.mergeObjects)(t);return delete n._k,e?{isValidating:!0,isLoading:!0,...n}:n};let r=n();return()=>{const e=n();return D(e,r)?r:r=e}}),[u,b]),F=(0,i.useSyncExternalStore)((0,r.useCallback)((e=>I(b,((t,n)=>{D(t,n)||e()}))),[u,b]),N,N),A=!U.current,P=F.data,x=(0,a.isUndefined)(P)?O:P,M=F.error,W=(0,r.useRef)(x),j=p?(0,a.isUndefined)(P)?W.current:P:x,G=A&&!(0,a.isUndefined)(l)?l:!y().isPaused()&&(d?!(0,a.isUndefined)(x)&&n.revalidateIfStale:(0,a.isUndefined)(x)||n.revalidateIfStale),H=!!(b&&t&&A&&G),Y=(0,a.isUndefined)(F.isValidating)?H:F.isValidating,q=(0,a.isUndefined)(F.isLoading)?H:F.isLoading,z=(0,r.useCallback)((async e=>{const t=C.current;if(!b||!t||_.current||y().isPaused())return!1;let r,i,s=!0;const u=e||{},d=!S[b]||!u.dedupe,c=()=>a.IS_REACT_LEGACY?!_.current&&b===R.current&&U.current:b===R.current,l={isValidating:!1,isLoading:!1},f=()=>{k(l)},E=()=>{const e=S[b];e&&e[1]===i&&delete S[b]},g={isValidating:!0};(0,a.isUndefined)(w().data)&&(g.isLoading=!0);try{if(d&&(k(g),n.loadingTimeout&&(0,a.isUndefined)(w().data)&&setTimeout((()=>{s&&c()&&y().onLoadingSlow(b,n)}),n.loadingTimeout),S[b]=[t(m),(0,a.getTimestamp)()]),[r,i]=S[b],r=await r,d&&setTimeout(E,n.dedupingInterval),!S[b]||S[b][1]!==i)return d&&c()&&y().onDiscarded(b),!1;l.error=a.UNDEFINED;const e=v[b];if(!(0,a.isUndefined)(e)&&(i<=e[0]||i<=e[1]||0===e[1]))return f(),d&&c()&&y().onDiscarded(b),!1;const u=w().data;l.data=o(u,r)?u:r,d&&c()&&y().onSuccess(r,b,n)}catch(e){E();const t=y(),{shouldRetryOnError:n}=t;t.isPaused()||(l.error=e,d&&c()&&(t.onError(e,b,t),(!0===n||(0,a.isFunction)(n)&&n(e))&&V()&&t.onErrorRetry(e,b,t,z,{retryCount:(u.retryCount||0)+1,dedupe:!0})))}return s=!1,f(),!0}),[b,u]),B=(0,r.useCallback)(((...e)=>(0,a.internalMutate)(u,R.current,...e)),[]);if((0,a.useIsomorphicLayoutEffect)((()=>{C.current=t,T.current=n,(0,a.isUndefined)(P)||(W.current=P)})),(0,a.useIsomorphicLayoutEffect)((()=>{if(!b)return;const e=z.bind(a.UNDEFINED,s);let t=0;const n=(0,a.subscribeCallback)(b,h,(n=>{if(n==a.revalidateEvents.FOCUS_EVENT){const n=Date.now();y().revalidateOnFocus&&n>t&&V()&&(t=n+y().focusThrottleInterval,e())}else if(n==a.revalidateEvents.RECONNECT_EVENT)y().revalidateOnReconnect&&V()&&e();else if(n==a.revalidateEvents.MUTATE_EVENT)return z()}));return _.current=!1,R.current=b,U.current=!0,k({_k:m}),G&&((0,a.isUndefined)(x)||a.IS_SERVER?e():(0,a.rAF)(e)),()=>{_.current=!0,n()}}),[b]),(0,a.useIsomorphicLayoutEffect)((()=>{let e;function t(){const t=(0,a.isFunction)(f)?f(x):f;t&&-1!==e&&(e=setTimeout(n,t))}function n(){w().error||!E&&!y().isVisible()||!g&&!y().isOnline()?t():z(s).then(t)}return t(),()=>{e&&(clearTimeout(e),e=-1)}}),[f,E,g,b]),(0,r.useDebugValue)(j),d&&(0,a.isUndefined)(x)&&b){if(!a.IS_REACT_LEGACY&&a.IS_SERVER)throw new Error("Fallback data is required when using suspense in SSR.");throw C.current=t,T.current=n,_.current=!1,(0,a.isUndefined)(M)?z(s):M}return{mutate:B,get data(){return L.data=!0,j},get error(){return L.error=!0,M},get isValidating(){return L.isValidating=!0,Y},get isLoading(){return L.isLoading=!0,q}}}))}}]);