"use strict";(globalThis.webpackChunk_openmrs_esm_patient_vitals_app=globalThis.webpackChunk_openmrs_esm_patient_vitals_app||[]).push([[509],{6646:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(272),a=i.n(n),r=i(2609),s=i.n(r)()(a());s.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-vitals__vitals-biometrics-form__productiveHeading03___gQfJx,.-esm-patient-vitals__vitals-biometrics-form__title___QUnD7{font-size:var(--cds-heading-03-font-size, 1.25rem);font-weight:var(--cds-heading-03-font-weight, 400);line-height:var(--cds-heading-03-line-height, 1.4);letter-spacing:var(--cds-heading-03-letter-spacing, 0)}.-esm-patient-vitals__vitals-biometrics-form__title___QUnD7{margin:0 .5rem .5rem 0}.-esm-patient-vitals__vitals-biometrics-form__danger___ih6cK{color:#da1e28}.-esm-patient-vitals__vitals-biometrics-form__button___csqIN{height:4rem;display:flex;align-content:flex-start;align-items:baseline;min-width:50%}.-esm-patient-vitals__vitals-biometrics-form__tablet___Edl6x{padding:1.5rem 1rem;background-color:#fff}.-esm-patient-vitals__vitals-biometrics-form__desktop___CgX2Q{padding:0rem}.-esm-patient-vitals__vitals-biometrics-form__form___j0Bgp{display:flex;flex-direction:column;justify-content:space-between;height:calc(100vh - 6rem)}.omrs-breakpoint-lt-desktop .-esm-patient-vitals__vitals-biometrics-form__form___j0Bgp{background-color:#ededed}.omrs-breakpoint-gt-tablet .-esm-patient-vitals__vitals-biometrics-form__form___j0Bgp{background-color:#fff}.-esm-patient-vitals__vitals-biometrics-form__grid___YPjPy{margin:1rem}.-esm-patient-vitals__vitals-biometrics-form__row___jpx5U{margin:.5rem 0rem 0rem;display:flex;flex-flow:row wrap;gap:1rem}.-esm-patient-vitals__vitals-biometrics-form__spacer___bjCAy{margin-top:1rem}.-esm-patient-vitals__vitals-biometrics-form__noteInput___Y2UCm{width:100%}.-esm-patient-vitals__vitals-biometrics-form__errorNotification___lQKIv{margin:.5rem 0}.-esm-patient-vitals__vitals-biometrics-form__errorContainer___Bac6P{margin:1rem}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/vitals-biometrics-form/vitals-biometrics-form.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CClDF,sIC61BI,kDAAA,CAAA,kDAAA,CAAA,kDAAA,CAAA,sDAAA,CDz1BJ,4DAEE,sBAAA,CAGF,6DACE,aDKO,CCFT,6DACE,WAAA,CACA,YAAA,CACA,wBAAA,CACA,oBAAA,CACA,aAAA,CAGF,6DACE,mBAAA,CACA,qBD3BM,CC8BR,8DACE,YAAA,CAGF,2DACE,YAAA,CACA,qBAAA,CACA,6BAAA,CACA,yBAAA,CAGF,uFACE,wBAAA,CAGF,sFACE,qBD9CM,CCiDR,2DACE,WAAA,CAGF,0DACE,sBAAA,CACA,YAAA,CACA,kBAAA,CACA,QAAA,CAGF,6DACE,eAAA,CAGF,gEACE,UAAA,CAGF,wEACE,cAAA,CAGF,qEACE,WAAA",sourceRoot:""}]),s.locals={productiveHeading03:"-esm-patient-vitals__vitals-biometrics-form__productiveHeading03___gQfJx",title:"-esm-patient-vitals__vitals-biometrics-form__title___QUnD7",danger:"-esm-patient-vitals__vitals-biometrics-form__danger___ih6cK",button:"-esm-patient-vitals__vitals-biometrics-form__button___csqIN",tablet:"-esm-patient-vitals__vitals-biometrics-form__tablet___Edl6x",desktop:"-esm-patient-vitals__vitals-biometrics-form__desktop___CgX2Q",form:"-esm-patient-vitals__vitals-biometrics-form__form___j0Bgp",grid:"-esm-patient-vitals__vitals-biometrics-form__grid___YPjPy",row:"-esm-patient-vitals__vitals-biometrics-form__row___jpx5U",spacer:"-esm-patient-vitals__vitals-biometrics-form__spacer___bjCAy",noteInput:"-esm-patient-vitals__vitals-biometrics-form__noteInput___Y2UCm",errorNotification:"-esm-patient-vitals__vitals-biometrics-form__errorNotification___lQKIv",errorContainer:"-esm-patient-vitals__vitals-biometrics-form__errorContainer___Bac6P"};const o=s},8956:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(272),a=i.n(n),r=i(2609),s=i.n(r)()(a());s.push([e.id,':root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.-esm-patient-vitals__vitals-biometrics-input__label01___fxFPP,.-esm-patient-vitals__vitals-biometrics-input__label___whuuP{font-size:var(--cds-label-01-font-size, 0.75rem);font-weight:var(--cds-label-01-font-weight, 400);line-height:var(--cds-label-01-line-height, 1.33333);letter-spacing:var(--cds-label-01-letter-spacing, 0.32px)}.-esm-patient-vitals__vitals-biometrics-input__bodyLong01___HtCqM,.-esm-patient-vitals__vitals-biometrics-input__textarea___d5tte{font-size:var(--cds-body-01-font-size, 0.875rem);font-weight:var(--cds-body-01-font-weight, 400);line-height:var(--cds-body-01-line-height, 1.42857);letter-spacing:var(--cds-body-01-letter-spacing, 0.16px)}.-esm-patient-vitals__vitals-biometrics-input__productiveHeading04___KQhno,.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5,.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H{font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0)}.-esm-patient-vitals__vitals-biometrics-input__container___JjP0j{width:11.625rem;border-bottom:1px solid #8d8d8d;margin-bottom:.5rem}.-esm-patient-vitals__vitals-biometrics-input__label___whuuP{color:#525252;margin-bottom:.5rem}.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H{border:none;text-align:center;padding:0;color:#161616}.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H .cds--number input[type="number"]{border:none !important;text-align:center;font-size:var(--cds-heading-04-font-size, 1.75rem);font-weight:var(--cds-heading-04-font-weight, 400);line-height:var(--cds-heading-04-line-height, 1.28572);letter-spacing:var(--cds-heading-04-letter-spacing, 0);font-family:ibm plex sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif;min-width:auto !important}.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H .cds--number--nosteppers input[type="number"]{padding-right:1rem !important}.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H ::placeholder{color:#a8a8a8}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5{height:4.875rem;display:flex;justify-content:center;flex-direction:column;text-align:center;color:#525252;background-color:#f4f4f4}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.-esm-patient-vitals__vitals-biometrics-input__focused___PbP7o{outline:2px solid #0f62fe}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.-esm-patient-vitals__vitals-biometrics-input__focused___PbP7o input{outline:none !important}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.-esm-patient-vitals__vitals-biometrics-input__focused___PbP7o input[data-invalid]:not(:focus){outline:none}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.-esm-patient-vitals__vitals-biometrics-input__focused___PbP7o svg{display:none}.omrs-breakpoint-lt-desktop .-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5{background-color:#fff}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.red{background-color:#ffd7d9}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.red input{background-color:#ffd7d9}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.green{background-color:#a7f0ba}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.green input{background-color:#a7f0ba}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.yellow{background-color:#fcf4d6}.-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5.yellow input{background-color:#fcf4d6}.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H svg{display:none}.-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H input[data-invalid]:not(:focus){outline:none !important}.-esm-patient-vitals__vitals-biometrics-input__textarea___d5tte{border:none;text-align:left}.-esm-patient-vitals__vitals-biometrics-input__textarea___d5tte textarea{border-bottom:none}.-esm-patient-vitals__vitals-biometrics-input__textarea___d5tte textarea:focus{outline:none}.-esm-patient-vitals__vitals-biometrics-input__centered___j1SEm{display:flex;flex-direction:row;align-items:center;text-align:center;margin:0;padding:0}.-esm-patient-vitals__vitals-biometrics-input__unitName___Rq1MA{font-size:var(--cds-body-compact-01-font-size, 0.875rem);font-weight:var(--cds-body-compact-01-font-weight, 400);line-height:var(--cds-body-compact-01-line-height, 1.28572);letter-spacing:var(--cds-body-compact-01-letter-spacing, 0.16px);color:#525252;margin-top:.5rem}.-esm-patient-vitals__vitals-biometrics-input__invalidInputError___mly_U{max-width:11rem;color:#da1e28;margin-bottom:.5rem}.-esm-patient-vitals__vitals-biometrics-input__layer___zLTik{width:100%}.-esm-patient-vitals__vitals-biometrics-input__labelContainer___QWa8X{display:flex;justify-content:space-between;align-items:center}.-esm-patient-vitals__vitals-biometrics-input__invalidInput___s_o1F{outline:2px solid #da1e28}.-esm-patient-vitals__vitals-biometrics-input__invalidInput___s_o1F.-esm-patient-vitals__vitals-biometrics-input__focused___PbP7o{border:none}.-esm-patient-vitals__vitals-biometrics-input__invalidInputIcon___iNfZl svg{color:#da1e28}.-esm-patient-vitals__vitals-biometrics-input__critical-value___rq6_n{background-color:#fff1f1}.-esm-patient-vitals__vitals-biometrics-input__critical-value___rq6_n .-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H svg{display:none}.-esm-patient-vitals__vitals-biometrics-input__critical-value___rq6_n .-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H input{background-color:#fff1f1}.-esm-patient-vitals__vitals-biometrics-input__critical-value___rq6_n .-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H input[data-invalid]:not(:focus){outline:none}.-esm-patient-vitals__vitals-biometrics-input__critically-low___lZYh0::after,.-esm-patient-vitals__vitals-biometrics-input__critically-high___EWkB8::after,.-esm-patient-vitals__vitals-biometrics-input__low___hxzKT::after,.-esm-patient-vitals__vitals-biometrics-input__high___oxDFD::after{font-size:var(--cds-heading-compact-01-font-size, 0.875rem);font-weight:var(--cds-heading-compact-01-font-weight, 600);line-height:var(--cds-heading-compact-01-line-height, 1.28572);letter-spacing:var(--cds-heading-compact-01-letter-spacing, 0.16px);color:#525252}.-esm-patient-vitals__vitals-biometrics-input__low___hxzKT::after{content:" ↓"}.-esm-patient-vitals__vitals-biometrics-input__critically-low___lZYh0::after{content:" ↓↓"}.-esm-patient-vitals__vitals-biometrics-input__high___oxDFD::after{content:" ↑"}.-esm-patient-vitals__vitals-biometrics-input__critically-high___EWkB8::after{content:" ↑↑"}.-esm-patient-vitals__vitals-biometrics-input__inputInTabletView___ERAUV.-esm-patient-vitals__vitals-biometrics-input__inputWithAbnormalValue___zDuMi .-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5{background-color:#ffd7d9}.-esm-patient-vitals__vitals-biometrics-input__inputInTabletView___ERAUV.-esm-patient-vitals__vitals-biometrics-input__inputWithAbnormalValue___zDuMi .-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5 .-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H input{background-color:#ffd7d9;outline:none}.-esm-patient-vitals__vitals-biometrics-input__readonly___eIXit{cursor:default}.omrs-breakpoint-lt-desktop .-esm-patient-vitals__vitals-biometrics-input__readonly___eIXit{background-color:#f4f4f4}.omrs-breakpoint-gt-tablet .-esm-patient-vitals__vitals-biometrics-input__readonly___eIXit{background-color:#fff}',"",{version:3,sources:["webpack://./src/vitals-biometrics-form/vitals-biometrics-input.scss","webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./../../node_modules/@carbon/type/scss/_styles.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss","webpack://./../../node_modules/@carbon/colors/index.scss"],names:[],mappings:"AAAA,MCoDA,mBACE,CAAA,mBACA,CAAA,mBACA,CAAA,4HDlDF,gDE61BI,CAAA,gDAAA,CAAA,oDAAA,CAAA,yDAAA,CAAA,kIFz1BJ,gDEy1BI,CAAA,+CAAA,CAAA,mDAAA,CAAA,wDAAA,CAAA,oNFr1BJ,kDEq1BI,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CAAA,iEFj1BJ,eACE,CAAA,+BACA,CAAA,mBGEW,CAAA,6DHEb,aClBU,CAAA,mBEgBG,CAAA,mEHQb,WACE,CAAA,iBAEA,CAAA,SACA,CAAA,aC7BM,CAAA,qGDgCN,sBACE,CAAA,iBACA,CAAA,kDE4zBA,CAAA,kDAAA,CAAA,sDAAA,CAAA,sDAAA,CAAA,mGF1zBA,CAAA,yBACA,CAAA,iHAGF,6BACE,CAAA,iFAGF,aC1CQ,CAAA,sED+CV,eAEE,CAAA,YACA,CAAA,sBACA,CAAA,qBACA,CAAA,iBACA,CAAA,aCtDQ,CAAA,wBALF,CAAA,oID+DN,yBACE,CAAA,0IAEA,uBACE,CAAA,oKAGF,YACE,CAAA,wIAGF,YACE,CAAA,kGAKN,qBC/EQ,CAAA,0EDoFN,wBIQO,CAAA,gFJLL,wBIKK,CAAA,4EAAA,wBAxCE,CAAA,kFJ2CP,wBI3CO,CAAA,6EJgDT,wBIsBU,CAAA,mFJpBP,wBIoBO,CAAA,uEJbV,YACE,CAAA,mGAGF,uBACE,CAAA,gEAIJ,WACE,CAAA,eAEA,CAAA,yEAEA,kBACE,CAAA,+EAEA,YACE,CAAA,gEAKN,YACE,CAAA,kBACA,CAAA,kBACA,CAAA,iBACA,CAAA,QACA,CAAA,SACA,CAAA,gEAGF,wDEotBI,CAAA,uDAAA,CAAA,2DAAA,CAAA,gEAAA,CAAA,aD71BM,CAAA,gBEgBG,CAAA,yEH+Hb,eACE,CAAA,aCjIO,CAAA,mBECI,CAAA,6DHqIb,UACE,CAAA,sEAGF,YACE,CAAA,6BACA,CAAA,kBACA,CAAA,oEAGF,yBACE,CAAA,kIAEA,WACE,CAAA,4EAKF,aCzJO,CAAA,sED8JT,wBItFS,CAAA,6IJyFL,YACE,CAAA,+IAGF,wBI7FK,CAAA,yKJiGL,YACE,CAAA,gSAOJ,2DE6pBE,CAAA,0DAAA,CAAA,8DAAA,CAAA,mEAAA,CAAA,aD71BM,CAAA,kEDsMV,YACE,CAAA,6EAGF,aACE,CAAA,mEAGF,YACE,CAAA,8EAGF,aACE,CAAA,4NAKE,wBIhIK,CAAA,qSJoID,wBIpIC,CAAA,YJsIC,CAAA,gEAOV,cACE,CAAA,4FAGF,wBIpMU,CAAA,2FJwMV,qBIxHU",sourceRoot:""}]),s.locals={label01:"-esm-patient-vitals__vitals-biometrics-input__label01___fxFPP",label:"-esm-patient-vitals__vitals-biometrics-input__label___whuuP",bodyLong01:"-esm-patient-vitals__vitals-biometrics-input__bodyLong01___HtCqM",textarea:"-esm-patient-vitals__vitals-biometrics-input__textarea___d5tte",productiveHeading04:"-esm-patient-vitals__vitals-biometrics-input__productiveHeading04___KQhno",inputContainer:"-esm-patient-vitals__vitals-biometrics-input__inputContainer___XEqJ5",numberInput:"-esm-patient-vitals__vitals-biometrics-input__numberInput___Hww8H",container:"-esm-patient-vitals__vitals-biometrics-input__container___JjP0j",focused:"-esm-patient-vitals__vitals-biometrics-input__focused___PbP7o",centered:"-esm-patient-vitals__vitals-biometrics-input__centered___j1SEm",unitName:"-esm-patient-vitals__vitals-biometrics-input__unitName___Rq1MA",invalidInputError:"-esm-patient-vitals__vitals-biometrics-input__invalidInputError___mly_U",layer:"-esm-patient-vitals__vitals-biometrics-input__layer___zLTik",labelContainer:"-esm-patient-vitals__vitals-biometrics-input__labelContainer___QWa8X",invalidInput:"-esm-patient-vitals__vitals-biometrics-input__invalidInput___s_o1F",invalidInputIcon:"-esm-patient-vitals__vitals-biometrics-input__invalidInputIcon___iNfZl","critical-value":"-esm-patient-vitals__vitals-biometrics-input__critical-value___rq6_n","critically-low":"-esm-patient-vitals__vitals-biometrics-input__critically-low___lZYh0","critically-high":"-esm-patient-vitals__vitals-biometrics-input__critically-high___EWkB8",low:"-esm-patient-vitals__vitals-biometrics-input__low___hxzKT",high:"-esm-patient-vitals__vitals-biometrics-input__high___oxDFD",inputInTabletView:"-esm-patient-vitals__vitals-biometrics-input__inputInTabletView___ERAUV",inputWithAbnormalValue:"-esm-patient-vitals__vitals-biometrics-input__inputWithAbnormalValue___zDuMi",readonly:"-esm-patient-vitals__vitals-biometrics-input__readonly___eIXit"};const o=s},4509:(e,t,i)=>{i.r(t),i.d(t,{default:()=>X});var n=i(268),a=i.n(n),r=i(3955),s=i(4924),o=i(195),l=i(8883),_=i(9716),c=i(2870),u=i(2821),m=i(537),A=i.n(m);function p(e,t,i){var n=null==e?void 0:e.find((function(e){return e.uuid===t}));return void 0===i||""===i||void 0===n||!A()(null==n?void 0:n.lowAbsolute)||!A()(null==n?void 0:n.hiAbsolute)||Number(i)>=Number(n.lowAbsolute)&&Number(i)<=Number(n.hiAbsolute)}var d=i(9454),v=i(2779),b=i.n(v),g=i(6615),f=i(321),C=i.n(f),h=i(1195),E=i.n(h),y=i(3275),w=i.n(y),B=i(7162),I=i.n(B),x=i(2094),k=i.n(x),U=i(757),D=i.n(U),R=i(8956),P={};P.styleTagTransform=D(),P.setAttributes=I(),P.insert=w().bind(null,"head"),P.domAPI=E(),P.insertStyleElement=k(),C()(R.Z,P);const F=R.Z&&R.Z.locals?R.Z.locals:void 0;function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function S(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function G(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),n.forEach((function(t){S(e,t,i[t])}))}return e}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r=[],s=!0,o=!1;try{for(i=i.call(e);!(s=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==i.return||i.return()}finally{if(o)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?N(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e){var t=e.children;return e.isTablet?a().createElement(_.mh4,{className:F.layer},t," "):a().createElement(n.Fragment,null,t)}const q=function(e){var t,i,o=e.control,l=e.fieldProperties,u=e.fieldStyles,m=e.fieldWidth,A=e.interpretation,p=e.isValueWithinReferenceRange,v=void 0===p||p,f=e.label,C=e.muacColorCode,h=e.placeholder,E=e.readOnly,y=e.showErrorMessage,w=e.unitSymbol,B=e.useMuacColors,I=function(e){J(e)},x=(0,s.useTranslation)().t,k=(0,n.useId)(),U="tablet"===(0,c.useLayoutType)(),D=M((0,n.useState)(!1),2),R=D[0],P=D[1],N=M((0,n.useState)(!1),2),q=N[0],J=N[1],V=!q&&A&&["critically_low","critically_high","high","low"].includes(A),z=Boolean(y&&(!v||R)),j=z?F.invalidInput:"",T=b()(F.container,(S(t={},F.inputInTabletView,U),S(t,F.inputWithAbnormalValue,V),t)),W=b()(F.inputContainer,(S(i={},F["critical-value"],V),S(i,F.focused,q),S(i,F.readonly,E),S(i,C,B),S(i,j,!0),i));return a().createElement(a().Fragment,null,a().createElement("div",{className:T,style:{width:m}},a().createElement("section",{className:F.labelContainer},a().createElement("span",{className:F.label},f),Boolean(V)?a().createElement("span",{className:F[A.replace("_","-")],title:x("abnormalValue","Abnormal value")}):null,z?a().createElement("span",{className:F.invalidInputIcon},a().createElement(g.v3,null)):null),a().createElement("section",{className:W,style:G({},u)},a().createElement("div",{className:F.centered},l.map((function(e){if("number"===e.type){var t=b()(F.numberInput,e.className);return a().createElement(n.Fragment,{key:e.id},a().createElement(H,{isTablet:U},a().createElement(r.Qr,{name:e.id,control:o,render:function(i){var n,r,s=i.field,o=s.onChange,l=s.ref,c=s.value;return a().createElement(_.Y2U,{allowEmpty:!0,className:t,defaultValue:"",disableWheel:!0,hideSteppers:!0,id:"".concat(k,"-").concat(e.id),max:null!==(n=e.max)&&void 0!==n?n:void 0,min:null!==(r=e.min)&&void 0!==r?r:void 0,name:e.name,onBlur:function(){return I(!1)},onChange:function(e){return function(e,t){P(!(Number(e)||""===e)),R||t(""===e?void 0:Number(e))}(e.target.value,o)},onFocus:function(){return I(!0)},placeholder:(0,d.IZ)(e.name),readOnly:E,ref:l,style:G({},u),title:e.name,type:e.type,value:c})}})),null==e?void 0:e.separator)}if("textarea"===e.type)return a().createElement(H,{key:e.id,isTablet:U},a().createElement(r.Qr,{name:e.id,control:o,render:function(t){var i=t.field,n=i.onChange,r=i.ref,s=i.value;return a().createElement(_.Kx8,{className:F.textarea,id:"".concat(k,"-").concat(e.id),labelText:"",maxCount:100,name:e.name,onBlur:function(){return I(!1)},onChange:n,onFocus:function(){return I(!0)},placeholder:h,ref:r,rows:2,style:G({},u),title:e.name,value:s})}}))}))),Boolean(w)&&a().createElement("p",{className:F.unitName},w))),z&&a().createElement(_.lXp,{className:F.invalidInputError},x("validationInputError","Value must be between {{min}} and {{max}}",{min:l[0].min,max:l[0].max})))};var J=i(6646),V={};V.styleTagTransform=D(),V.setAttributes=I(),V.insert=w().bind(null,"head"),V.domAPI=E(),V.insertStyleElement=k(),C()(J.Z,V);const z=J.Z&&J.Z.locals?J.Z.locals:void 0;function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r=[],s=!0,o=!1;try{for(i=i.call(e);!(s=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==i.return||i.return()}finally{if(o)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?j(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var W=o.z.object({systolicBloodPressure:o.z.number(),diastolicBloodPressure:o.z.number(),respiratoryRate:o.z.number(),oxygenSaturation:o.z.number(),pulse:o.z.number(),temperature:o.z.number(),generalPatientNote:o.z.string(),weight:o.z.number(),height:o.z.number(),midUpperArmCircumference:o.z.number(),computedBodyMassIndex:o.z.number()}).partial().refine((function(e){return Object.values(e).some((function(e){return Boolean(e)}))}),{message:"Please fill at least one field",path:["oneFieldRequired"]});const X=function(e){var t,i,o,m,A,v,b,g,f,C,h,E,y,w,B,I,x,k,U,D,R,P=e.patientUuid,F=e.closeWorkspace,N=e.closeWorkspaceWithSavedChanges,S=e.promptBeforeClosing,G=(0,s.useTranslation)().t,M="tablet"===(0,c.useLayoutType)(),H=(0,c.useConfig)(),J=H.biometrics,V=H.vitals.useMuacColors,j=(0,c.useSession)(),X=(0,c.usePatient)(P),Q=(0,c.useVisit)(P).currentVisit,K=(0,u.useVitalsConceptMetadata)(),O=K.data,Y=K.conceptMetadata,L=K.conceptRanges,Z=K.isLoading,$=(K.isError,T((0,n.useState)(!1),2)),ee=$[0],te=$[1],ie=T((0,n.useState)(!1),2),ne=ie[0],ae=ie[1],re=T((0,n.useState)(""),2),se=re[0],oe=re[1],le=T((0,n.useState)(!1),2),_e=le[0],ce=le[1],ue=T((0,n.useState)(!1),2),me=ue[0],Ae=ue[1],pe=(0,r.cI)({mode:"all",resolver:(0,l.F)(W)}),de=pe.control,ve=pe.handleSubmit,be=pe.watch,ge=pe.setValue,fe=pe.formState.isDirty;(0,n.useEffect)((function(){S((function(){return fe}))}),[fe]);var Ce=null==Q||null===(i=Q.encounters)||void 0===i||null===(t=i.find((function(e){var t;return(null==e||null===(t=e.form)||void 0===t?void 0:t.uuid)===H.vitals.formUuid})))||void 0===t?void 0:t.uuid,he=be("midUpperArmCircumference"),Ee=be("systolicBloodPressure"),ye=be("diastolicBloodPressure"),we=be("respiratoryRate"),Be=be("oxygenSaturation"),Ie=be("temperature"),xe=be("pulse"),ke=be("weight"),Ue=be("height");(0,n.useEffect)((function(){var e,t,i;!function(e,t,i){switch(!0){case e<=5&&t<=11.5&&t>0:i("red");break;case e<5&&t>11.5&&t<12.5:i("yellow");break;case e<5&&t>12.5:i("green");break;case e>5&&e<10&&t<=13.5&&t>0:i("red");break;case e>5&&e<10&&t>13.5&&t<14.5:i("yellow");break;case e>5&&e<10&&t>14.5:i("green");break;case e>10&&e<18&&t<=16.5&&t>0:i("red");break;case e>10&&e<18&&t>16.5&&t<19:i("yellow");break;case e>10&&e<18&&t>19:i("green");break;case e>18&&t<=19.5&&t>0:i("red");break;case e>18&&t>19&&t<22:i("yellow");break;case e>18&&t>22:i("green")}}((t=(0,c.age)(null===(e=X.patient)||void 0===e?void 0:e.birthDate),i=t.match(/\d+/g),i?parseInt(i[0],10):null),he,oe)}),[be,null===(o=X.patient)||void 0===o?void 0:o.birthDate,he]),(0,n.useEffect)((function(){if(Ue&&ke){var e=function(e,t){if(e&&t)return e>0&&t>0?Number((e/Math.pow(t/100,2)).toFixed(1)):void 0}(ke,Ue);ge("computedBodyMassIndex",e)}}),[ke,Ue,ge]);var De,Re,Pe,Fe,Ne,Se,Ge,Me,He,qe=(0,n.useMemo)((function(){return{midUpperArmCircumferenceRange:L.get(H.concepts.midUpperArmCircumferenceUuid),diastolicBloodPressureRange:L.get(H.concepts.diastolicBloodPressureUuid),systolicBloodPressureRange:L.get(H.concepts.systolicBloodPressureUuid),oxygenSaturationRange:L.get(H.concepts.oxygenSaturationUuid),respiratoryRateRange:L.get(H.concepts.respiratoryRateUuid),temperatureRange:L.get(H.concepts.temperatureUuid),weightRange:L.get(H.concepts.weightUuid),heightRange:L.get(H.concepts.heightUuid),pulseRange:L.get(H.concepts.pulseUuid)}}),[L,H.concepts.diastolicBloodPressureUuid,H.concepts.heightUuid,H.concepts.midUpperArmCircumferenceUuid,H.concepts.oxygenSaturationUuid,H.concepts.pulseUuid,H.concepts.respiratoryRateUuid,H.concepts.systolicBloodPressureUuid,H.concepts.temperatureUuid,H.concepts.weightUuid]),Je=(0,n.useCallback)((function(e){var t=e;Ae(!0),ce(!1),(null==e?void 0:e.computedBodyMassIndex)&&delete e.computedBodyMassIndex;var i=Object.entries(t).filter((function(e){var t=T(e,2)[1];return Boolean(t)})).every((function(e){var t=T(e,2),i=t[0],n=t[1];return p(Y,H.concepts["".concat(i,"Uuid")],n)}));if(i){var n;ae(!0),Ae(!1);var a=new AbortController;(0,d.F9)(H.vitals.encounterTypeUuid,H.vitals.formUuid,H.concepts,P,t,new Date,a,null==j||null===(n=j.sessionLocation)||void 0===n?void 0:n.uuid).then((function(e){201===e.status&&((0,d.$2)(),N(),(0,c.showSnackbar)({isLowContrast:!0,kind:"success",title:G("vitalsAndBiometricsRecorded","Vitals and Biometrics saved"),subtitle:G("vitalsAndBiometricsNowAvailable","They are now visible on the Vitals and Biometrics page")}))})).catch((function(e){ae(!1),(0,c.createErrorHandler)(),(0,c.showSnackbar)({title:G("vitalsAndBiometricsSaveError","Error saving vitals and biometrics"),kind:"error",isLowContrast:!1,subtitle:G("checkForValidity","Some of the values entered are invalid")})})).finally((function(){a.abort()}))}else te(!0)}),[]);return H.vitals.useFormEngine?a().createElement(c.ExtensionSlot,{name:"form-widget-slot",state:{view:"form",formUuid:H.vitals.formUuid,visitUuid:null==Q?void 0:Q.uuid,visitTypeUuid:null==Q||null===(De=Q.visitType)||void 0===De?void 0:De.uuid,patientUuid:null!=P?P:null,patient:X,encounterUuid:Ce,closeWorkspaceWithSavedChanges:N}}):Z?a().createElement(_.l09,{className:z.form},a().createElement("div",{className:z.grid},a().createElement(_.Kqy,null,a().createElement(_.sgG,null,a().createElement("p",{className:z.title},G("recordVitals","Record vitals"))),a().createElement(_.X2j,{className:z.row},a().createElement(_.sgG,null,a().createElement(_.iJ5,null)),a().createElement(_.sgG,null,a().createElement(_.iJ5,null)),a().createElement(_.sgG,null,a().createElement(_.iJ5,null)),a().createElement(_.sgG,null,a().createElement(_.iJ5,null))))),a().createElement(_.uVA,{className:M?z.tablet:z.desktop},a().createElement(_.Db,{className:z.button}),a().createElement(_.Db,{className:z.button,type:"submit"}))):a().createElement(_.l09,{className:z.form},a().createElement("div",{className:z.grid},a().createElement(_.Kqy,null,a().createElement(_.sgG,null,a().createElement("p",{className:z.title},G("recordVitals","Record vitals"))),a().createElement(_.X2j,{className:z.row},a().createElement(_.sgG,null,a().createElement(q,{control:de,fieldProperties:[{id:"temperature",max:null===(m=qe.temperatureRange)||void 0===m?void 0:m.highAbsolute,min:null===(A=qe.temperatureRange)||void 0===A?void 0:A.lowAbsolute,name:G("temperature","Temperature"),type:"number"}],interpretation:Ie&&(0,d.wA)(Ie,(0,d.tQ)(H.concepts.temperatureUuid,Y)),isValueWithinReferenceRange:!Ie||p(Y,H.concepts.temperatureUuid,Ie),showErrorMessage:me,label:G("temperature","Temperature"),unitSymbol:null!==(Re=O.get(H.concepts.temperatureUuid))&&void 0!==Re?Re:""})),a().createElement(_.sgG,null,a().createElement(q,{control:de,fieldProperties:[{name:G("systolic","systolic"),separator:"/",type:"number",min:null===(v=qe.systolicBloodPressureRange)||void 0===v?void 0:v.lowAbsolute,max:null===(b=qe.systolicBloodPressureRange)||void 0===b?void 0:b.highAbsolute,id:"systolicBloodPressure"},{name:G("diastolic","diastolic"),type:"number",min:null===(g=qe.diastolicBloodPressureRange)||void 0===g?void 0:g.lowAbsolute,max:null===(f=qe.diastolicBloodPressureRange)||void 0===f?void 0:f.highAbsolute,id:"diastolicBloodPressure"}],interpretation:Ee&&ye&&(0,d.WK)(Ee,ye,H.concepts,Y),isValueWithinReferenceRange:Ee&&ye&&p(Y,H.concepts.systolicBloodPressureUuid,Ee)&&p(Y,H.concepts.diastolicBloodPressureUuid,ye),showErrorMessage:me,label:G("bloodPressure","Blood pressure"),unitSymbol:null!==(Pe=O.get(H.concepts.systolicBloodPressureUuid))&&void 0!==Pe?Pe:""})),a().createElement(_.sgG,null,a().createElement(q,{control:de,fieldProperties:[{name:G("pulse","Pulse"),type:"number",min:null===(C=qe.pulseRange)||void 0===C?void 0:C.lowAbsolute,max:null===(h=qe.pulseRange)||void 0===h?void 0:h.highAbsolute,id:"pulse"}],interpretation:xe&&(0,d.wA)(xe,(0,d.tQ)(H.concepts.pulseUuid,Y)),isValueWithinReferenceRange:xe&&p(Y,H.concepts.pulseUuid,xe),label:G("heartRate","Heart rate"),showErrorMessage:me,unitSymbol:null!==(Fe=O.get(H.concepts.pulseUuid))&&void 0!==Fe?Fe:""})),a().createElement(_.sgG,null,a().createElement(q,{control:de,fieldProperties:[{name:G("respirationRate","Respiration rate"),type:"number",min:null===(E=qe.respiratoryRateRange)||void 0===E?void 0:E.lowAbsolute,max:null===(y=qe.respiratoryRateRange)||void 0===y?void 0:y.highAbsolute,id:"respiratoryRate"}],interpretation:we&&(0,d.wA)(we,(0,d.tQ)(H.concepts.respiratoryRateUuid,Y)),isValueWithinReferenceRange:we&&p(Y,H.concepts.respiratoryRateUuid,we),showErrorMessage:me,label:G("respirationRate","Respiration rate"),unitSymbol:null!==(Ne=O.get(H.concepts.respiratoryRateUuid))&&void 0!==Ne?Ne:""})),a().createElement(_.sgG,null,a().createElement(q,{control:de,fieldProperties:[{name:G("oxygenSaturation","Oxygen saturation"),type:"number",min:null===(w=qe.oxygenSaturationRange)||void 0===w?void 0:w.lowAbsolute,max:null===(B=qe.oxygenSaturationRange)||void 0===B?void 0:B.highAbsolute,id:"oxygenSaturation"}],interpretation:Be&&(0,d.wA)(Be,(0,d.tQ)(H.concepts.oxygenSaturationUuid,Y)),isValueWithinReferenceRange:Be&&p(Y,H.concepts.oxygenSaturationUuid,Be),showErrorMessage:me,label:G("spo2","SpO2"),unitSymbol:null!==(Se=O.get(H.concepts.oxygenSaturationUuid))&&void 0!==Se?Se:""}))),a().createElement(_.X2j,{className:z.row},a().createElement(_.sgG,{className:z.noteInput},a().createElement(q,{control:de,fieldWidth:M?"70%":"100%",fieldProperties:[{name:G("notes","Notes"),type:"textarea",id:"generalPatientNote"}],placeholder:G("additionalNoteText","Type any additional notes here"),label:G("notes","Notes")})))),a().createElement(_.Kqy,{className:z.spacer},a().createElement(_.sgG,null,a().createElement("p",{className:z.title},G("recordBiometrics","Record biometrics"))),a().createElement(_.X2j,{className:z.row},a().createElement(_.sgG,null,a().createElement(q,{control:de,fieldProperties:[{name:G("weight","Weight"),type:"number",min:null===(I=qe.weightRange)||void 0===I?void 0:I.lowAbsolute,max:null===(x=qe.weightRange)||void 0===x?void 0:x.highAbsolute,id:"weight"}],interpretation:ke&&(0,d.wA)(ke,(0,d.tQ)(H.concepts.weightUuid,Y)),isValueWithinReferenceRange:Ue&&p(Y,H.concepts.weightUuid,ke),showErrorMessage:me,label:G("weight","Weight"),unitSymbol:null!==(Ge=O.get(H.concepts.weightUuid))&&void 0!==Ge?Ge:""})),a().createElement(_.sgG,null,a().createElement(q,{control:de,fieldProperties:[{name:G("height","Height"),type:"number",min:null===(k=qe.heightRange)||void 0===k?void 0:k.lowAbsolute,max:null===(U=qe.heightRange)||void 0===U?void 0:U.highAbsolute,id:"height"}],interpretation:Ue&&(0,d.wA)(Ue,(0,d.tQ)(H.concepts.heightUuid,Y)),isValueWithinReferenceRange:ke&&p(Y,H.concepts.heightUuid,Ue),showErrorMessage:me,label:G("height","Height"),unitSymbol:null!==(Me=O.get(H.concepts.heightUuid))&&void 0!==Me?Me:""})),a().createElement(_.sgG,null,a().createElement(q,{control:de,fieldProperties:[{name:G("bmi","BMI"),type:"number",id:"computedBodyMassIndex"}],readOnly:!0,label:G("calculatedBmi","BMI (calc.)"),unitSymbol:J.bmiUnit})),a().createElement(_.sgG,null,a().createElement(q,{control:de,fieldProperties:[{name:G("muac","MUAC"),type:"number",min:null===(D=qe.midUpperArmCircumferenceRange)||void 0===D?void 0:D.lowAbsolute,max:null===(R=qe.midUpperArmCircumferenceRange)||void 0===R?void 0:R.highAbsolute,id:"midUpperArmCircumference"}],muacColorCode:se,isValueWithinReferenceRange:Ue&&ke&&p(Y,H.concepts.midUpperArmCircumferenceUuid,he),showErrorMessage:me,label:G("muac","MUAC"),unitSymbol:null!==(He=O.get(H.concepts.midUpperArmCircumferenceUuid))&&void 0!==He?He:"",useMuacColors:V}))))),_e&&a().createElement(_.sgG,{className:z.errorContainer},a().createElement(_.K0D,{lowContrast:!0,title:G("error","Error"),subtitle:G("pleaseFillField","Please fill at least one field")+".",onClose:function(){return ce(!1)}})),ee&&a().createElement(_.sgG,{className:z.errorContainer},a().createElement(_.K0D,{className:z.errorNotification,lowContrast:!1,onClose:function(){return te(!1)},title:G("vitalsAndBiometricsSaveError","Error saving vitals and biometrics"),subtitle:G("checkForValidity","Some of the values entered are invalid")})),a().createElement(_.uVA,{className:M?z.tablet:z.desktop},a().createElement(_.zxk,{className:z.button,kind:"secondary",onClick:F},G("discard","Discard")),a().createElement(_.zxk,{className:z.button,kind:"primary",onClick:ve(Je,(function(e){(null==e?void 0:e.oneFieldRequired)&&ce(!0)})),disabled:ne,type:"submit"},G("saveAndClose","Save and close"))))}}}]);