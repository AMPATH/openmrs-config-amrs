(globalThis.webpackChunk_ampath_esm_preappointment_app=globalThis.webpackChunk_ampath_esm_preappointment_app||[]).push([[635],{7386:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(2001),a=n.n(r),o=n(935),p=n.n(o)()(a());p.push([e.id,".-esm-preappointment__pre-appointment__preAppointment___qW2Y4{margin:1rem;padding:1rem;border:1px solid #dde1e6}.-esm-preappointment__pre-appointment__emptyStateContainer___X_AtK{margin:1rem}","",{version:3,sources:["webpack://./src/pre-appointments/pre-appointment.scss","webpack://./../../node_modules/@carbon/layout/scss/generated/_spacing.scss"],names:[],mappings:"AAGA,8DACE,WC2BW,CD1BX,YC0BW,CDzBX,wBAAA,CAGF,mEACE,WCqBW",sourceRoot:""}]),p.locals={preAppointment:"-esm-preappointment__pre-appointment__preAppointment___qW2Y4",emptyStateContainer:"-esm-preappointment__pre-appointment__emptyStateContainer___X_AtK"};const i=p},3519:(e,t,n)=>{"use strict";n.r(t),n.d(t,{importTranslation:()=>j,preAppointments:()=>W,root:()=>N,startupApp:()=>x});var r=n(1083),a={basicAuthBase64:{_type:r.Type.String,_description:"Basic auth base64 string for the API call e.g Basic someBase64String==",_default:""}},o=n(380),p=n.n(o),i=n(8877);var s=n(2699),l=n(1123),m=n(3150),c=n(5097),u=n(2591),d=n.n(u),g=n(1740),_=n.n(g),f=n(8128),h=n.n(f),A=n(855),b=n.n(A),y=n(3051),v=n.n(y),E=n(3656),P=n.n(E),w=n(7386),C={};C.styleTagTransform=P(),C.setAttributes=b(),C.insert=h().bind(null,"head"),C.domAPI=_(),C.insertStyleElement=v(),d()(w.A,C);const k=w.A&&w.A.locals?w.A.locals:void 0;function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){S(e,t,n[t])}))}return e}var O="@ampath/esm-preappointment-app",B={featureName:"esm-preappointment-app",moduleName:O},j=n(4767),N=(0,r.getSyncLifecycle)((function(){return p().createElement(i.BrowserRouter,{basename:window.getOpenmrsSpaBase()})}),B),W=(0,r.getSyncLifecycle)((function(){var e,t,n=(0,m.useTranslation)().t,a=function(e,t){var n,a=(0,r.useConfig)().basicAuthBase64,o="https://ngx.ampath.or.ke/etl-latest/etl/ml-weekly-predictions?locationUuids=".concat(e,"&yearWeek=").concat(t),p=(0,l.Ay)(o,(function(){return function(e,t){return fetch(e,{headers:{Authorization:t}}).then((function(e){return e.json()}))}(o,a)})),i=p.data,s=p.isLoading,m=p.error,c=p.isValidating;return{preappoinments:null!==(n=null==i?void 0:i.result)&&void 0!==n?n:[],isLoading:s,error:m,isValidating:c}}("08feae7c-1352-11df-a1f1-0026b9348838","2024-W07"),o=a.preappoinments,i=a.isLoading,u=a.error,d=[{key:"ccc_number",header:"CCC Number"},{key:"person_name",header:"Person Name"},{key:"age",header:"Age"}],g=(0,r.usePagination)(o,10),_=g.results,f=g.goTo,h=g.currentPage,A=void 0===h?0:h,b=(0,c.WK)(10,null==o?void 0:o.length,A,null!==(e=null==_?void 0:_.length)&&void 0!==e?e:0).pageSizes,y=void 0===b?[]:b,v=_.map((function(e){var t;return{id:"".concat(e.person_id),ccc_number:e.ccc_number,person_name:null!==(t=e.person_name)&&void 0!==t?t:"--",age:e.age,uuid:e.uuid}}));return i?p().createElement(s.OOb,{headers:d,"aria-label":n("preAppointments","Pre appointments")}):u?p().createElement(r.ErrorState,{error:u,headerTitle:n("preAppointments","Pre appointments")}):(null==o?void 0:o.length)?p().createElement("div",{className:k.preAppointment},p().createElement(s.bQt,{rows:v,headers:d,size:"sm",useZebraStyles:!0},(function(e){var t=e.rows,r=e.headers,a=e.getHeaderProps,o=e.getRowProps,i=e.getTableProps,l=e.getTableContainerProps;return p().createElement(s.K3K,T({title:n("preAppointments","Pre-Appointments"),description:n("preAppointmentDescription","Pre-appointments for the selected week")},l()),p().createElement(s.XIK,i(),p().createElement(s.ndF,null,p().createElement(s.Hjg,null,r.map((function(e){return p().createElement(s.A0N,T({key:e.key},a({header:e})),e.header)})))),p().createElement(s.BFY,null,t.map((function(e,t){return p().createElement(s.Hjg,T({key:e.id},o({row:e})),e.cells.map((function(e){return p().createElement(s.nA6,{key:e.id},e.value)})))})))))})),p().createElement(s.dKS,{backwardText:"Previous page",forwardText:"Next page",itemsPerPageText:"Items per page:",onChange:function(e){var t=e.page;return f(t)},page:null!=A?A:0,pageSize:10,pageSizes:null!=y?y:[],size:"md",totalItems:null!==(t=null==o?void 0:o.length)&&void 0!==t?t:0})):p().createElement("div",{className:k.emptyStateContainer},p().createElement(c.pp,{headerTitle:n("preAppointments","Pre appointments"),displayText:n("preAppointments","Pre appointments")}))}),B);function x(){(0,r.defineConfigSchema)(O,a)}},4767:(e,t,n)=>{var r={"./en.json":[4300,300]};function a(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((()=>n(a)))}a.keys=()=>Object.keys(r),a.id=4767,e.exports=a}}]);